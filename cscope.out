cscope 15 $HOME/memtest86+-4.20               0000443391
	@config.c

10 
	~"‹¡.h
"

11 
	~"sü“n_bufãr.h
"

12 
	~"cÚŒŞËr.h
"

13 
	~"dmi.h
"

14 
	#ITER
 20

	)

16 
ba
, 
b“pmode
;

17 
t£q
seq[];

18 
e820_Ä
;

19 
memsz_mode
;

20 
fšd_ticks_fÜ_·ss
();

23 
	g§ve
[2][
POP_H
][
POP_W
];

24 
	g§ve2
[2][
POP2_H
][
POP2_W
];

26 
	$g‘_cÚfig
()

28 
æag
 = 0, 
sæag
 = 0, 
i
, 
´t
 = 0;

29 
»´št_sü“n
 = 0;

30 
ulÚg
 
·ge
;

32 
	`pİup
();

33 
	`wa™_keyup
();

34 !
æag
) {

35 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Settings:");

36 
	`ıršt
(
POP_Y
+3, 
POP_X
+6, "(1) Test Selection");

37 
	`ıršt
(
POP_Y
+4, 
POP_X
+6, "(2) Address Range");

38 
	`ıršt
(
POP_Y
+5, 
POP_X
+6, "(3) Memory Sizing");

39 
	`ıršt
(
POP_Y
+6, 
POP_X
+6, "(4) Error Report Mode");

40 
	`ıršt
(
POP_Y
+7, 
POP_X
+6, "(5) Show DMI Memory Info");

41 
	`ıršt
(
POP_Y
+8, 
POP_X
+6, "(6) ECC Mode");

42 
	`ıršt
(
POP_Y
+9, 
POP_X
+6, "(7) Restart");

43 
	`ıršt
(
POP_Y
+10, 
POP_X
+6, "(8) Refresh Screen");

44 
	`ıršt
(
POP_Y
+11, 
POP_X
+6, "(9) Display SPD Data");

45 
	`ıršt
(
POP_Y
+12, 
POP_X
+6, "(0) Continue");

49 
sæag
 = 0;

50 
	`g‘_key
()) {

53 
	`pİş—r
();

54 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Test Selection:");

55 
	`ıršt
(
POP_Y
+3, 
POP_X
+6, "(1) Default Tests");

56 
	`ıršt
(
POP_Y
+4, 
POP_X
+6, "(2) Skip Current Test");

57 
	`ıršt
(
POP_Y
+5, 
POP_X
+6, "(3) Select Test");

58 
	`ıršt
(
POP_Y
+6, 
POP_X
+6, "(4) Select Bit Fade Test");

60 
	`ıršt
(
POP_Y
+8, 
POP_X
+6, "(0) Continue");

61 ià(
v
->
‹¡£l
 < 0) {

62 
	`ıršt
(
POP_Y
+3, 
POP_X
+5, ">");

64 
	`ıršt
(
POP_Y
+5, 
POP_X
+5, ">");

66 
	`wa™_keyup
();

67 !
sæag
) {

68 
	`g‘_key
()) {

71 ià(
v
->
‹¡£l
 >= 9) {

72 
ba
++;

74 
v
->
‹¡£l
 = -1;

75 
	`fšd_ticks_fÜ_·ss
();

76 
sæag
++;

77 
	`ıršt
(
LINE_INFO
, 
COL_TST
, "Std");

81 
ba
++;

82 
sæag
++;

86 
	`pİş—r
();

87 
	`ıršt
(
POP_Y
+1, 
POP_X
+3,

89 
	`ıršt
(
POP_Y
+4, 
POP_X
+5,

91 
i
 = 
	`g‘v®
(
POP_Y
+4, 
POP_X
+24, 0);

92 ià(
i
 <= 9) {

93 ià(
i
 !ğ
v
->
‹¡£l
) {

94 
v
->
·ss
 = -1;

95 
v
->
‹¡
 = -1;

97 
v
->
‹¡£l
 = 
i
;

99 
	`fšd_ticks_fÜ_·ss
();

100 
sæag
++;

101 
ba
++;

102 
	`ıršt
(
LINE_INFO
, 
COL_TST
, "#");

103 
	`d´št
(
LINE_INFO
, 
COL_TST
+1, 
i
, 2, 1);

106 ià(
v
->
‹¡£l
 != 9) {

107 
v
->
·ss
 = -1;

108 
v
->
‹¡
 = -1;

110 
v
->
‹¡£l
 = 9;

111 
	`fšd_ticks_fÜ_·ss
();

112 
sæag
++;

113 
ba
++;

114 
	`ıršt
(
LINE_INFO
, 
COL_TST
, "#");

115 
	`d´št
(
LINE_INFO
, 
COL_TST
+1, 9, 3, 1);

133 
sæag
++;

137 
	`pİş—r
();

141 
	`pİş—r
();

142 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Test Address Range:");

143 
	`ıršt
(
POP_Y
+3, 
POP_X
+6, "(1) Set Lower Limit");

144 
	`ıršt
(
POP_Y
+4, 
POP_X
+6, "(2) Set Upper Limit");

145 
	`ıršt
(
POP_Y
+5, 
POP_X
+6, "(3) Test All Memory");

146 
	`ıršt
(
POP_Y
+6, 
POP_X
+6, "(0) Continue");

147 
	`wa™_keyup
();

148 !
sæag
) {

149 
	`g‘_key
()) {

152 
	`pİş—r
();

153 
	`ıršt
(
POP_Y
+2, 
POP_X
+4,

155 
	`ıršt
(
POP_Y
+4, 
POP_X
+4,

157 
	`­ršt
(
POP_Y
+4, 
POP_X
+13, 
v
->
¶im_low”
);

158 
	`ıršt
(
POP_Y
+6, 
POP_X
+4,

160 
·ge
 = 
	`g‘v®
(
POP_Y
+6, 
POP_X
+9, 12);

161 ià(
·ge
 + 1 <ğ
v
->
¶im_uµ”
) {

162 
v
->
¶im_low”
 = 
·ge
;

163 
v
->
‹¡
--;

164 
ba
++;

166 
	`adj_mem
();

167 
	`fšd_ticks_fÜ_·ss
();

168 
sæag
++;

172 
	`pİş—r
();

173 
	`ıršt
(
POP_Y
+2, 
POP_X
+4,

175 
	`ıršt
(
POP_Y
+4, 
POP_X
+4,

177 
	`­ršt
(
POP_Y
+4, 
POP_X
+13, 
v
->
¶im_uµ”
);

178 
	`ıršt
(
POP_Y
+6, 
POP_X
+4,

180 
·ge
 = 
	`g‘v®
(
POP_Y
+6, 
POP_X
+9, 12);

181 ià(
·ge
 - 1 >ğ
v
->
¶im_low”
) {

182 
v
->
¶im_uµ”
 = 
·ge
;

183 
v
->
‹¡
--;

184 
ba
++;

186 
	`adj_mem
();

187 
	`fšd_ticks_fÜ_·ss
();

188 
sæag
++;

192 
v
->
¶im_low”
 = 0;

193 
v
->
¶im_uµ”
 = v->
pm­
[v->
m£gs
 - 1].
’d
;

194 
v
->
‹¡
--;

195 
ba
++;

196 
	`adj_mem
();

197 
	`fšd_ticks_fÜ_·ss
();

198 
sæag
++;

203 
sæag
++;

207 
	`pİş—r
();

211 
	`pİş—r
();

212 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Memory Sizing:");

213 
	`ıršt
(
POP_Y
+3, 
POP_X
+6, "(1) BIOS - Std");

214 
	`ıršt
(
POP_Y
+4, 
POP_X
+6, "(2) Probe");

215 
	`ıršt
(
POP_Y
+5, 
POP_X
+6, "(0) Continue");

216 if(!
e820_Ä
){

217 ià(
memsz_mode
 =ğ
SZ_MODE_BIOS
) {

218 
	`ıršt
(
POP_Y
+3, 
POP_X
+5, ">");

220 
	`ıršt
(
POP_Y
+4, 
POP_X
+5, ">");

223 
	`wa™_keyup
();

224 !
sæag
) {

225 
	`g‘_key
()) {

227 
memsz_mode
 = 
SZ_MODE_BIOS
;

228 
	`wa™_keyup
();

229 
	`»¡¬t
();

233 
memsz_mode
 = 
SZ_MODE_PROBE
;

234 
	`wa™_keyup
();

235 
	`»¡¬t
();

241 
sæag
++;

245 
	`pİş—r
();

249 
	`pİş—r
();

250 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Printing Mode:");

251 
	`ıršt
(
POP_Y
+3, 
POP_X
+6, "(1) Error Summary");

252 
	`ıršt
(
POP_Y
+4, 
POP_X
+6, "(2) Individual Errors");

253 
	`ıršt
(
POP_Y
+5, 
POP_X
+6, "(3) BadRAM Patterns");

254 
	`ıršt
(
POP_Y
+6, 
POP_X
+6, "(4) Error Counts Only");

255 
	`ıršt
(
POP_Y
+7, 
POP_X
+6, "(5) DMI Device Name");

256 
	`ıršt
(
POP_Y
+8, 
POP_X
+6, "(6) Beep on Error");

257 
	`ıršt
(
POP_Y
+10, 
POP_X
+6, "(0) Cancel");

258 
	`ıršt
(
POP_Y
+3+
v
->
´štmode
, 
POP_X
+5, ">");

259 ià(
b“pmode
è{ 
	`ıršt
(
POP_Y
+8, 
POP_X
+5, ">"); }

260 
	`wa™_keyup
();

261 !
sæag
) {

262 
	`g‘_key
()) {

265 
v
->
´štmode
=
PRINTMODE_SUMMARY
;

266 
v
->
”ri
.
—dr
 = 0;

267 
v
->
”ri
.
hdr_æag
 = 0;

268 
sæag
++;

272 
v
->
´štmode
=
PRINTMODE_ADDRESSES
;

273 
v
->
”ri
.
—dr
 = 0;

274 
v
->
”ri
.
hdr_æag
 = 0;

275 
v
->
msg_lše
 = 
LINE_SCROLL
-1;

276 
sæag
++;

280 
v
->
´štmode
=
PRINTMODE_PATTERNS
;

281 
v
->
”ri
.
hdr_æag
 = 0;

282 
sæag
++;

283 
´t
++;

287 
v
->
´štmode
=
PRINTMODE_NONE
;

288 
v
->
”ri
.
hdr_æag
 = 0;

289 
sæag
++;

293 
v
->
´štmode
=
PRINTMODE_DMI
;

294 
v
->
”ri
.
hdr_æag
 = 0;

295 
sæag
++;

299 
b“pmode
 = !beepmode;

300 
sæag
++;

305 
sæag
++;

309 
	`pİş—r
();

313 
	`pİ2up
();

314 
	`´št_dmi_šfo
();

315 
	`pİ2down
();

319 
	`pİş—r
();

320 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "ECC Polling Mode:");

321 
	`ıršt
(
POP_Y
+3, 
POP_X
+6, "(1) Recommended");

322 
	`ıršt
(
POP_Y
+4, 
POP_X
+6, "(2) On");

323 
	`ıršt
(
POP_Y
+5, 
POP_X
+6, "(3) Off");

324 
	`ıršt
(
POP_Y
+6, 
POP_X
+6, "(0) Continue");

325 
	`wa™_keyup
();

326 !
sæag
) {

327 
	`g‘_key
()) {

329 
	`£t_ecc_pŞlšg
(-1);

330 
sæag
++;

333 
	`£t_ecc_pŞlšg
(1);

334 
sæag
++;

337 
	`£t_ecc_pŞlšg
(0);

338 
sæag
++;

343 
sæag
++;

347 
	`pİş—r
();

350 
	`wa™_keyup
();

351 
	`»¡¬t
();

354 
»´št_sü“n
 = 1;

355 
æag
++;

358 
	`pİdown
();

359 
	`show_¥d
();

360 
	`pİup
();

361 
sæag
++;

367 
æag
++;

371 
	`pİdown
();

372 ià(
´t
) {

373 
	`´š©n
();

375 ià(
»´št_sü“n
){

376 
	`‰y_´št_sü“n
();

378 
	}
}

381 
	$pİup
()

383 
i
, 
j
;

384 *
µ
;

386 
i
=
POP_Y
; i<POP_Y + 
POP_H
; i++) {

387 
j
=
POP_X
; j<POP_X + 
POP_W
; j++) {

388 
µ
 = (*)(
SCREEN_ADR
 + (
i
 * 160è+ (
j
 * 2));

389 
§ve
[0][
i
-
POP_Y
][
j
-
POP_X
] = *
µ
;

390 
	`£t_sün_buf
(
i
, 
j
, ' ');

391 *
µ
 = ' ';

392 
µ
++;

393 
§ve
[1][
i
-
POP_Y
][
j
-
POP_X
] = *
µ
;

394 *
µ
 = 0x07;

397 
	`‰y_´št_»giÚ
(
POP_Y
, 
POP_X
, POP_Y+
POP_H
, POP_X+
POP_W
);

398 
	}
}

400 
	$pİdown
()

402 
i
, 
j
;

403 *
µ
;

405 
i
=
POP_Y
; i<POP_Y + 
POP_H
; i++) {

406 
j
=
POP_X
; j<POP_X + 
POP_W
; j++) {

407 
µ
 = (*)(
SCREEN_ADR
 + (
i
 * 160è+ (
j
 * 2));

408 *
µ
 = 
§ve
[0][
i
-
POP_Y
][
j
-
POP_X
];

409 
	`£t_sün_buf
(
i
, 
j
, 
§ve
[0][i-
POP_Y
][j-
POP_X
]);

410 
µ
++;

411 *
µ
 = 
§ve
[1][
i
-
POP_Y
][
j
-
POP_X
];

414 
	`‰y_´št_»giÚ
(
POP_Y
, 
POP_X
, POP_Y+
POP_H
, POP_X+
POP_W
);

415 
	}
}

417 
	$pİş—r
()

419 
i
, 
j
;

420 *
µ
;

422 
i
=
POP_Y
; i<POP_Y + 
POP_H
; i++) {

423 
j
=
POP_X
; j<POP_X + 
POP_W
; j++) {

424 
µ
 = (*)(
SCREEN_ADR
 + (
i
 * 160è+ (
j
 * 2));

425 *
µ
 = ' ';

426 
	`£t_sün_buf
(
i
, 
j
, ' ');

427 
µ
++;

430 
	`‰y_´št_»giÚ
(
POP_Y
, 
POP_X
, POP_Y+
POP_H
, POP_X+
POP_W
);

431 
	}
}

434 
	$pİ2up
()

436 
i
, 
j
;

437 *
µ
;

439 
i
=
POP2_Y
; i<POP2_Y + 
POP2_H
; i++) {

440 
j
=
POP2_X
; j<POP2_X + 
POP2_W
; j++) {

441 
µ
 = (*)(
SCREEN_ADR
 + (
i
 * 160è+ (
j
 * 2));

442 
§ve2
[0][
i
-
POP2_Y
][
j
-
POP2_X
] = *
µ
;

443 
	`£t_sün_buf
(
i
, 
j
, ' ');

444 *
µ
 = ' ';

445 
µ
++;

446 
§ve2
[1][
i
-
POP2_Y
][
j
-
POP2_X
] = *
µ
;

447 *
µ
 = 0x07;

450 
	`‰y_´št_»giÚ
(
POP2_Y
, 
POP2_X
, POP2_Y+
POP2_H
, POP2_X+
POP2_W
);

451 
	}
}

453 
	$pİ2down
()

455 
i
, 
j
;

456 *
µ
;

458 
i
=
POP2_Y
; i<POP2_Y + 
POP2_H
; i++) {

459 
j
=
POP2_X
; j<POP2_X + 
POP2_W
; j++) {

460 
µ
 = (*)(
SCREEN_ADR
 + (
i
 * 160è+ (
j
 * 2));

461 *
µ
 = 
§ve2
[0][
i
-
POP2_Y
][
j
-
POP2_X
];

462 
	`£t_sün_buf
(
i
, 
j
, 
§ve2
[0][i-
POP2_Y
][j-
POP2_X
]);

463 
µ
++;

464 *
µ
 = 
§ve2
[1][
i
-
POP2_Y
][
j
-
POP2_X
];

467 
	`‰y_´št_»giÚ
(
POP2_Y
, 
POP2_X
, POP2_Y+
POP2_H
, POP2_X+
POP2_W
);

468 
	}
}

470 
	$pİ2ş—r
()

472 
i
, 
j
;

473 *
µ
;

475 
i
=
POP2_Y
; i<POP2_Y + 
POP2_H
; i++) {

476 
j
=
POP2_X
; j<POP2_X + 
POP2_W
; j++) {

477 
µ
 = (*)(
SCREEN_ADR
 + (
i
 * 160è+ (
j
 * 2));

478 *
µ
 = ' ';

479 
	`£t_sün_buf
(
i
, 
j
, ' ');

480 
µ
++;

483 
	`‰y_´št_»giÚ
(
POP2_Y
, 
POP2_X
, POP2_Y+
POP2_H
, POP2_X+
POP2_W
);

484 
	}
}

486 
	$ş—r_sü“n
()

488 
i
;

489 vŞ©*
µ
;

491 
i
=0, 
µ
=(*)(
SCREEN_ADR
); i<80*24; i++) {

492 *
µ
++ = ' ';

493 *
µ
++ = 0x07;

495 
	}
}

497 
	$adj_mem
()

499 
i
;

501 
v
->
£Ëùed_·ges
 = 0;

502 
i
=0; i< 
v
->
m£gs
; i++) {

504 ià(
v
->
pm­
[
i
].
¡¬t
 >ğv->
¶im_low”
 &&

505 
v
->
pm­
[
i
].
’d
 <ğv->
¶im_uµ”
) {

506 
v
->
£Ëùed_·ges
 +ğ(v->
pm­
[
i
].
’d
 - v->pm­[i].
¡¬t
);

510 ià(
v
->
pm­
[
i
].
¡¬t
 < v->
¶im_low”
) {

512 ià(
v
->
pm­
[
i
].
’d
 < v->
¶im_low”
) {

517 ià(
v
->
pm­
[
i
].
’d
 > v->
¶im_uµ”
) {

518 
v
->
£Ëùed_·ges
 +=

519 
v
->
¶im_uµ”
 - v->
¶im_low”
;

522 
v
->
£Ëùed_·ges
 +=

523 (
v
->
pm­
[
i
].
’d
 - v->
¶im_low”
);

528 ià(
v
->
pm­
[
i
].
’d
 > v->
¶im_uµ”
) {

530 ià(
v
->
pm­
[
i
].
¡¬t
 > v->
¶im_uµ”
) {

534 
v
->
£Ëùed_·ges
 +=

535 (
v
->
¶im_uµ”
 - v->
pm­
[
i
].
¡¬t
);

538 
	}
}

	@config.h

11 
	#PARITY_MEM


	)

16 
	#SERIAL_CONSOLE_DEFAULT
 0

	)

19 
	#SERIAL_TTY
 0

	)

22 
	#SERIAL_BAUD_RATE
 9600

	)

25 
	#START_FAIL_SAFE
 0

	)

28 
	#BEEP_MODE
 0

	)

31 
	#BEEP_END_NO_ERROR
 0

	)

34 
	#FIRST_PASS_HALF_ITERATIONS
 1

	)

42 
	#APM_OFF


	)

47 
	#USB_WAR


	)

	@controller.c

11 
	~"defs.h
"

12 
	~"cÚfig.h
"

13 
	~"‹¡.h
"

14 
	~"pci.h
"

15 
	~"cÚŒŞËr.h
"

16 
	~"¥d.h
"

17 
	~"‹¡.h
"

20 
	gcŞ
, 
	gcŞ2
;

21 
	gnhm_bus
 = 0x3F;

23 
ulÚg
 
extşock
;

24 
imc_ty³
;

25 
ıu_id’t
 
ıu_id
;

26 
ç_§ã
;

28 
	#rdm¤
(
m¤
,
v®1
,
v®2
) \

29 
__asm__
 
	`__vŞ©e__
("rdmsr" \

30 : "÷" (
v®1
), "=d" (
v®2
) \

31 : "c" (
m¤
))

	)

33 
	#wrm¤
(
m¤
,
v®1
,
v®2
) \

34 
__asm__
 
	`__vŞ©e__
("wrmsr" \

36 : "c" (
m¤
), "a" (
v®1
), "d" (
v®2
))

	)

39 
	#__ECC_UNEXPECTED
 1

	)

40 
	#__ECC_DETECT
 2

	)

41 
	#__ECC_CORRECT
 4

	)

42 
	#__ECC_SCRUB
 8

	)

43 
	#__ECC_CHIPKILL
 16

	)

45 
	#ECC_UNKNOWN
 (~0ULè

	)

46 
	#ECC_NONE
 0

	)

47 
	#ECC_RESERVED
 
__ECC_UNEXPECTED


	)

48 
	#ECC_DETECT
 
__ECC_DETECT


	)

49 
	#ECC_CORRECT
 (
__ECC_DETECT
 | 
__ECC_CORRECT
)

	)

50 
	#ECC_CHIPKILL
 (
__ECC_DETECT
 | 
__ECC_CORRECT
 | 
__ECC_CHIPKILL
)

	)

51 
	#ECC_SCRUB
 (
__ECC_DETECT
 | 
__ECC_CORRECT
 | 
__ECC_SCRUB
)

	)

54 
	secc_šfo
 {

55 
	mšdex
;

56 
	mpŞl
;

57 
	mbus
;

58 
	mdev
;

59 
	mâ
;

60 
	mÿp
;

61 
	mmode
;

62 } 
	gù¾
 =

64 .
šdex
 = 0,

69 .
	gbus
 = 0,

70 .
	gdev
 = 0,

71 .
	gâ
 = 0,

73 .
	gÿp
 = 
ECC_UNKNOWN
,

74 .
	gmode
 = 
ECC_UNKNOWN
,

77 
	spci_memÜy_cÚŒŞËr
 {

78 
	mv’dÜ
;

79 
	mdeviû
;

80 *
	mÇme
;

81 
	m‹¡ed
;

82 (*
	mpŞl_fsb
)();

83 (*
	mpŞl_timšgs
)();

84 (*
	m£tup_ecc
)();

85 (*
	mpŞl_”rÜs
)();

89 
	$´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
) {

92 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

93 
cŞ2
 += 9;

96 ià(
ÿs
 == 1.5) {

97 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "1.5"); col2 += 3;

98 } ià(
ÿs
 == 2.5) {

99 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2.5"); col2 += 3;

100 } ià(
ÿs
 < 10) {

101 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
ÿs
, 1, 0); col2 += 1;

103 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
ÿs
, 2, 0); col2 += 2;

105 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "-"); col2 += 1;

108 ià(
rcd
 < 10) {

109 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
rcd
, 1, 0);

110 
cŞ2
 += 1;

112 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
rcd
, 2, 0);

113 
cŞ2
 += 2;

115 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "-"); col2 += 1;

118 ià(
½
 < 10) {

119 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
½
, 1, 0);

120 
cŞ2
 += 1;

122 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
½
, 2, 0);

123 
cŞ2
 += 2;

125 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "-"); col2 += 1;

128 ià(
¿s
 < 10) {

129 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
¿s
, 1, 0);

130 
cŞ2
 += 2;

132 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
¿s
, 2, 0);

133 
cŞ2
 += 3;

136 
	}
}

138 
	$´št_fsb_šfo
(
v®
, cÚ¡ *
‹xt_fsb
, cÚ¡ *
‹xt_ddr
) {

140 
i
;

142 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "Settings: ");

143 
cŞ2
 += 10;

144 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, 
‹xt_fsb
);

145 
cŞ2
 += 6;

146 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
v®
 ,3 ,0);

147 
cŞ2
 += 3;

148 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "MHz (");

149 
cŞ2
 += 6;

151 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, 
‹xt_ddr
);

152 
i
 = 0; 
‹xt_ddr
[i] !ğ'\0'; i++è{ 
cŞ2
++; }

154 if(
v®
 < 500) {

155 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
v®
*2 ,3 ,0);

156 
cŞ2
 += 3;

158 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
v®
*2 ,4 ,0);

159 
cŞ2
 += 4;

161 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, ")");

162 
cŞ2
 += 1;

163 
	}
}

167 
	$pŞl_fsb_nÙhšg
()

171 
	}
}

173 
	$pŞl_timšgs_nÙhšg
()

177 
	}
}

179 
	$pŞl_fsb_ç§ã
()

182 
	`ıršt
(
LINE_CPU
+5, 0, "Chipset/IMC : ***FAIL SAFE***FAIL SAFE***FAIL SAFE***FAIL SAFE***FAIL SAFE***");

183 
	`ıršt
(
LINE_CPU
+6, 0, "*** Memtest86+ is„unning in fail safe mode. Same„eliability,†ess details ***");

185 
	}
}

186 
	$£tup_nÙhšg
()

188 
ù¾
.
ÿp
 = 
ECC_NONE
;

189 
ù¾
.
mode
 = 
ECC_NONE
;

190 
	}
}

192 
	$pŞl_nÙhšg
()

198 
	}
}

200 
	$£tup_wmr
()

204 
ulÚg
 
dev0
;

205 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

207 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

208 ià(!(
dev0
 & 0x1)) {

209 
	`pci_cÚf_wr™e
Ğ0, 0, 0, 0x48, 1, 
dev0
 | 1);

212 
ù¾
.
mode
 = 
ECC_NONE
;

214 
	}
}

217 
	$£tup_nhm
()

219 
possibË_nhm_bus
[] = {0xFF, 0x7F, 0x3F};

220 
did
, 
vid
, 
mc_cÚŒŞ
, 
mc_s¤cÚŒŞ
;

221 
i
;

224 
ù¾
.
ÿp
 = 
ECC_SCRUB
;

225 
ù¾
.
mode
 = 
ECC_NONE
;

229 
i
 = 0; i < (
possibË_nhm_bus
); i++) {

230 
	`pci_cÚf_»ad
Ğ
possibË_nhm_bus
[
i
], 3, 4, 0x00, 2, &
vid
);

231 
	`pci_cÚf_»ad
Ğ
possibË_nhm_bus
[
i
], 3, 4, 0x02, 2, &
did
);

232 
vid
 &= 0xFFFF;

233 
did
 &= 0xFF00;

234 if(
vid
 =ğ0x8086 && 
did
 >= 0x2C00) {

235 
nhm_bus
 = 
possibË_nhm_bus
[
i
];

242 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 0, 0x4C, 2, &
mc_cÚŒŞ
);

243 if((
mc_cÚŒŞ
 >> 4) & 1) {

244 
ù¾
.
mode
 = 
ECC_CORRECT
;

245 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 2, 0x48, 2, &
mc_s¤cÚŒŞ
);

246 if(
mc_s¤cÚŒŞ
 & 3) {

247 
ù¾
.
mode
 = 
ECC_SCRUB
;

251 
	}
}

253 
	$£tup_nhm32
()

255 
possibË_nhm_bus
[] = {0xFF, 0x7F, 0x3F};

256 
did
, 
vid
, 
mc_cÚŒŞ
, 
mc_s¤cÚŒŞ
;

257 
i
;

260 
ù¾
.
ÿp
 = 
ECC_SCRUB
;

261 
ù¾
.
mode
 = 
ECC_NONE
;

265 
i
 = 0; i < (
possibË_nhm_bus
); i++) {

266 
	`pci_cÚf_»ad
Ğ
possibË_nhm_bus
[
i
], 3, 4, 0x00, 2, &
vid
);

267 
	`pci_cÚf_»ad
Ğ
possibË_nhm_bus
[
i
], 3, 4, 0x02, 2, &
did
);

268 
vid
 &= 0xFFFF;

269 
did
 &= 0xFF00;

270 if(
vid
 =ğ0x8086 && 
did
 >= 0x2C00) {

271 
nhm_bus
 = 
possibË_nhm_bus
[
i
];

277 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 0, 0x48, 2, &
mc_cÚŒŞ
);

278 if((
mc_cÚŒŞ
 >> 1) & 1) {

279 
ù¾
.
mode
 = 
ECC_CORRECT
;

280 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 2, 0x48, 2, &
mc_s¤cÚŒŞ
);

281 if(
mc_s¤cÚŒŞ
 & 1) {

282 
ù¾
.
mode
 = 
ECC_SCRUB
;

286 
	}
}

288 
	$£tup_amd64
()

291 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_CORRECT
, 
ECC_RESERVED
, 
ECC_CHIPKILL
 };

292 
nbxcfg
;

293 
mcg¤l
;

294 
mcg¡h
;

295 
mÿnb
;

296 
d¿mş
;

299 
ù¾
.
ÿp
 = 
ECC_CHIPKILL
;

302 
	`pci_cÚf_»ad
(0, 24, 2, 0x90, 4, &
d¿mş
);

305 ià(((
ıu_id
.
ext
 >> 16) & 0xF) >= 4) {

308 ià((
d¿mş
 >> 19)&1){

310 
	`pci_cÚf_»ad
(0, 24, 3, 0x44, 4, &
nbxcfg
);

311 
ù¾
.
mode
 = 
ddim
[(
nbxcfg
 >> 22)&3];

313 
ù¾
.
mode
 = 
ECC_NONE
;

316 
	`rdm¤
(0x017B, 
mcg¤l
, 
mcg¡h
);

317 
	`wrm¤
(0x017B, 0x10, 
mcg¡h
);

320 
	`pci_cÚf_»ad
(0, 24, 3, 0x4C, 4, &
mÿnb
);

321 
	`pci_cÚf_wr™e
(0, 24, 3, 0x4C, 4, 
mÿnb
 & 0x7FFFFFFF );

326 ià((
d¿mş
 >> 17)&1){

328 
	`pci_cÚf_»ad
(0, 24, 3, 0x44, 4, &
nbxcfg
);

329 
ù¾
.
mode
 = 
ddim
[(
nbxcfg
 >> 22)&3];

331 
ù¾
.
mode
 = 
ECC_NONE
;

334 
	`rdm¤
(0x017B, 
mcg¤l
, 
mcg¡h
);

335 
	`wrm¤
(0x017B, 0x10, 
mcg¡h
);

338 
	`pci_cÚf_»ad
(0, 24, 3, 0x4C, 4, &
mÿnb
);

339 
	`pci_cÚf_wr™e
(0, 24, 3, 0x4C, 4, 
mÿnb
 & 0x7F801EFC );

341 
	}
}

343 
	$£tup_k10
()

345 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_CORRECT
, 
ECC_CHIPKILL
, ECC_CHIPKILL };

346 
nbxcfg
;

347 
mcg¤l
;

348 
mcg¡h
;

349 
mÿnb
;

350 
d¿mş
;

351 
ulÚg
 
m¤_low
, 
m¤_high
;

354 
ù¾
.
ÿp
 = 
ECC_CHIPKILL
;

357 
	`pci_cÚf_»ad
(0, 24, 2, 0x90, 4, &
d¿mş
);

359 ià((
d¿mş
 >> 19)&1){

361 
	`pci_cÚf_»ad
(0, 24, 3, 0x44, 4, &
nbxcfg
);

362 
ù¾
.
mode
 = 
ddim
[(
nbxcfg
 >> 22)&3];

364 
ù¾
.
mode
 = 
ECC_NONE
;

367 
	`rdm¤
(0x017B, 
mcg¤l
, 
mcg¡h
);

368 
	`wrm¤
(0x017B, 0x10, 
mcg¡h
);

371 
	`pci_cÚf_»ad
(0, 24, 3, 0x4C, 4, &
mÿnb
);

372 
	`pci_cÚf_wr™e
(0, 24, 3, 0x4C, 4, 
mÿnb
 & 0x7FFFFFFF );

375 
	`rdm¤
(0xC001001F, 
m¤_low
, 
m¤_high
);

376 
	`wrm¤
(0xC001001F, 
m¤_low
, (
m¤_high
 | 0x4000));

377 
	`rdm¤
(0xC001001F, 
m¤_low
, 
m¤_high
);

379 
	}
}

381 
	$pŞl_amd64
()

384 
mÿnb
;

385 
·ge
, 
off£t
;

386 
ûlog_syndrome
;

387 
mÿnb_add
;

389 
	`pci_cÚf_»ad
(0, 24, 3, 0x4C, 4, &
mÿnb
);

391 ià(((
mÿnb
 >> 31)&1) && ((mcanb >> 14)&1)) {

395 
	`pci_cÚf_»ad
(0, 24, 3, 0x50, 4, &
mÿnb_add
);

398 
ûlog_syndrome
 = (
mÿnb
 >> 15)&0xFF;

401 
·ge
 = (
mÿnb_add
 >> 12);

402 
off£t
 = (
mÿnb_add
 >> 3) & 0xFFF;

405 
	`´št_ecc_”r
(
·ge
, 
off£t
, 1, 
ûlog_syndrome
, 0);

408 
	`pci_cÚf_wr™e
(0, 24, 3, 0x4C, 4, 
mÿnb
 & 0x7FFFFFFF );

410 ià(((
mÿnb
 >> 31)&1) && ((mcanb >> 13)&1)) {

413 
	`pci_cÚf_»ad
(0, 24, 3, 0x50, 4, &
mÿnb_add
);

416 
·ge
 = (
mÿnb_add
 >> 12);

417 
off£t
 = (
mÿnb_add
 >> 3) & 0xFFF;

420 
	`´št_ecc_”r
(
·ge
, 
off£t
, 0, 0, 0);

423 
	`pci_cÚf_wr™e
(0, 24, 3, 0x4C, 4, 
mÿnb
 & 0x7FFFFFF );

427 
	}
}

429 
	$£tup_amd751
()

431 
d¿m_¡©us
;

434 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x5a, 2, &
d¿m_¡©us
);

435 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

436 
ù¾
.
mode
 = (
d¿m_¡©us
 & (1 << 2))?
ECC_CORRECT
: 
ECC_NONE
;

437 
	}
}

439 
	$pŞl_amd751
()

441 
ecc_¡©us
;

442 
bªk_addr
;

443 
bªk_šfo
;

444 
·ge
;

445 
b™s
;

446 
i
;

449 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x58, 2, &
ecc_¡©us
);

450 ià(
ecc_¡©us
 & (3 << 8)) {

451 
i
 = 0; i < 6; i++) {

452 ià(!(
ecc_¡©us
 & (1 << 
i
))) {

456 
bªk_addr
 = 0x40 + (
i
 << 1);

459 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 
bªk_addr
, 2, &
bªk_šfo
);

462 
·ge
 = (
bªk_šfo
 & 0xFF80) << 4;

463 
b™s
 = (((
ecc_¡©us
 >> 8) &3) == 2)?1:2;

466 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
==1?1:0, 0, 0);

471 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x58, 2, 0);

473 
	}
}

487 
	$£tup_amd76x
()

489 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_DETECT
, 
ECC_CORRECT
, ECC_CORRECT };

490 
ecc_mode_¡©us
;

493 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x48, 4, &
ecc_mode_¡©us
);

494 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

495 
ù¾
.
mode
 = 
ddim
[(
ecc_mode_¡©us
 >> 10)&3];

496 
	}
}

498 
	$pŞl_amd76x
()

500 
ecc_mode_¡©us
;

501 
bªk_addr
;

502 
bªk_šfo
;

503 
·ge
;

506 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x48, 4, &
ecc_mode_¡©us
);

508 ià(
ecc_mode_¡©us
 & (1 << 9)) {

510 
bªk_addr
 = 0xC0 + (((
ecc_mode_¡©us
 >> 4) & 0xf) << 2);

513 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 
bªk_addr
, 4, &
bªk_šfo
);

516 
·ge
 = (
bªk_šfo
 & 0xFF800000) >> 12;

519 
	`´št_ecc_”r
(
·ge
, 0, 1, 0, 0);

523 ià(
ecc_mode_¡©us
 & (1 << 8)) {

525 
bªk_addr
 = 0xC0 + (((
ecc_mode_¡©us
 >> 0) & 0xf) << 2);

528 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 
bªk_addr
, 4, &
bªk_šfo
);

531 
·ge
 = (
bªk_šfo
 & 0xFF800000) >> 12;

534 
	`´št_ecc_”r
(
·ge
, 0, 0, 0, 0);

538 ià(
ecc_mode_¡©us
 & (3 << 8)) {

539 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x48, 4, 
ecc_mode_¡©us
);

541 
	}
}

543 
	$£tup_úb20
()

546 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

551 
	}
}

553 
	$£tup_E5400
()

555 
mcs
;

559 
	`pci_cÚf_»ad
(
ù¾
.
bus
, 16, 1, 0x40, 4, &
mcs
);

562 
ù¾
.
mode
 = 0;

563 
ù¾
.
ÿp
 = 
ECC_SCRUB
;

566 ià(((
mcs
 >> 5) & 1) == 1) {

567 
ù¾
.
mode
 |ğ
ECC_CORRECT
;

571 ià(((
mcs
 >> 7) & 1) == 1) {

572 
ù¾
.
mode
 |ğ
__ECC_SCRUB
;

574 
	}
}

577 
	$£tup_iE7xxx
()

579 
mchcfgns
;

580 
drc
;

581 
deviû
;

582 
dvÅ
;

585 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x52, 2, &
mchcfgns
);

586 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x7C, 4, &
drc
);

589 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x02, 2, &
deviû
);

592 
ù¾
.
mode
 = 0;

593 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

596 ià(((
drc
 >> 20) & 3) == 2) {

597 
ù¾
.
mode
 |ğ
ECC_CORRECT
;

601 ià(
deviû
 != 0x255d) {

604 
ù¾
.
ÿp
 = 
ECC_SCRUB
;

605 ià(
mchcfgns
 & 1) {

606 
ù¾
.
mode
 |ğ
__ECC_SCRUB
;

611 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE0, 2, &
dvÅ
);

612 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 , 0xE0, 2, (
dvÅ
 & 0xFE));

615 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x88, 1, 0x0);

616 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x8A, 1, 0x0);

617 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x8C, 1, 0x0);

623 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 1, 3);

624 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x82, 1, 3);

627 
	}
}

629 
	$£tup_iE7520
()

631 
mchsüb
;

632 
drc
;

633 
dvÅ1
;

636 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x52, 2, &
mchsüb
);

637 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x7C, 4, &
drc
);

640 
ù¾
.
mode
 = 0;

641 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

644 ià(((
drc
 >> 20) & 3) != 0) {

645 
ù¾
.
mode
 |ğ
ECC_CORRECT
;

649 
ù¾
.
ÿp
 = 
ECC_SCRUB
;

650 ià((
mchsüb
 & 3) == 2) {

651 
ù¾
.
mode
 |ğ
__ECC_SCRUB
;

655 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xF4, 1, &
dvÅ1
);

656 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 , 0xF4, 1, (
dvÅ1
 | 0x20));

659 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 2, 0x4747);

660 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x82, 2, 0x4747);

661 
	}
}

663 
	$pŞl_iE7xxx
()

665 
ã¼
;

666 
Ã¼
;

668 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 1, &
ã¼
);

669 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x82, 1, &
Ã¼
);

671 ià(
ã¼
 & 1) {

673 
ûlog_add
;

674 
ûlog_syndrome
;

675 
·ge
;

678 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0xA0, 4, &
ûlog_add
);

680 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0xD0, 2, &
ûlog_syndrome
);

683 
·ge
 = (
ûlog_add
 & 0x0FFFFFC0) >> 6;

686 
	`´št_ecc_”r
(
·ge
, 0, 1, 
ûlog_syndrome
, 0);

689 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 1, 
ã¼
 & 3);

692 ià(
ã¼
 & 2) {

694 
ucûlog_add
;

695 
·ge
;

698 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0xB0, 4, &
ucûlog_add
);

701 
·ge
 = (
ucûlog_add
 & 0x0FFFFFC0) >> 6;

704 
	`´št_ecc_”r
(
·ge
, 0, 0, 0, 0);

707 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 1, 
ã¼
 & 3);

711 ià(
Ã¼
 & 3) {

712 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x82, 1, 
Ã¼
 & 3);

715 
	}
}

717 
	$£tup_i440gx
()

719 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_DETECT
, 
ECC_CORRECT
, ECC_CORRECT };

720 
nbxcfg
;

723 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x50, 4, &
nbxcfg
);

724 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

725 
ù¾
.
mode
 = 
ddim
[(
nbxcfg
 >> 7)&3];

726 
	}
}

728 
	$pŞl_i440gx
()

730 
”r¡s
;

731 
·ge
;

732 
b™s
;

734 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x91, 2, &
”r¡s
);

735 ià(
”r¡s
 & 0x11) {

736 
—p
;

738 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x80, 4, &
—p
);

741 
·ge
 = (
—p
 & 0xFFFFF000) >> 12;

742 
b™s
 = 0;

743 ià(
—p
 &3) {

744 
b™s
 = ((
—p
 & 3) == 1)?1:2;

747 ià(
b™s
) {

749 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
==1?1:0, 0, 0);

753 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x91, 2, 0x11);

754 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x80, 4, 3);

757 
	}
}

758 
	$£tup_i840
()

760 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_RESERVED
, 
ECC_CORRECT
, ECC_CORRECT };

761 
mchcfg
;

764 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x50, 2, &
mchcfg
);

765 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

766 
ù¾
.
mode
 = 
ddim
[(
mchcfg
 >> 7)&3];

767 
	}
}

769 
	$pŞl_i840
()

771 
”r¡s
;

772 
·ge
;

773 
syndrome
;

774 
chªÃl
;

775 
b™s
;

777 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

778 ià(
”r¡s
 & 3) {

779 
—p
;

780 
d”rùl_¡s
;

782 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE4, 4, &
—p
);

783 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE2, 2, &
d”rùl_¡s
);

786 
·ge
 = (
—p
 & 0xFFFFF800) >> 11;

787 
chªÃl
 = 
—p
 & 1;

788 
syndrome
 = 
d”rùl_¡s
 & 0xFF;

789 
b™s
 = ((
”r¡s
 & 3) == 1)?1:2;

792 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
==1?1:0, 
syndrome
, 
chªÃl
);

795 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE2, 2, 3 << 10);

796 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 3);

798 
	}
}

799 
	$£tup_i875
()

802 *
±r
;

803 
ulÚg
 
dev0
, 
dev6
 ;

807 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

808 
ù¾
.
mode
 = 
ECC_NONE
;

812 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0xF4, 1, &
dev0
);

813 
	`pci_cÚf_wr™e
Ğ0, 0, 0, 0xF4, 1, (
dev0
 | 0x2));

816 
	`pci_cÚf_»ad
Ğ0, 6, 0, 0x04, 2, &
dev6
);

817 
	`pci_cÚf_wr™e
Ğ0, 6, 0, 0x04, 2, (
dev6
 | 0x2));

820 
	`pci_cÚf_»ad
Ğ0, 6, 0, 0x10, 4, &
dev6
);

821 
±r
=(*)(
dev6
+0x68);

823 ià(((*
±r
 >> 18)&1è=ğ1è{ 
ù¾
.
mode
 = 
ECC_CORRECT
; }

826 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 0x81);

827 
	}
}

829 
	$£tup_i925
()

833 
ulÚg
 
dev0
, 
drc
;

834 
tŞm
;

835 *
±r
;

837 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x54, 4, &
dev0
);

838 
dev0
 = dev0 | 0x10000000;

839 
	`pci_cÚf_wr™e
Ğ0, 0, 0, 0x54, 4, 
dev0
);

842 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

843 ià(!(
dev0
 & 0xFFFFC000)) {

844 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x9C, 1, &
tŞm
);

845 
	`pci_cÚf_wr™e
Ğ0, 0, 0, 0x47, 1, 
tŞm
 & 0xF8);

850 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

852 
dev0
 &= 0xFFFFC000;

853 
±r
=(*)(
dev0
+0x120);

854 
drc
 = *
±r
 & 0xFFFFFFFF;

856 ià(((
drc
 >> 20) & 3) == 2) {

857 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 3);

858 
ù¾
.
mode
 = 
ECC_CORRECT
;

860 
ù¾
.
mode
 = 
ECC_NONE
;

863 
	}
}

865 
	$£tup_p35
()

869 
ulÚg
 
dev0
, 
ÿpid0
;

871 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

872 ià(!(
dev0
 & 0x1)) {

873 
	`pci_cÚf_wr™e
Ğ0, 0, 0, 0x48, 1, 
dev0
 | 1);

877 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0xE4, 4, &
ÿpid0
);

878 ià((
ÿpid0
 >> 8) & 1) {

879 
ù¾
.
ÿp
 = 
ECC_NONE
;

881 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

884 
ù¾
.
mode
 = 
ECC_NONE
;

886 
	}
}

888 
	$pŞl_i875
()

890 
”r¡s
;

891 
·ge
;

892 
des
;

893 
syndrome
;

894 
chªÃl
;

895 
b™s
;

897 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

898 ià(
”r¡s
 & 0x81) {

899 
—p
;

900 
d”rsyn
;

902 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x58, 4, &
—p
);

903 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x5C, 1, &
d”rsyn
);

904 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x5D, 1, &
des
);

907 
·ge
 = (
—p
 & 0xFFFFF000) >> 12;

908 
syndrome
 = 
d”rsyn
;

909 
chªÃl
 = 
des
 & 1;

910 
b™s
 = (
”r¡s
 & 0x80)?0:1;

913 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
, 
syndrome
, 
chªÃl
);

916 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 0x81);

918 
	}
}

920 
	$£tup_i845
()

922 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_RESERVED
, 
ECC_CORRECT
, ECC_RESERVED };

923 
drc
;

926 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x7C, 4, &
drc
);

927 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

928 
ù¾
.
mode
 = 
ddim
[(
drc
 >> 20)&3];

929 
	}
}

931 
	$pŞl_i845
()

933 
”r¡s
;

934 
·ge
, 
off£t
;

935 
syndrome
;

936 
b™s
;

938 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

939 ià(
”r¡s
 & 3) {

940 
—p
;

941 
d”rsyn
;

943 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x8C, 4, &
—p
);

944 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x86, 1, &
d”rsyn
);

947 
off£t
 = (
—p
 & 0xFE) << 4;

948 
·ge
 = (
—p
 & 0x3FFFFFFE) >> 8;

949 
syndrome
 = 
d”rsyn
;

950 
b™s
 = ((
”r¡s
 & 3) == 1)?1:2;

953 
	`´št_ecc_”r
(
·ge
, 
off£t
, 
b™s
==1?1:0, 
syndrome
, 0);

956 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 3);

958 
	}
}

959 
	$£tup_i820
()

961 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_RESERVED
, 
ECC_CORRECT
, ECC_CORRECT };

962 
mchcfg
;

965 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xbe, 2, &
mchcfg
);

966 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

967 
ù¾
.
mode
 = 
ddim
[(
mchcfg
 >> 7)&3];

968 
	}
}

970 
	$pŞl_i820
()

972 
”r¡s
;

973 
·ge
;

974 
syndrome
;

975 
b™s
;

977 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

978 ià(
”r¡s
 & 3) {

979 
—p
;

981 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xc4, 4, &
—p
);

984 
·ge
 = (
—p
 & 0xFFFFF000) >> 4;

985 
syndrome
 = 
—p
 & 0xFF;

986 
b™s
 = ((
”r¡s
 & 3) == 1)?1:2;

989 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
==1?1:0, 
syndrome
, 0);

992 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 3);

994 
	}
}

996 
	$£tup_i850
()

998 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_RESERVED
, 
ECC_CORRECT
, ECC_RESERVED };

999 
mchcfg
;

1002 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x50, 2, &
mchcfg
);

1003 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

1004 
ù¾
.
mode
 = 
ddim
[(
mchcfg
 >> 7)&3];

1005 
	}
}

1007 
	$pŞl_i850
()

1009 
”r¡s
;

1010 
·ge
;

1011 
syndrome
;

1012 
chªÃl
;

1013 
b™s
;

1015 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

1016 ià(
”r¡s
 & 3) {

1017 
—p
;

1018 
d”rùl_¡s
;

1020 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE4, 4, &
—p
);

1021 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE2, 2, &
d”rùl_¡s
);

1024 
·ge
 = (
—p
 & 0xFFFFF800) >> 11;

1025 
chªÃl
 = 
—p
 & 1;

1026 
syndrome
 = 
d”rùl_¡s
 & 0xFF;

1027 
b™s
 = ((
”r¡s
 & 3) == 1)?1:2;

1030 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
==1?1:0, 
syndrome
, 
chªÃl
);

1033 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 
”r¡s
 & 3);

1035 
	}
}

1037 
	$£tup_i860
()

1039 cÚ¡ 
ddim
[] = { 
ECC_NONE
, 
ECC_RESERVED
, 
ECC_CORRECT
, ECC_RESERVED };

1040 
mchcfg
;

1041 
”r¡s
;

1044 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x50, 2, &
mchcfg
);

1045 
ù¾
.
ÿp
 = 
ECC_CORRECT
;

1046 
ù¾
.
mode
 = 
ddim
[(
mchcfg
 >> 7)&3];

1049 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

1050 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 
”r¡s
 & 3);

1051 
	}
}

1053 
	$pŞl_i860
()

1055 
”r¡s
;

1056 
·ge
;

1057 
syndrome
;

1058 
chªÃl
;

1059 
b™s
;

1061 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

1062 ià(
”r¡s
 & 3) {

1063 
—p
;

1064 
d”rùl_¡s
;

1066 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE4, 4, &
—p
);

1067 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xE2, 2, &
d”rùl_¡s
);

1070 
·ge
 = (
—p
 & 0xFFFFFE00) >> 9;

1071 
chªÃl
 = 
—p
 & 1;

1072 
syndrome
 = 
d”rùl_¡s
 & 0xFF;

1073 
b™s
 = ((
”r¡s
 & 3) == 1)?1:2;

1076 
	`´št_ecc_”r
(
·ge
, 0, 
b™s
==1?1:0, 
syndrome
, 
chªÃl
);

1079 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 
”r¡s
 & 3);

1081 
	}
}

1083 
	$pŞl_iE7221
()

1085 
”r¡s
;

1086 
·ge
;

1087 
syndrome
;

1088 
chªÃl
;

1089 
b™s
;

1090 
”rocc
;

1092 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, &
”r¡s
);

1094 
”rocc
 = 
”r¡s
 & 3;

1096 ià((
”rocc
 == 1) || (errocc == 2)) {

1097 
—p
, 
off£t
;

1098 
d”rùl_¡s
;

1101 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x58, 4, &
—p
);

1102 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0x5C, 1, &
d”rùl_¡s
);

1105 
chªÃl
 = 
—p
 & 1;

1106 
—p
 =ƒap & 0xFFFFFF80;

1107 
·ge
 = 
—p
 >> 12;

1108 
off£t
 = 
—p
 & 0xFFF;

1109 
syndrome
 = 
d”rùl_¡s
 & 0xFF;

1110 
b™s
 = 
”rocc
 & 1;

1113 
	`´št_ecc_”r
(
·ge
, 
off£t
, 
b™s
, 
syndrome
, 
chªÃl
);

1116 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 
”r¡s
 & 3);

1119 ià(
”rocc
 == 3) {

1121 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 0xC8, 2, 
”r¡s
 & 3);

1124 
	}
}

1126 
	$pŞl_iE7520
()

1128 
ã¼
;

1129 
Ã¼
;

1131 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 2, &
ã¼
);

1132 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x82, 2, &
Ã¼
);

1134 ià(
ã¼
 & 0x0101) {

1136 
ûlog_add
;

1137 
ûlog_syndrome
;

1138 
·ge
;

1141 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0xA0, 4,&
ûlog_add
);

1143 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0xC4, 2, &
ûlog_syndrome
);

1146 
·ge
 = (
ûlog_add
 & 0x7FFFFFFC) >> 2;

1149 
	`´št_ecc_”r
(
·ge
, 0, 1, 
ûlog_syndrome
, 0);

1152 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 2, 
ã¼
& 0x0101);

1155 ià(
ã¼
 & 0x4646) {

1157 
ucûlog_add
;

1158 
·ge
;

1161 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0xA4, 4, &
ucûlog_add
);

1164 
·ge
 = (
ucûlog_add
 & 0x7FFFFFFC) >> 2;

1167 
	`´št_ecc_”r
(
·ge
, 0, 0, 0, 0);

1170 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x80, 2, 
ã¼
 & 0x4646);

1174 ià(
Ã¼
 & 0x4747) {

1175 
	`pci_cÚf_wr™e
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
 +1, 0x82, 2, 
Ã¼
 & 0x4747);

1177 
	}
}

1185 
	g©hlÚcÛf
[] = {11, 11.5, 12.0, 12.5, 5.0, 5.5, 6.0, 6.5, 7.0, 7.5, 8.0, 8.5, 9.0, 9.5, 10.0, 10.5};

1186 
	g©hlÚcÛf2
[] = {12, 19.0, 12.0, 20.0, 13.0, 13.5, 14.0, 21.0, 15.0, 22, 16.0, 16.5, 17.0, 18.0, 23.0, 24.0};

1187 
	gp4mod–1¿tios
[] = {16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15};

1189 
	$g‘P4PMmuÉl›r
()

1191 
m¤_lo
, 
m¤_hi
;

1192 
cÛf
;

1195 ià(
ıu_id
.
ty³
 == 6) {

1196 if((
ıu_id
.
ã©u»_æag
 >> 7) & 1) {

1197 
	`rdm¤
(0x198, 
m¤_lo
, 
m¤_hi
);

1198 
cÛf
 = ((
m¤_lo
 >> 8) & 0x1F);

1199 ià((
m¤_lo
 >> 14è& 0x1è{ 
cÛf
 = coef + 0.5f; }

1201 
	`rdm¤
(0x2A, 
m¤_lo
, 
m¤_hi
);

1202 
cÛf
 = (
m¤_lo
 >> 22) & 0x1F;

1207 ià(
ıu_id
.
mod–
 < 2)

1209 
	`rdm¤
(0x2A, 
m¤_lo
, 
m¤_hi
);

1210 
cÛf
 = (
m¤_lo
 >> 8) & 0xF;

1211 
cÛf
 = 
p4mod–1¿tios
[()coef];

1215 
	`rdm¤
(0x2C, 
m¤_lo
, 
m¤_hi
);

1216 
cÛf
 = (
m¤_lo
 >> 24) & 0x1F;

1219  
cÛf
;

1220 
	}
}

1222 
	$g‘NHMmuÉl›r
()

1224 
m¤_lo
, 
m¤_hi
;

1225 
cÛf
;

1229 
	`rdm¤
(0x194, 
m¤_lo
, 
m¤_hi
);

1230 if((
m¤_lo
 >> 16) & 1){

1231 
cÛf
 = (
m¤_lo
 >> 8) & 0xFF;

1233 
	`rdm¤
(0xCE, 
m¤_lo
, 
m¤_hi
);

1234 
cÛf
 = (
m¤_lo
 >> 8) & 0xFF;

1237  
cÛf
;

1238 
	}
}

1240 
	$g‘SNBmuÉl›r
()

1242 
m¤_lo
, 
m¤_hi
;

1243 
cÛf
;

1245 
	`rdm¤
(0x198, 
m¤_lo
, 
m¤_hi
);

1246 
cÛf
 = (
m¤_lo
 >> 8) & 0xFF;

1247 if(
cÛf
 < 4)

1249 
	`rdm¤
(0xCE, 
m¤_lo
, 
m¤_hi
);

1250 
cÛf
 = (
m¤_lo
 >> 16) & 0xFF;

1255  
cÛf
;

1256 
	}
}

1259 
	$g‘IÁ–PNS
()

1261 
i
,
j
;

1262 
p¢_—x
, 
p¢_ebx
, 
p¢_ecx
, 
p¢_edx
;

1263 
ch¬_hex
;

1264 
oıuid
 = 0x80000002;

1266 
j
 = 0; j < 4; j++)

1269 
asm
 
	`__vŞ©e__
(

1274 : "÷" (
p¢_—x
), "ô" (
p¢_ebx
), "=c" (
p¢_ecx
), "=d" (
p¢_edx
)

1275 : "a" (
oıuid
)

1280 
i
 = 0; i < 4; i++)

1282 
ch¬_hex
 = (
p¢_—x
 >> (
i
*8)) & 0xff;

1283 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 + 
i
, 
	`cÚv”t_hex_to_ch¬
(
ch¬_hex
));

1285 
ch¬_hex
 = (
p¢_ebx
 >> (
i
*8)) & 0xff;

1286 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 + 
i
 + 4, 
	`cÚv”t_hex_to_ch¬
(
ch¬_hex
));

1288 if(
p¢_ecx
 != 0x20202020)

1290 
ch¬_hex
 = (
p¢_ecx
 >> (
i
*8)) & 0xff;

1291 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 + 
i
 + 8, 
	`cÚv”t_hex_to_ch¬
(
ch¬_hex
));

1293 
ch¬_hex
 = (
p¢_edx
 >> (
i
*8)) & 0xff;

1294 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 + 
i
 + 12, 
	`cÚv”t_hex_to_ch¬
(
ch¬_hex
));

1298 
ch¬_hex
 = (
p¢_edx
 >> (
i
*8)) & 0xff;

1299 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 + 
i
 + 8, 
	`cÚv”t_hex_to_ch¬
(
ch¬_hex
));

1302 (
p¢_ecx
 !ğ0x20202020)?(
cŞ
 += 16):(col +=12);

1303 if(
p¢_edx
 =ğ0x20202020è{ 
cŞ
 -= 4; }

1304 
oıuid
++;

1307 
cŞ
 -= 16;

1308 
	}
}

1310 
	$pŞl_fsb_amd64
() {

1312 
mcg¤l
;

1313 
mcg¡h
;

1314 
fid
, 
‹mp2
;

1315 
d¿mchr
;

1316 
şock¿tio
;

1317 
d¿mşock
;

1319 
cÛf
 = 10;

1323 ià(((
ıu_id
.
pwrÿp
 >> 1) & 1) == 1) {

1324 
	`rdm¤
(0xc0010042, 
mcg¤l
, 
mcg¡h
);

1325 
fid
 = (
mcg¤l
 & 0x3F);

1327 
	`rdm¤
(0xc0010015, 
mcg¤l
, 
mcg¡h
);

1328 
fid
 = ((
mcg¤l
 >> 24)& 0x3F);

1332 
cÛf
 = ( 
fid
 / 2 ) + 4.0;

1335 ià(
fid
 & 1è{ 
cÛf
 = coef + 0.5; }

1339 ià(((
ıu_id
.
ext
 >> 16) & 0xF) >= 4) {

1341 
	`pci_cÚf_»ad
(0, 24, 2, 0x94, 4, &
d¿mchr
);

1342 
‹mp2
 = (
d¿mchr
 & 0x7);

1343 
şock¿tio
 = 
cÛf
;

1345 
‹mp2
) {

1347 
şock¿tio
 = ()(
cÛf
);

1350 
şock¿tio
 = ()(
cÛf
 * 3.0f/4.0f);

1353 
şock¿tio
 = ()(
cÛf
 * 3.0f/5.0f);

1356 
şock¿tio
 = ()(
cÛf
 * 3.0f/6.0f);

1362 
	`pci_cÚf_»ad
(0, 24, 2, 0x94, 4, &
d¿mchr
);

1363 
‹mp2
 = (
d¿mchr
 >> 20) & 0x7;

1364 
şock¿tio
 = 
cÛf
;

1366 
‹mp2
) {

1368 
şock¿tio
 = ()(
cÛf
 * 2.0f);

1371 
şock¿tio
 = ()((
cÛf
 * 3.0f/2.0f) + 0.81f);

1374 
şock¿tio
 = ()((
cÛf
 * 4.0f/3.0f) + 0.81f);

1377 
şock¿tio
 = ()((
cÛf
 * 6.0f/5.0f) + 0.81f);

1380 
şock¿tio
 = ()((
cÛf
 * 10.0f/9.0f) + 0.81f);

1383 
şock¿tio
 = ()(
cÛf
 + 0.81f);

1389 
d¿mşock
 = (
extşock
 /1000è/ 
şock¿tio
;

1392 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1394 
	}
}

1396 
	$pŞl_fsb_k10
() {

1398 
mcg¤l
;

1399 
mcg¡h
;

1400 
‹mp2
;

1401 
d¿mchr
;

1402 
mašPÎId
;

1403 
d¿mşock
;

1404 
²s_low
;

1405 
²s_high
;

1406 
m¤_p¢
;

1410 if(
ù¾
.
mode
 =ğ
ECC_NONE
)

1412 
	`ıršt
(
LINE_CPU
+5, 0, "IMC : ");

1413 
m¤_p¢
 = 0; msr_psn < 5; msr_psn++)

1415 
	`rdm¤
(0xC0010030+
m¤_p¢
, 
²s_low
, 
²s_high
);

1416 
	`ıršt
(
LINE_CPU
+5, 6+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
(
²s_low
 & 0xff));

1417 
	`ıršt
(
LINE_CPU
+5, 7+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_low
 >> 8) & 0xff));

1418 
	`ıršt
(
LINE_CPU
+5, 8+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_low
 >> 16) & 0xff));

1419 
	`ıršt
(
LINE_CPU
+5, 9+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_low
 >> 24) & 0xff));

1420 
	`ıršt
(
LINE_CPU
+5, 10+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
(
²s_high
 & 0xff));

1421 
	`ıršt
(
LINE_CPU
+5, 11+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_high
 >> 8) & 0xff));

1422 
	`ıršt
(
LINE_CPU
+5, 12+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_high
 >> 16) & 0xff));

1423 
	`ıršt
(
LINE_CPU
+5, 13+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_high
 >> 24) & 0xff));

1425 
	`ıršt
(
LINE_CPU
+5, 41, "(ECC : Disabled)");

1429 
	`pci_cÚf_»ad
(0, 24, 2, 0x94, 4, &
d¿mchr
);

1430 
‹mp2
 = (
d¿mchr
 & 0x7);

1432 
‹mp2
) {

1433 0x7: 
‹mp2
++;

1434 0x6: 
‹mp2
++;

1435 0x5: 
‹mp2
++;

1436 0x4: 
‹mp2
++;

1437 : 
‹mp2
 += 3;

1442 ià(((
ıu_id
.
ext
 >> 20) & 0xFF) == 1)

1443 
d¿mşock
 = ((
‹mp2
 * 200) / 3.0) + 0.25;

1445 
rg‘
;

1446 
dx
;

1447 
divisÜ
;

1450 
rg‘
 = 
‹mp2
 * 400;

1453 
	`rdm¤
(0xc0010071, 
mcg¤l
, 
mcg¡h
);

1455 
	`pci_cÚf_»ad
(0, 24, 3, 0xD4, 4, &
mašPÎId
);

1457 iàĞ
mašPÎId
 & 0x40 )

1458 
mašPÎId
 &= 0x3F;

1460 
mašPÎId
 = 8;

1462 
mcg¡h
 = (mcgsth >> 17) & 0x3F;

1463 iàĞ
mcg¡h
 ) {

1464 iàĞ
mašPÎId
 > 
mcg¡h
 )

1465 
mašPÎId
 = 
mcg¡h
;

1468 
dx
 = (
mašPÎId
 + 8) * 1200;

1469  
divisÜ
 = 3; divisor < 100; divisor++ )

1470 iàĞ(
dx
 / 
divisÜ
è<ğ
rg‘
 )

1473 
d¿mşock
 = ((
dx
 / 
divisÜ
) / 6.0) + 0.25;

1480 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1482 
	}
}

1484 
	$pŞl_fsb_k14
() {

1486 
‹mp2
;

1487 
d¿mchr
;

1488 
d¿mşock
;

1489 
²s_low
;

1490 
²s_high
;

1491 
m¤_p¢
;

1495 if(
ù¾
.
mode
 =ğ
ECC_NONE
)

1497 
	`ıršt
(
LINE_CPU
+5, 0, "IMC : ");

1498 
m¤_p¢
 = 0; msr_psn < 5; msr_psn++)

1500 
	`rdm¤
(0xC0010030+
m¤_p¢
, 
²s_low
, 
²s_high
);

1501 
	`ıršt
(
LINE_CPU
+5, 6+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
(
²s_low
 & 0xff));

1502 
	`ıršt
(
LINE_CPU
+5, 7+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_low
 >> 8) & 0xff));

1503 
	`ıršt
(
LINE_CPU
+5, 8+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_low
 >> 16) & 0xff));

1504 
	`ıršt
(
LINE_CPU
+5, 9+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_low
 >> 24) & 0xff));

1505 
	`ıršt
(
LINE_CPU
+5, 10+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
(
²s_high
 & 0xff));

1506 
	`ıršt
(
LINE_CPU
+5, 11+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_high
 >> 8) & 0xff));

1507 
	`ıršt
(
LINE_CPU
+5, 12+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_high
 >> 16) & 0xff));

1508 
	`ıršt
(
LINE_CPU
+5, 13+(
m¤_p¢
*8), 
	`cÚv”t_hex_to_ch¬
((
²s_high
 >> 24) & 0xff));

1510 
	`ıršt
(
LINE_CPU
+5, 41, "(ECC : Disabled)");

1514 
	`pci_cÚf_»ad
(0, 24, 2, 0x94, 4, &
d¿mchr
);

1515 
‹mp2
 = (
d¿mchr
 & 0x1F);

1517 
‹mp2
) {

1520 
d¿mşock
 = 400;

1523 
d¿mşock
 = 533;

1526 
d¿mşock
 = 667;

1532 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR-");

1534 
	}
}

1536 
	$pŞl_fsb_i925
() {

1538 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1539 
mchcfg
, 
mchcfg2
, 
dev0
, 
drc
, 
id‘eù
;

1540 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1541 *
±r
;

1543 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x02, 2, &
id‘eù
);

1546 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

1547 
dev0
 = dev0 & 0xFFFFC000;

1548 
±r
=(*)(
dev0
+0xC00);

1549 
mchcfg
 = *
±r
 & 0xFFFF;

1550 
±r
=(*)(
dev0
+0x120);

1551 
drc
 = *
±r
 & 0xFFFF;

1552 
d¿m¿tio
 = 1;

1554 
mchcfg2
 = (
mchcfg
 >> 4)&3;

1556 ià((
drc
&3) != 2) {

1558 ià(
mchcfg2
 =ğ1è{ 
d¿m¿tio
 = 0.8; } { dramratio = 1; }

1561 ià((
mchcfg
 >> 2)&1) {

1563 ià(
mchcfg2
 =ğ2è{ 
d¿m¿tio
 = 0.75; } { dramratio = 1; }

1565 
mchcfg2
) {

1567 
d¿m¿tio
 = 0.66667;

1570 ià(
id‘eù
 !ğ0x2590è{ 
d¿m¿tio
 = 1; } { dramratio = 1.5; }

1574 ià((
mchcfg
 & 1è=ğ0è{ 
d¿m¿tio
 = 1.33334; }

1575 ià(
id‘eù
 =ğ0x2590è{ 
d¿m¿tio
 = 2; }

1576 { 
d¿m¿tio
 = 1.5; }

1581 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

1582 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1585 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1588 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1589 
cŞ
 += 9;

1590 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1591 
cŞ
 += 3;

1592 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1593 
cŞ
 += 4;

1595 
	}
}

1597 
	$pŞl_fsb_i945
() {

1599 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1600 
mchcfg
, 
dev0
;

1601 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1602 *
±r
;

1605 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

1606 
dev0
 &= 0xFFFFC000;

1607 
±r
=(*)(
dev0
+0xC00);

1608 
mchcfg
 = *
±r
 & 0xFFFF;

1609 
d¿m¿tio
 = 1;

1611 (
mchcfg
 >> 4)&7) {

1612 1: 
d¿m¿tio
 = 1.0; ;

1613 2: 
d¿m¿tio
 = 1.33334; ;

1614 3: 
d¿m¿tio
 = 1.66667; ;

1615 4: 
d¿m¿tio
 = 2.0; ;

1619 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

1620 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1623 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1626 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1627 
cŞ
 += 9;

1628 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1629 
cŞ
 += 3;

1630 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1631 
cŞ
 += 4;

1633 
	}
}

1635 
	$pŞl_fsb_i975
() {

1637 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1638 
mchcfg
, 
dev0
, 
fsb_mch
;

1639 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1640 *
±r
;

1643 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

1644 
dev0
 &= 0xFFFFC000;

1645 
±r
=(*)(
dev0
+0xC00);

1646 
mchcfg
 = *
±r
 & 0xFFFF;

1647 
d¿m¿tio
 = 1;

1649 
mchcfg
 & 7) {

1650 1: 
fsb_mch
 = 533; ;

1651 2: 
fsb_mch
 = 800; ;

1652 3: 
fsb_mch
 = 667; ;

1653 : 
fsb_mch
 = 1066; ;

1657 
fsb_mch
) {

1659 (
mchcfg
 >> 4)&7) {

1660 0: 
d¿m¿tio
 = 1.25; ;

1661 1: 
d¿m¿tio
 = 1.5; ;

1662 2: 
d¿m¿tio
 = 2.0; ;

1668 (
mchcfg
 >> 4)&7) {

1669 1: 
d¿m¿tio
 = 1.0; ;

1670 2: 
d¿m¿tio
 = 1.33334; ;

1671 3: 
d¿m¿tio
 = 1.66667; ;

1672 4: 
d¿m¿tio
 = 2.0; ;

1677 (
mchcfg
 >> 4)&7) {

1678 1: 
d¿m¿tio
 = 0.75; ;

1679 2: 
d¿m¿tio
 = 1.0; ;

1680 3: 
d¿m¿tio
 = 1.25; ;

1681 4: 
d¿m¿tio
 = 1.5; ;

1688 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

1689 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1692 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1695 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1696 
cŞ
 += 9;

1697 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1698 
cŞ
 += 3;

1699 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1700 
cŞ
 += 4;

1702 
	}
}

1704 
	$pŞl_fsb_i965
() {

1706 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1707 
mchcfg
, 
dev0
, 
fsb_mch
;

1708 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1709 *
±r
;

1712 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

1713 
dev0
 &= 0xFFFFC000;

1714 
±r
=(*)(
dev0
+0xC00);

1715 
mchcfg
 = *
±r
 & 0xFFFF;

1716 
d¿m¿tio
 = 1;

1718 
mchcfg
 & 7) {

1719 0: 
fsb_mch
 = 1066; ;

1720 1: 
fsb_mch
 = 533; ;

1721 : 2: 
fsb_mch
 = 800; ;

1722 3: 
fsb_mch
 = 667; ;

1723 4: 
fsb_mch
 = 1333; ;

1724 6: 
fsb_mch
 = 1600; ;

1728 
fsb_mch
) {

1730 (
mchcfg
 >> 4)&7) {

1731 1: 
d¿m¿tio
 = 2.0; ;

1732 2: 
d¿m¿tio
 = 2.5; ;

1733 3: 
d¿m¿tio
 = 3.0; ;

1739 (
mchcfg
 >> 4)&7) {

1740 0: 
d¿m¿tio
 = 1.0; ;

1741 1: 
d¿m¿tio
 = 5.0f/4.0f; ;

1742 2: 
d¿m¿tio
 = 5.0f/3.0f; ;

1743 3: 
d¿m¿tio
 = 2.0; ;

1744 4: 
d¿m¿tio
 = 8.0f/3.0f; ;

1745 5: 
d¿m¿tio
 = 10.0f/3.0f; ;

1750 (
mchcfg
 >> 4)&7) {

1751 1: 
d¿m¿tio
 = 1.0f; ;

1752 2: 
d¿m¿tio
 = 5.0f/4.0f; ;

1753 3: 
d¿m¿tio
 = 3.0f/2.0f; ;

1754 4: 
d¿m¿tio
 = 2.0f; ;

1755 5: 
d¿m¿tio
 = 5.0f/2.0f; ;

1760 (
mchcfg
 >> 4)&7) {

1761 2: 
d¿m¿tio
 = 1.0f; ;

1762 3: 
d¿m¿tio
 = 6.0f/5.0f; ;

1763 4: 
d¿m¿tio
 = 8.0f/5.0f; ;

1764 5: 
d¿m¿tio
 = 2.0f; ;

1769 (
mchcfg
 >> 4)&7) {

1770 3: 
d¿m¿tio
 = 1.0f; ;

1771 4: 
d¿m¿tio
 = 4.0f/3.0f; ;

1772 5: 
d¿m¿tio
 = 3.0f/2.0f; ;

1773 6: 
d¿m¿tio
 = 2.0f; ;

1780 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

1781 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1784 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1787 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1788 
cŞ
 += 9;

1789 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1790 
cŞ
 += 3;

1791 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1792 
cŞ
 += 4;

1794 
	}
}

1796 
	$pŞl_fsb_im965
() {

1798 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1799 
mchcfg
, 
dev0
, 
fsb_mch
;

1800 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1801 *
±r
;

1804 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

1805 
dev0
 &= 0xFFFFC000;

1806 
±r
=(*)(
dev0
+0xC00);

1807 
mchcfg
 = *
±r
 & 0xFFFF;

1808 
d¿m¿tio
 = 1;

1810 
mchcfg
 & 7) {

1811 1: 
fsb_mch
 = 533; ;

1812 : 2: 
fsb_mch
 = 800; ;

1813 3: 
fsb_mch
 = 667; ;

1814 6: 
fsb_mch
 = 1066; ;

1818 
fsb_mch
) {

1820 (
mchcfg
 >> 4)&7) {

1821 1: 
d¿m¿tio
 = 5.0f/4.0f; ;

1822 2: 
d¿m¿tio
 = 3.0f/2.0f; ;

1823 3: 
d¿m¿tio
 = 2.0f; ;

1828 (
mchcfg
 >> 4)&7) {

1829 1: 
d¿m¿tio
 = 1.0f; ;

1830 2: 
d¿m¿tio
 = 6.0f/5.0f; ;

1831 3: 
d¿m¿tio
 = 8.0f/5.0f; ;

1832 4: 
d¿m¿tio
 = 2.0f; ;

1833 5: 
d¿m¿tio
 = 12.0f/5.0f; ;

1838 (
mchcfg
 >> 4)&7) {

1839 1: 
d¿m¿tio
 = 5.0f/6.0f; ;

1840 2: 
d¿m¿tio
 = 1.0f; ;

1841 3: 
d¿m¿tio
 = 4.0f/3.0f; ;

1842 4: 
d¿m¿tio
 = 5.0f/3.0f; ;

1843 5: 
d¿m¿tio
 = 2.0f; ;

1847 (
mchcfg
 >> 4)&7) {

1848 5: 
d¿m¿tio
 = 3.0f/2.0f; ;

1849 6: 
d¿m¿tio
 = 2.0f; ;

1855 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

1856 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1859 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1862 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1863 
cŞ
 += 9;

1864 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1865 
cŞ
 += 3;

1866 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1867 
cŞ
 += 4;

1869 
	}
}

1872 
	$pŞl_fsb_5400
() {

1874 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1875 
amba£_low
, 
amba£_high
, 
ddräq
;

1876 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1879 
	`pci_cÚf_»ad
Ğ0, 16, 0, 0x48, 4, &
amba£_low
);

1880 
amba£_low
 &= 0xFFFE0000;

1881 
	`pci_cÚf_»ad
Ğ0, 16, 0, 0x4C, 4, &
amba£_high
);

1882 
amba£_high
 &= 0xFF;

1883 
	`pci_cÚf_»ad
Ğ0, 16, 1, 0x56, 1, &
ddräq
);

1884 
ddräq
 &= 7;

1885 
d¿m¿tio
 = 1;

1887 
ddräq
) {

1891 
d¿m¿tio
 = 1.0;

1894 
d¿m¿tio
 = 5.0f/4.0f;

1898 
d¿m¿tio
 = 4.0f/5.0f;

1904 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

1905 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1908 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1911 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1912 
cŞ
 += 9;

1913 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1914 
cŞ
 += 3;

1915 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1916 
cŞ
 += 4;

1918 
	}
}

1921 
	$pŞl_fsb_nf4›
() {

1923 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1924 
m¿tio
, 
Ä©io
;

1925 
»g74
, 
»g60
;

1926 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1929 
	`pci_cÚf_»ad
(0, 0, 2, 0x74, 2, &
»g74
);

1930 
	`pci_cÚf_»ad
(0, 0, 2, 0x60, 4, &
»g60
);

1931 
m¿tio
 = 
»g74
 & 0xF;

1932 
Ä©io
 = (
»g74
 >> 4) & 0xF;

1935 ià(
m¿tio
 == 0) { mratio = 16; }

1936 ià(
Ä©io
 == 0) {‚ratio = 16; }

1939 if((
»g60
 >> 22) & 1) {

1940 
d¿m¿tio
 = 1;

1942 
d¿m¿tio
 = 
Ä©io
 / 
m¿tio
;

1946 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

1947 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

1950 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1953 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "- FSB : ");

1954 
cŞ
 += 9;

1955 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1956 
cŞ
 += 3;

1957 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

1958 
cŞ
 += 4;

1960 
	}
}

1962 
	$pŞl_fsb_i875
() {

1964 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

1965 
mchcfg
, 
smfs
;

1966 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

1969 
	`pci_cÚf_»ad
(0, 0, 0, 0xC6, 2, &
mchcfg
);

1970 
smfs
 = (
mchcfg
 >> 10)&3;

1971 
d¿m¿tio
 = 1;

1973 ià((
mchcfg
&3è=ğ3è{ 
d¿m¿tio
 = 1; }

1974 ià((
mchcfg
&3) == 2) {

1975 ià(
smfs
 =ğ2è{ 
d¿m¿tio
 = 1; }

1976 ià(
smfs
 =ğ1è{ 
d¿m¿tio
 = 1.25; }

1977 ià(
smfs
 =ğ0è{ 
d¿m¿tio
 = 1.5; }

1979 ià((
mchcfg
&3) == 1) {

1980 ià(
smfs
 =ğ2è{ 
d¿m¿tio
 = 0.6666666666; }

1981 ià(
smfs
 =ğ1è{ 
d¿m¿tio
 = 0.8; }

1982 ià(
smfs
 =ğ0è{ 
d¿m¿tio
 = 1; }

1984 ià((
mchcfg
&3è=ğ0è{ 
d¿m¿tio
 = 0.75; }

1988 
d¿mşock
 = ((
extşock
 /1000è/ 
cÛf
è/ 
d¿m¿tio
;

1989 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

1992 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

1995 iàĞ
ù¾
.
mode
 =ğ
ECC_NONE
 ) {

1996 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- FSB : ");

1997 
cŞ
 += 9;

1998 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

1999 
cŞ
 += 3;

2000 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2001 
cŞ
 += 4;

2003 
	}
}

2005 
	$pŞl_fsb_p4
() {

2007 
ulÚg
 
fsb
, 
id‘eù
;

2008 
cÛf
 = 
	`g‘P4PMmuÉl›r
();

2010 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

2013 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ FSB : ");

2014 
cŞ
 += 9;

2015 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

2016 
cŞ
 += 3;

2017 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2018 
cŞ
 += 4;

2021 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x02, 2, &
id‘eù
);

2022 ià(
id‘eù
 == 0x2540 || idetect == 0x254C) {

2023 
	`´št_fsb_šfo
(
fsb
, "RAM : ", "DDR");

2025 
	}
}

2027 
	$pŞl_fsb_i855
() {

2030 
d¿mşock
, 
d¿m¿tio
, 
fsb
 ;

2031 
m¤_lo
, 
m¤_hi
;

2032 
ulÚg
 
mchcfg
, 
ûÁri
, 
id‘eù
;

2033 
cÛf
;

2035 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x02, 2, &
id‘eù
);

2040 ià(
ıu_id
.
ty³
 == 6) {

2041 
	`rdm¤
(0x2A, 
m¤_lo
, 
m¤_hi
);

2042 
cÛf
 = (
m¤_lo
 >> 22) & 0x1F;

2045 ià(
id‘eù
 == 0x3580) {

2046 
	`ıršt
(
LINE_CPU
+5, 
cŞ
-1, "i855GM/GME ");

2047 
cŞ
 += 10;

2050 
	`rdm¤
(0x2C, 
m¤_lo
, 
m¤_hi
);

2051 
cÛf
 = (
m¤_lo
 >> 24) & 0x1F;

2052 
	`ıršt
(
LINE_CPU
+5, 
cŞ
-1, "i852PM/GM ");

2053 
cŞ
 += 9;

2056 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

2059 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "/ FSB : "); col += 8;

2060 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0); col += 3;

2061 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz"); col += 4;

2064 
	`pci_cÚf_»ad
Ğ2, 2, 0, 0x02, 2, &
ûÁri
);

2065 ià(
ûÁri
 =ğ0x1043è{ 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ Centrino Mobile Platform"); }

2066 { 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ Mobile Platform"); }

2070 
d¿m¿tio
 = 1;

2071 ià(
id‘eù
 == 0x3580) {

2072 
	`pci_cÚf_»ad
Ğ0, 0, 3, 0xC0, 2, &
mchcfg
);

2073 
mchcfg
 = mchcfg & 0x7;

2075 ià(
mchcfg
 =ğ1 || mchcfg =ğ2 || mchcfg =ğ4 || mchcfg =ğ5è{ 
d¿m¿tio
 = 1; }

2076 ià(
mchcfg
 =ğ0 || mchcfg =ğ3è{ 
d¿m¿tio
 = 1.333333333; }

2077 ià(
mchcfg
 =ğ6è{ 
d¿m¿tio
 = 1.25; }

2078 ià(
mchcfg
 =ğ7è{ 
d¿m¿tio
 = 1.666666667; }

2081 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0xC6, 2, &
mchcfg
);

2082 ià(((
mchcfg
 >> 10)&3è=ğ0è{ 
d¿m¿tio
 = 1; }

2083 ià(((
mchcfg
 >> 10)&3è=ğ1è{ 
d¿m¿tio
 = 1.666667; }

2084 { 
d¿m¿tio
 = 1.333333333; }

2088 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

2091 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

2093 
	}
}

2095 
	$pŞl_fsb_amd32
() {

2097 
mcg¤l
;

2098 
mcg¡h
;

2099 
‹mp
;

2100 
d¿mşock
;

2101 
cÛf2
;

2104 
	`rdm¤
(0x0c0010015, 
mcg¤l
, 
mcg¡h
);

2105 
‹mp
 = (
mcg¤l
 >> 24)&0x0F;

2107 ià((
mcg¤l
 >> 19)&1è{ 
cÛf2
 = 
©hlÚcÛf2
[
‹mp
]; }

2108 { 
cÛf2
 = 
©hlÚcÛf
[
‹mp
]; }

2110 ià(
cÛf2
 == 0) { coef2 = 1; };

2113 
d¿mşock
 = (
extşock
 /1000è/ 
cÛf2
;

2116 
	`´št_fsb_šfo
(
d¿mşock
, "FSB : ", "DDR");

2118 
	}
}

2120 
	$pŞl_fsb_nf2
() {

2122 
mcg¤l
;

2123 
mcg¡h
;

2124 
‹mp
, 
mem¶l
;

2125 
d¿mşock
, 
fsb
;

2126 
mem_m
, 
mem_n
;

2127 
cÛf
;

2128 
cÛf
 = 10;

2131 
	`rdm¤
(0x0c0010015, 
mcg¤l
, 
mcg¡h
);

2132 
‹mp
 = (
mcg¤l
 >> 24)&0x0F;

2134 ià((
mcg¤l
 >> 19)&1è{ 
cÛf
 = 
©hlÚcÛf2
[
‹mp
]; }

2135 { 
cÛf
 = 
©hlÚcÛf
[
‹mp
]; }

2138 
	`pci_cÚf_»ad
(0, 0, 3, 0x70, 4, &
mem¶l
);

2139 
mem_m
 = (
mem¶l
&0x0F);

2140 
mem_n
 = ((
mem¶l
 >> 4) & 0x0F);

2143 iàĞ
mem_m
 =ğ0 || 
mem_n
 == 0 ) {

2144 
	`pci_cÚf_»ad
(0, 0, 3, 0x7C, 4, &
mem¶l
);

2145 
mem_m
 = (
mem¶l
&0x0F);

2146 
mem_n
 = ((
mem¶l
 >> 4) & 0x0F);

2150 
d¿mşock
 = ((
extşock
 /1000è/ 
cÛf
è* (
mem_n
/
mem_m
);

2151 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

2155 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "/ FSB : ");

2156 
cŞ
 += 8;

2157 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

2158 
cŞ
 += 3;

2159 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2161 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

2163 
	}
}

2165 
	$pŞl_fsb_us15w
() {

2167 
d¿mşock
, 
d¿m¿tio
, 
fsb
, 
gfx
;

2168 
m¤
;

2172 
	`pci_cÚf_wr™e
(0, 0, 0, 0xD0, 4, 0xD0050300 );

2173 
	`pci_cÚf_»ad
(0, 0, 0, 0xD4, 4, &
m¤
 );

2174 
fsb
 = ( 
m¤
 >> 3 ) & 1;

2176 
d¿m¿tio
 = 0.5;

2179 ià(Ğ
m¤
 >> 3 ) & 1) {

2180 
fsb
 = 533;

2182 
fsb
 = 400;

2185 Ğ
m¤
 >> 0 ) & 7) {

2187 
gfx
 = 100;

2190 
gfx
 = 133;

2193 
gfx
 = 150;

2196 
gfx
 = 178;

2199 
gfx
 = 200;

2202 
gfx
 = 266;

2205 
gfx
 = 0;

2209 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

2212 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR");

2215 
	`ıršt
(
LINE_CPU
+4, 
cŞ
 +1, "- FSB : ");

2216 
cŞ
 += 9;

2217 
	`d´št
(
LINE_CPU
+4, 
cŞ
, 
fsb
, 3,0);

2218 
cŞ
 += 3;

2219 
	`ıršt
(
LINE_CPU
+4, 
cŞ
 +1, "MHz");

2220 
cŞ
 += 4;

2222 
	`ıršt
(
LINE_CPU
+4, 
cŞ
 +1, "- GFX : ");

2223 
cŞ
 += 9;

2224 
	`d´št
(
LINE_CPU
+4, 
cŞ
, 
gfx
, 3,0);

2225 
cŞ
 += 3;

2226 
	`ıršt
(
LINE_CPU
+4, 
cŞ
 +1, "MHz");

2227 
cŞ
 += 4;

2229 
	}
}

2231 
	$pŞl_fsb_nhm
() {

2233 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

2234 
mc_dimm_şk_¿tio
, 
qpi_¶l_¡©us
;

2235 
cÛf
 = 
	`g‘NHMmuÉl›r
();

2236 
qpi_¥“d
;

2238 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

2241 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ BCLK : ");

2242 
cŞ
 += 10;

2243 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

2244 
cŞ
 += 3;

2245 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2246 
cŞ
 += 4;

2249 if(
ù¾
.
mode
 =ğ
ECC_NONE
 && 
ıu_id
.
mod–
 == 10) {

2250 
	`pci_cÚf_»ad
(
nhm_bus
, 2, 1, 0x50, 2, &
qpi_¶l_¡©us
);

2251 
qpi_¥“d
 = (
qpi_¶l_¡©us
 & 0x7Fè* ((
extşock
 / 1000è/ 
cÛf
) * 2;

2252 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ QPI : ");

2253 
cŞ
 += 9;

2254 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
qpi_¥“d
/1000, 1,0);

2255 
cŞ
 += 1;

2256 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, ".");

2257 
cŞ
 += 1;

2258 
qpi_¥“d
 = ((qpi_speed / 1000) - ()(qpi_speed / 1000)) * 10;

2259 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
qpi_¥“d
, 1,0);

2260 
cŞ
 += 1;

2261 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "GT/s");

2262 
cŞ
 += 5;

2267 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 4, 0x54, 2, &
mc_dimm_şk_¿tio
);

2268 
d¿m¿tio
 = (
mc_dimm_şk_¿tio
 & 0x1F);

2271 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

2272 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
 / 2;

2275 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR3-");

2277 
	}
}

2279 
	$pŞl_fsb_nhm32
() {

2281 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

2282 
mc_dimm_şk_¿tio
, 
qpi_¶l_¡©us
;

2283 
cÛf
 = 
	`g‘NHMmuÉl›r
();

2284 
qpi_¥“d
;

2286 
fsb
 = ((
extşock
 /1000è/ 
cÛf
);

2289 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ BCLK : ");

2290 
cŞ
 += 10;

2291 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

2292 
cŞ
 += 3;

2293 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2294 
cŞ
 += 4;

2297 if(
ù¾
.
mode
 =ğ
ECC_NONE
 && 
ıu_id
.
mod–
 == 12) {

2298 
	`pci_cÚf_»ad
(
nhm_bus
, 2, 1, 0x50, 2, &
qpi_¶l_¡©us
);

2299 
qpi_¥“d
 = (
qpi_¶l_¡©us
 & 0x7Fè* ((
extşock
 / 1000è/ 
cÛf
) * 2;

2300 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ QPI : ");

2301 
cŞ
 += 9;

2302 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
qpi_¥“d
/1000, 1,0);

2303 
cŞ
 += 1;

2304 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, ".");

2305 
cŞ
 += 1;

2306 
qpi_¥“d
 = ((qpi_speed / 1000) - ()(qpi_speed / 1000)) * 10;

2307 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
qpi_¥“d
, 1,0);

2308 
cŞ
 += 1;

2309 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "GT/s");

2310 
cŞ
 += 5;

2315 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 4, 0x50, 2, &
mc_dimm_şk_¿tio
);

2316 
d¿m¿tio
 = (
mc_dimm_şk_¿tio
 & 0x1F);

2319 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

2320 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
 / 2;

2323 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR3-");

2325 
	}
}

2327 
	$pŞl_fsb_wmr
() {

2329 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

2330 
dev0
, 
mchcfg
;

2331 
cÛf
 = 
	`g‘NHMmuÉl›r
();

2332 *
±r
;

2334 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

2336 if(
ù¾
.
mode
 =ğ
ECC_NONE
)

2338 
cŞ
 = 0;

2339 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "IMC : "); col += 6;

2340 
	`g‘IÁ–PNS
();

2346 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ BCLK : ");

2347 
cŞ
 += 10;

2348 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

2349 
cŞ
 += 3;

2350 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2351 
cŞ
 += 4;

2354 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2355 
dev0
 &= 0xFFFFC000;

2356 
±r
=(*)(
dev0
+0x2C20);

2357 
mchcfg
 = *
±r
 & 0xFFFF;

2358 
d¿m¿tio
 = 1;

2361 
d¿m¿tio
 = 0.25 * ()(*
±r
 & 0x1F);

2364 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

2367 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR3-");

2369 
	}
}

2371 
	$pŞl_fsb_¢b
() {

2373 
d¿mşock
, 
d¿m¿tio
, 
fsb
;

2374 
dev0
, 
mchcfg
;

2375 
cÛf
 = 
	`g‘SNBmuÉl›r
();

2376 *
±r
;

2378 
fsb
 = ((
extşock
 / 1000è/ 
cÛf
);

2380 if(
ù¾
.
mode
 =ğ
ECC_NONE
)

2382 
cŞ
 = 0;

2383 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "IMC : "); col += 6;

2384 
	`g‘IÁ–PNS
();

2390 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "/ BCLK : ");

2391 
cŞ
 += 10;

2392 
	`d´št
(
LINE_CPU
+5, 
cŞ
, 
fsb
, 3,0);

2393 
cŞ
 += 3;

2394 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "MHz");

2395 
cŞ
 += 4;

2398 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2399 
dev0
 &= 0xFFFFC000;

2400 
±r
=(*)(
dev0
+0x5E04);

2401 
mchcfg
 = *
±r
 & 0xFFFF;

2402 
d¿m¿tio
 = 1;

2405 
d¿m¿tio
 = ()(*
±r
 & 0x1F) * (133.34f / 100.0f);

2408 
d¿mşock
 = 
fsb
 * 
d¿m¿tio
;

2411 
	`´št_fsb_šfo
(
d¿mşock
, "RAM : ", "DDR3-");

2413 
	}
}

2418 
	$pŞl_timšgs_nf4›
() {

2421 
ulÚg
 
»gd0
, 
»g8c
, 
»g9c
, 
»g80
;

2422 
ÿs
, 
rcd
, 
½
, 
¿s
;

2424 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- Type : DDR-II");

2427 
	`pci_cÚf_»ad
Ğ0, 1, 1, 0xD0, 4, &
»gd0
);

2428 
	`pci_cÚf_»ad
Ğ0, 1, 1, 0x80, 1, &
»g80
);

2429 
	`pci_cÚf_»ad
Ğ0, 1, 0, 0x8C, 4, &
»g8c
);

2430 
	`pci_cÚf_»ad
Ğ0, 1, 0, 0x9C, 4, &
»g9c
);

2433 
ÿs
 = (
»gd0
 >> 4) & 0x7;

2434 
rcd
 = (
»g8c
 >> 24) & 0xF;

2435 
½
 = (
»g9c
 >> 8) & 0xF;

2436 
¿s
 = (
»g8c
 >> 16) & 0x3F;

2438 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

2440 ià(
»g80
 & 0x3) {

2441 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Dual Channel (128 bits)");

2443 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Single Channel (64 bits)");

2446 
	}
}

2448 
	$pŞl_timšgs_i875
() {

2450 
ulÚg
 
dev6
, 
dev62
;

2451 
ulÚg
 
‹mp
;

2452 
ÿs
;

2453 
rcd
, 
½
, 
¿s
;

2454 *
±r
, *
±r2
;

2457 
	`pci_cÚf_»ad
Ğ0, 6, 0, 0x10, 4, &
dev6
);

2460 
	`pci_cÚf_»ad
Ğ0, 6, 0, 0x40, 4, &
dev62
);

2461 
±r2
=(*)(
dev6
+0x68);

2463 ià((
dev62
&0x3è=ğ0 && ((*
±r2
 >> 14)&1) == 1) {

2464 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- PAT : Enabled");

2466 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- PAT : Disabled");

2471 
±r
=(*)(
dev6
+0x60);

2473 
‹mp
 = ((*
±r
 >> 5)& 0x3);

2474 ià(
‹mp
 =ğ0x0è{ 
ÿs
 = 2.5; } if (temp == 0x1) { cas = 2; } { cas = 3; }

2477 
‹mp
 = ((*
±r
 >> 2)& 0x3);

2478 ià(
‹mp
 =ğ0x0è{ 
rcd
 = 4; } if (temp == 0x1) {„cd = 3; } {„cd = 2; }

2481 
‹mp
 = (*
±r
&0x3);

2482 ià(
‹mp
 =ğ0x0è{ 
½
 = 4; } if (temp == 0x1) {„p = 3; } {„p = 2; }

2485 
‹mp
 = ((*
±r
 >> 7)& 0x7);

2486 
¿s
 = 10 - 
‹mp
;

2489 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

2492 ià(((*
±r2
 >> 21)&3) > 0) {

2493 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Dual Channel (128 bits)");

2495 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Single Channel (64 bits)");

2497 
	}
}

2499 
	$pŞl_timšgs_i925
() {

2502 
ulÚg
 
dev0
, 
d¹
, 
drc
, 
dcc
, 
id‘eù
, 
‹mp
;

2503 *
±r
;

2506 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

2507 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x02, 2, &
id‘eù
);

2508 
dev0
 &= 0xFFFFC000;

2511 
±r
=(*)(
dev0
+0x114);

2512 
d¹
 = *
±r
 & 0xFFFFFFFF;

2515 
±r
=(*)(
dev0
+0x120);

2516 
drc
 = *
±r
 & 0xFFFFFFFF;

2519 
±r
=(*)(
dev0
+0x200);

2520 
dcc
 = *
±r
 & 0xFFFFFFFF;

2523 ià((
drc
 & 3) == 2) {

2524 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- Type : DDR2");

2526 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- Type : DDR1");

2530 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

2531 
cŞ2
 += 9;

2534 
‹mp
 = ((
d¹
 >> 8)& 0x3);

2536 ià((
drc
 & 3) == 2){

2538 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "5-"); }

2539 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "4-"); }

2540 ià(
‹mp
 =ğ0x2è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); }

2541 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "6-"); }

2544 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); }

2545 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2.5-"); col2 +=2;}

2546 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); }

2548 
cŞ2
 +=2;

2551 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, ((
d¹
 >> 4)& 0x3)+2, 1 ,0);

2552 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2553 
cŞ2
 +=2;

2556 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, (
d¹
&0x3)+2, 1 ,0);

2557 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2558 
cŞ2
 +=2;

2562 ià(
id‘eù
 > 0x2700)

2563 
‹mp
 = ((
d¹
 >> 19)& 0x1F);

2565 
‹mp
 = ((
d¹
 >> 20)& 0x0F);

2567 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
 , 1 ,0);

2568 (
‹mp
 < 10)?(
cŞ2
 += 1):(col2 += 2);

2570 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2572 
‹mp
 = (
dcc
&0x3);

2573 ià(
‹mp
 =ğ1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " Dual Channel (Asymmetric)"); }

2574 ià(
‹mp
 =ğ2è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " Dual Channel (Interleaved)"); }

2575 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " Single Channel (64 bits)"); }

2577 
	}
}

2579 
	$pŞl_timšgs_i965
() {

2582 
ulÚg
 
dev0
, 
‹mp
, 
c0ckeù¾
, 
c1ckeù¾
, 
off£t
;

2583 
ulÚg
 
ODT_CÚŒŞ_Regi¡”
, 
P»ch¬ge_Regi¡”
, 
ACT_Regi¡”
, 
R—d_Regi¡”
, 
Misc_Regi¡”
;

2584 *
±r
;

2587 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2588 
dev0
 &= 0xFFFFC000;

2590 
±r
 = (*)(
dev0
+0x260);

2591 
c0ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2593 
±r
 = (*)(
dev0
+0x660);

2594 
c1ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2597 ((
c0ckeù¾
è>> 20 & 0xF)?(
off£t
 = 0):(offset = 0x400);

2599 
±r
 = (*)(
dev0
+
off£t
+0x29C);

2600 
ODT_CÚŒŞ_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2602 
±r
 = (*)(
dev0
+
off£t
+0x250);

2603 
P»ch¬ge_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2605 
±r
 = (*)(
dev0
+
off£t
+0x252);

2606 
ACT_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2608 
±r
 = (*)(
dev0
+
off£t
+0x258);

2609 
R—d_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2611 
±r
 = (*)(
dev0
+
off£t
+0x244);

2612 
Misc_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2615 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- Type : DDR-II");

2618 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

2619 
cŞ2
 += 9;

2622 
‹mp
 = ((
ODT_CÚŒŞ_Regi¡”
 >> 17)& 7) + 3.0f;

2623 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2624 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2625 (
‹mp
 < 10)?(
cŞ2
 += 2):(col2 += 3);

2628 
‹mp
 = (
R—d_Regi¡”
 >> 16) & 0xF;

2629 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2630 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2631 (
‹mp
 < 10)?(
cŞ2
 += 2):(col2 += 3);

2634 
‹mp
 = (
ACT_Regi¡”
 >> 13) & 0xF;

2635 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2636 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2637 (
‹mp
 < 10)?(
cŞ2
 += 2):(col2 += 3);

2640 
‹mp
 = (
P»ch¬ge_Regi¡”
 >> 11) & 0x1F;

2641 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2642 (
‹mp
 < 10)?(
cŞ2
 += 1):(col2 += 2);

2644 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2646 ià((
c0ckeù¾
 >> 20 & 0xFè&& (
c1ckeù¾
 >> 20 & 0xF)) {

2647 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Dual Channel");

2649 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Single Channel");

2652 
	}
}

2654 
	$pŞl_timšgs_im965
() {

2657 
ulÚg
 
dev0
, 
‹mp
, 
c0ckeù¾
, 
c1ckeù¾
, 
off£t
;

2658 
ulÚg
 
ODT_CÚŒŞ_Regi¡”
, 
P»ch¬ge_Regi¡”
;

2659 *
±r
;

2662 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2663 
dev0
 &= 0xFFFFC000;

2665 
±r
 = (*)(
dev0
+0x1200);

2666 
c0ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2668 
±r
 = (*)(
dev0
+0x1300);

2669 
c1ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2672 ((
c0ckeù¾
è>> 20 & 0xF)?(
off£t
 = 0):(offset = 0x100);

2674 
±r
 = (*)(
dev0
+
off£t
+0x121C);

2675 
ODT_CÚŒŞ_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2677 
±r
 = (*)(
dev0
+
off£t
+0x1214);

2678 
P»ch¬ge_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2681 
	`ıršt
(
LINE_CPU
+5, 
cŞ
+1, "- Type : DDR-II");

2684 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

2685 
cŞ2
 += 9;

2688 
‹mp
 = ((
ODT_CÚŒŞ_Regi¡”
 >> 23)& 7) + 3.0f;

2689 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2690 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2691 (
‹mp
 < 10)?(
cŞ2
 += 2):(col2 += 3);

2694 
‹mp
 = ((
P»ch¬ge_Regi¡”
 >> 5)& 7) + 2.0f;

2695 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2696 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2697 (
‹mp
 < 10)?(
cŞ2
 += 2):(col2 += 3);

2700 
‹mp
 = (
P»ch¬ge_Regi¡”
 & 7) + 2.0f;

2701 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2702 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2703 (
‹mp
 < 10)?(
cŞ2
 += 2):(col2 += 3);

2706 
‹mp
 = (
P»ch¬ge_Regi¡”
 >> 21) & 0x1F;

2707 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2708 (
‹mp
 < 10)?(
cŞ2
 += 1):(col2 += 2);

2710 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2712 ià((
c0ckeù¾
 >> 20 & 0xFè&& (
c1ckeù¾
 >> 20 & 0xF)) {

2713 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Dual Channel");

2715 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Single Channel");

2718 
	}
}

2720 
	$pŞl_timšgs_p35
() {

2723 
ÿs
;

2724 
rcd
, 
½
, 
¿s
;

2725 
ulÚg
 
dev0
, 
Deviû_ID
, 
MemÜy_Check
, 
c0ckeù¾
, 
c1ckeù¾
, 
off£t
;

2726 
ulÚg
 
ODT_CÚŒŞ_Regi¡”
, 
P»ch¬ge_Regi¡”
, 
ACT_Regi¡”
, 
R—d_Regi¡”
, 
Misc_Regi¡”
;

2727 *
±r
;

2729 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x02, 2, &
Deviû_ID
);

2730 
Deviû_ID
 &= 0xFFFF;

2733 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2734 
dev0
 &= 0xFFFFC000;

2736 
±r
 = (*)(
dev0
+0x260);

2737 
c0ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2739 
±r
 = (*)(
dev0
+0x660);

2740 
c1ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2743 ((
c0ckeù¾
è>> 20 & 0xF)?(
off£t
 = 0):(offset = 0x400);

2745 
±r
 = (*)(
dev0
+
off£t
+0x265);

2746 
ODT_CÚŒŞ_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2748 
±r
 = (*)(
dev0
+
off£t
+0x25D);

2749 
P»ch¬ge_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2751 
±r
 = (*)(
dev0
+
off£t
+0x252);

2752 
ACT_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2754 
±r
 = (*)(
dev0
+
off£t
+0x258);

2755 
R—d_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2757 
±r
 = (*)(
dev0
+
off£t
+0x244);

2758 
Misc_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2761 if(
Deviû_ID
 > 0x2E00) {

2762 
±r
 = (*)(
dev0
+
off£t
+0x1A8);

2763 
MemÜy_Check
 = *
±r
 & 0xFFFFFFFF;

2764 
MemÜy_Check
 >>= 2;

2765 
MemÜy_Check
 &= 1;

2766 
MemÜy_Check
 = !Memory_Check;

2768 
±r
 = (*)(
dev0
+
off£t
+0x1E8);

2769 
MemÜy_Check
 = *
±r
 & 0xFFFFFFFF;

2773 ià(
MemÜy_Check
 & 1) {

2774 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- Type : DDR2");

2776 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +1, "- Type : DDR3");

2780 if(
Deviû_ID
 > 0x2E00) {

2781 
ÿs
 = ((
ODT_CÚŒŞ_Regi¡”
 >> 8)& 0x3F) - 6.0f;

2783 
ÿs
 = ((
ODT_CÚŒŞ_Regi¡”
 >> 8)& 0x3F) - 9.0f;

2787 
rcd
 = (
R—d_Regi¡”
 >> 17) & 0xF;

2790 
½
 = (
ACT_Regi¡”
 >> 13) & 0xF;

2793 
¿s
 = 
P»ch¬ge_Regi¡”
 & 0x3F;

2795 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

2797 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2799 ià((
c0ckeù¾
 >> 20 & 0xFè&& (
c1ckeù¾
 >> 20 & 0xF)) {

2800 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Dual Channel");

2802 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Single Channel");

2805 
	}
}

2807 
	$pŞl_timšgs_wmr
() {

2809 
ÿs
;

2810 
rcd
, 
½
, 
¿s
;

2811 
ulÚg
 
dev0
, 
c0ckeù¾
, 
c1ckeù¾
, 
off£t
;

2812 
ulÚg
 
ODT_CÚŒŞ_Regi¡”
, 
P»ch¬ge_Regi¡”
, 
ACT_Regi¡”
, 
R—d_Regi¡”
, 
MRC_Regi¡”
;

2813 *
±r
;

2816 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2817 
dev0
 &= 0xFFFFC000;

2819 
±r
 = (*)(
dev0
+0x260);

2820 
c0ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2822 
±r
 = (*)(
dev0
+0x660);

2823 
c1ckeù¾
 = *
±r
 & 0xFFFFFFFF;

2826 ((
c0ckeù¾
è>> 20 & 0xF)?(
off£t
 = 0):(offset = 0x400);

2828 
±r
 = (*)(
dev0
+
off£t
+0x265);

2829 
ODT_CÚŒŞ_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2831 
±r
 = (*)(
dev0
+
off£t
+0x25D);

2832 
P»ch¬ge_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2834 
±r
 = (*)(
dev0
+
off£t
+0x252);

2835 
ACT_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2837 
±r
 = (*)(
dev0
+
off£t
+0x258);

2838 
R—d_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2840 
±r
 = (*)(
dev0
+
off£t
+0x240);

2841 
MRC_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2844 if(
MRC_Regi¡”
 & 0xF) {

2845 
ÿs
 = (
MRC_Regi¡”
 & 0xF) + 3.0f;

2847 
ÿs
 = ((
ODT_CÚŒŞ_Regi¡”
 >> 8)& 0x3F) - 5.0f;

2851 
rcd
 = (
R—d_Regi¡”
 >> 17) & 0xF;

2854 
½
 = (
ACT_Regi¡”
 >> 13) & 0xF;

2857 
¿s
 = 
P»ch¬ge_Regi¡”
 & 0x3F;

2859 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

2861 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2863 ià((
c0ckeù¾
 >> 20 & 0xFè&& (
c1ckeù¾
 >> 20 & 0xF)) {

2864 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Dual Channel");

2866 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Single Channel");

2869 
	}
}

2871 
	$pŞl_timšgs_¢b
() {

2873 
ÿs
;

2874 
rcd
, 
½
, 
¿s
;

2875 
ulÚg
 
dev0
, 
off£t
;

2876 
ulÚg
 
IMC_Regi¡”
, 
MCMaš0_Regi¡”
, 
MCMaš1_Regi¡”
;

2877 *
±r
;

2880 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x48, 4, &
dev0
);

2881 
dev0
 &= 0xFFFFC000;

2883 
off£t
 = 0x0000;

2885 
±r
 = (*)(
dev0
+
off£t
+0x4000);

2886 
IMC_Regi¡”
 = *
±r
 & 0xFFFFFFFF;

2889 
ÿs
 = ()((
IMC_Regi¡”
 >> 8) & 0x0F);

2892 
rcd
 = 
IMC_Regi¡”
 & 0x0F;

2895 
½
 = (
IMC_Regi¡”
 >> 4) & 0x0F;

2898 
¿s
 = (
IMC_Regi¡”
 >> 16) & 0xFF;

2900 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

2902 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2905 
±r
 = (*)(
dev0
+
off£t
+0x5004);

2906 
MCMaš0_Regi¡”
 = *
±r
 & 0xFFFF;

2907 
±r
 = (*)(
dev0
+
off£t
+0x5008);

2908 
MCMaš1_Regi¡”
 = *
±r
 & 0xFFFF;

2910 if(
MCMaš0_Regi¡”
 =ğ0 || 
MCMaš1_Regi¡”
 == 0) {

2911 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Single Channel");

2913 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Dual Channel");

2916 
	}
}

2918 
	$pŞl_timšgs_5400
() {

2921 
ulÚg
 
amba£
, 
mŒ1
, 
mŒ2
, 
off£t
, 
mÿ
, 
‹mp
;

2922 *
±r
;

2925 
amba£
 = 0xFE000000;

2926 
off£t
 = 
mŒ1
 = 
mŒ2
 = 0;

2930 ((
mŒ2
 & 0xF) < 3) || ((mtr2 & 0xF) > 6)) {

2931 
±r
 = (*)(
amba£
+0x378+
off£t
);

2932 
mŒ1
 = *
±r
 & 0xFFFFFFFF;

2934 
±r
 = (*)(
amba£
+0x37C+
off£t
);

2935 
mŒ2
 = *
±r
 & 0xFFFFFFFF;

2936 
off£t
 += 0x8000;

2939 
	`pci_cÚf_»ad
Ğ0, 16, 1, 0x58, 4, &
mÿ
);

2945 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

2946 
cŞ2
 += 9;

2949 
‹mp
 = 
mŒ2
 & 0xF;

2950 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2951 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2952 
cŞ2
 += 2;

2955 
‹mp
 = 6 - ((
mŒ1
 >> 10) & 3);

2956 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2957 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2958 
cŞ2
 += 2;

2961 
‹mp
 = 6 - ((
mŒ1
 >> 8) & 3);

2962 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2963 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "-");

2964 
cŞ2
 += 2;

2967 
‹mp
 = 16 - (3 * ((
mŒ1
 >> 29) & 3)) + ((mtr1 >> 12) & 3);

2968 if(((
mŒ1
 >> 12è& 3è=ğ3 && ((mŒ1 >> 29è& 3è=ğ2è{ 
‹mp
 = 9; }

2970 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
, 1 ,0);

2971 (
‹mp
 < 10)?(
cŞ2
 += 1):(col2 += 2);

2973 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

2975 ià((
mÿ
 >> 14) & 1) {

2976 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Single Channel");

2978 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "Dual Channel");

2981 
	}
}

2983 
	$pŞl_timšgs_E7520
() {

2985 
ulÚg
 
d¹
, 
ddrc¤
;

2986 
ÿs
;

2987 
rcd
, 
½
, 
¿s
;

2989 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x78, 4, &
d¹
);

2990 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x9A, 2, &
ddrc¤
);

2992 
ÿs
 = ((
d¹
 >> 2) & 3) + 2;

2993 
rcd
 = ((
d¹
 >> 10) & 1) + 3;

2994 
½
 = ((
d¹
 >> 9) & 1) + 3;

2995 
¿s
 = ((
d¹
 >> 14) & 3) + 11;

2997 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

2999 ià((
ddrc¤
 & 0xF) >= 0xC) {

3000 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Dual Channel (128 bits)");

3002 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Single Channel (64 bits)");

3004 
	}
}

3007 
	$pŞl_timšgs_i855
() {

3009 
ulÚg
 
d¹
, 
‹mp
;

3011 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x78, 4, &
d¹
);

3014 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

3015 
cŞ2
 += 9;

3018 
‹mp
 = ((
d¹
 >> 4)&0x1);

3019 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2.5-"); col2 += 4; }

3020 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); col2 +=2; }

3023 
‹mp
 = ((
d¹
 >> 2)& 0x1);

3024 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); }

3025 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); }

3026 
cŞ2
 +=2;

3029 
‹mp
 = (
d¹
&0x1);

3030 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); }

3031 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); }

3032 
cŞ2
 +=2;

3035 
‹mp
 = 7-((
d¹
 >> 9)& 0x3);

3036 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "7"); }

3037 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "6"); }

3038 ià(
‹mp
 =ğ0x2è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "5"); }

3039 
cŞ2
 +=1;

3041 
	}
}

3043 
	$pŞl_timšgs_E750x
() {

3045 
ulÚg
 
d¹
, 
drc
, 
‹mp
;

3046 
ÿs
;

3047 
rcd
, 
½
, 
¿s
;

3049 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x78, 4, &
d¹
);

3050 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x7C, 4, &
drc
);

3052 ià((
d¹
 >> 4è& 1è{ 
ÿs
 = 2; } { cas = 2.5; };

3053 ià((
d¹
 >> 1è& 1è{ 
rcd
 = 2; } {„cd = 3; };

3054 ià(
d¹
 & 1è{ 
½
 = 2; } {„p = 3; };

3056 
‹mp
 = ((
d¹
 >> 9) & 3);

3057 ià(
‹mp
 =ğ2è{ 
¿s
 = 5; } if (temp == 1) {„as = 6; } {„as = 7; }

3059 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

3061 ià(((
drc
 >> 22)&1) == 1) {

3062 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Dual Channel (128 bits)");

3064 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Single Channel (64 bits)");

3067 
	}
}

3069 
	$pŞl_timšgs_i852
() {

3071 
ulÚg
 
d¹
, 
‹mp
;

3073 
	`pci_cÚf_»ad
Ğ0, 0, 1, 0x60, 4, &
d¹
);

3076 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

3077 
cŞ2
 += 9;

3080 
‹mp
 = ((
d¹
 >> 5)&0x1);

3081 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2.5-"); col2 += 4; }

3082 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); col2 +=2; }

3085 
‹mp
 = ((
d¹
 >> 2)& 0x3);

3086 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "4-"); }

3087 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); }

3088 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); }

3089 
cŞ2
 +=2;

3092 
‹mp
 = (
d¹
&0x3);

3093 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "4-"); }

3094 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); }

3095 { 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); }

3096 
cŞ2
 +=2;

3099 
‹mp
 = ((
d¹
 >> 9)& 0x3);

3100 ià(
‹mp
 =ğ0x0è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "8"); col2 +=7; }

3101 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "7"); col2 +=6; }

3102 ià(
‹mp
 =ğ0x2è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "6"); col2 +=5; }

3103 ià(
‹mp
 =ğ0x3è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "5"); col2 +=5; }

3104 
cŞ2
 +=1;

3106 
	}
}

3108 
	$pŞl_timšgs_amd64
() {

3110 
ulÚg
 
d¿mr
, 
d¿mşr
;

3111 
‹mp
;

3112 
Œcd
, 
Œp
, 
Œas
 ;

3114 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

3115 
cŞ2
 += 9;

3117 
	`pci_cÚf_»ad
(0, 24, 2, 0x88, 4, &
d¿mr
);

3118 
	`pci_cÚf_»ad
(0, 24, 2, 0x90, 4, &
d¿mşr
);

3120 ià(((
ıu_id
.
ext
 >> 16) & 0xF) >= 4) {

3124 
‹mp
 = (
d¿mr
 & 0x7) + 1;

3125 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
 , 1 ,0);

3126 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3129 
Œcd
 = ((
d¿mr
 >> 4) & 0x3) + 3;

3130 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œcd
 , 1 ,0);

3131 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3134 
Œp
 = ((
d¿mr
 >> 8) & 0x3) + 3;

3135 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œp
 , 1 ,0);

3136 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3139 
Œas
 = ((
d¿mr
 >> 12) & 0xF) + 3;

3140 ià(
Œas
 < 10){

3141 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œas
 , 1 ,0); col2 += 1;

3143 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œas
 , 2 ,0); col2 += 2;

3145 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

3149 ià((
d¿mşr
 >> 11)&1) {

3150 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " DDR2 (128 bits)");

3151 
cŞ2
 +=16;

3153 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " DDR2 (64 bits)");

3154 
cŞ2
 +=15;

3161 
‹mp
 = (
d¿mr
 & 0x7);

3162 ià(
‹mp
 =ğ0x1è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); col2 +=2; }

3163 ià(
‹mp
 =ğ0x2è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); col2 +=2; }

3164 ià(
‹mp
 =ğ0x5è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2.5-"); col2 +=4; }

3167 
Œcd
 = ((
d¿mr
 >> 12) & 0x7);

3168 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œcd
 , 1 ,0);

3169 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3172 
Œp
 = ((
d¿mr
 >> 24) & 0x7);

3173 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œp
 , 1 ,0);

3174 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3177 
Œas
 = ((
d¿mr
 >> 20) & 0xF);

3178 ià(
Œas
 < 10){

3179 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œas
 , 1 ,0); col2 += 1;

3181 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
Œas
 , 2 ,0); col2 += 2;

3183 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

3187 ià(((
d¿mşr
 >> 16)&1) == 1) {

3188 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " DDR1 (128 bits)");

3189 
cŞ2
 +=16;

3191 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " DDR1 (64 bits)");

3192 
cŞ2
 +=15;

3195 
	}
}

3197 
	$pŞl_timšgs_k10
() {

3199 
ulÚg
 
d¿mr
, 
d¿mşr
, 
d¿mchr
;

3200 
ulÚg
 
off£t
 = 0;

3201 
ÿs
, 
rcd
, 
½
, 
rc
, 
¿s
;

3203 
	`pci_cÚf_»ad
(0, 24, 2, 0x94, 4, &
d¿mchr
);

3206 if(((
d¿mchr
>>14) & 0x1))

3208 
off£t
 = 0x100;

3209 
	`pci_cÚf_»ad
(0, 24, 2, 0x94+
off£t
, 4, &
d¿mchr
);

3212 
	`pci_cÚf_»ad
(0, 24, 2, 0x88+
off£t
, 4, &
d¿mr
);

3213 
	`pci_cÚf_»ad
(0, 24, 2, 0x110, 4, &
d¿mşr
);

3216 if(((
d¿mchr
 >> 8)&1) || ((dramchr & 0x7) == 0x4)){

3218 
ÿs
 = (
d¿mr
 & 0xF) + 4;

3219 
rcd
 = ((
d¿mr
 >> 4) & 0x7) + 5;

3220 
½
 = ((
d¿mr
 >> 7) & 0x7) + 5;

3221 
¿s
 = ((
d¿mr
 >> 12) & 0xF) + 15;

3222 
rc
 = ((
d¿mr
 >> 16) & 0x1F) + 11;

3225 
ÿs
 = (
d¿mr
 & 0xF) + 1;

3226 
rcd
 = ((
d¿mr
 >> 4) & 0x3) + 3;

3227 
½
 = ((
d¿mr
 >> 8) & 0x3) + 3;

3228 
¿s
 = ((
d¿mr
 >> 12) & 0xF) + 3;

3229 
rc
 = ((
d¿mr
 >> 16) & 0x1F) + 11;

3232 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

3234 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/"); col2++;

3237 ià((
d¿mchr
 >> 8)&1) {

3238 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "DDR3");

3240 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "DDR2");

3242 
cŞ2
 += 5;

3245 ià((
d¿mşr
 >> 4)&1) {

3246 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "(128 bits)");

3248 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "(64 bits)");

3251 
	}
}

3253 
	$pŞl_timšgs_k14
() {

3255 
ulÚg
 
d¿mt0
, 
d¿mlow
;

3256 
ÿs
, 
rcd
, 
½
, 
rc
, 
¿s
;

3258 
	`pci_cÚf_»ad
(0, 24, 2, 0x88, 4, &
d¿mlow
);

3259 
	`pci_cÚf_wr™e
(0, 24, 2, 0xF0, 4, 0x00000040);

3260 
	`pci_cÚf_»ad
(0, 24, 2, 0xF4, 4, &
d¿mt0
);

3262 
ÿs
 = (
d¿mlow
 & 0xF) + 4;

3263 
rcd
 = (
d¿mt0
 & 0xF) + 5;

3264 
½
 = ((
d¿mt0
 >> 8) & 0xF) + 5;

3265 
¿s
 = ((
d¿mt0
 >> 16) & 0x1F) + 15;

3266 
rc
 = ((
d¿mt0
 >> 24) & 0x3F) + 16;

3268 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

3270 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ DDR3 (64 bits)");

3272 
	}
}

3274 
	$pŞl_timšgs_EP80579
() {

3276 
ulÚg
 
d¹1
, 
d¹2
;

3277 
ÿs
;

3278 
rcd
, 
½
, 
¿s
;

3280 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x78, 4, &
d¹1
);

3281 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x64, 4, &
d¹2
);

3283 
ÿs
 = ((
d¹1
 >> 3) & 0x7) + 3;

3284 
rcd
 = ((
d¹1
 >> 9) & 0x7) + 3;

3285 
½
 = ((
d¹1
 >> 6) & 0x7) + 3;

3286 
¿s
 = ((
d¹2
 >> 28) & 0xF) + 8;

3288 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

3289 
	}
}

3291 
	$pŞl_timšgs_nf2
() {

3293 
ulÚg
 
d¿mr
, 
d¿mr2
, 
d¿mr3
, 
‹mp
;

3294 
ulÚg
 
dimm1p
, 
dimm2p
, 
dimm3p
;

3296 
	`pci_cÚf_»ad
(0, 0, 1, 0x90, 4, &
d¿mr
);

3297 
	`pci_cÚf_»ad
(0, 0, 1, 0xA0, 4, &
d¿mr2
);

3298 
	`pci_cÚf_»ad
(0, 0, 1, 0x84, 4, &
d¿mr3
);

3299 
	`pci_cÚf_»ad
(0, 0, 2, 0x40, 4, &
dimm1p
);

3300 
	`pci_cÚf_»ad
(0, 0, 2, 0x44, 4, &
dimm2p
);

3301 
	`pci_cÚf_»ad
(0, 0, 2, 0x48, 4, &
dimm3p
);

3303 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "/ CAS : ");

3304 
cŞ2
 += 9;

3307 
‹mp
 = ((
d¿mr2
 >> 4) & 0x7);

3308 ià(
‹mp
 =ğ0x2è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2-"); col2 +=2; }

3309 ià(
‹mp
 =ğ0x3è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "3-"); col2 +=2; }

3310 ià(
‹mp
 =ğ0x6è{ 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "2.5-"); col2 +=4; }

3313 
‹mp
 = ((
d¿mr
 >> 20) & 0xF);

3314 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
 , 1 ,0);

3315 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3318 
‹mp
 = ((
d¿mr
 >> 28) & 0xF);

3319 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
 , 1 ,0);

3320 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
 +1, "-"); col2 +=2;

3323 
‹mp
 = ((
d¿mr
 >> 15) & 0xF);

3324 ià(
‹mp
 < 10){

3325 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
 , 1 ,0); col2 += 1;

3327 
	`d´št
(
LINE_CPU
+6, 
cŞ2
, 
‹mp
 , 2 ,0); col2 += 2;

3329 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
+1, "/"); col2 +=2;

3334 ià((
dimm3p
&1è+ (
dimm2p
&1è=ğ2 || (dimm3p&1è+ (
dimm1p
&1) == 2 ) {

3335 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " Dual Channel (128 bits)");

3336 
cŞ2
 +=24;

3338 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, " Single Channel (64 bits)");

3339 
cŞ2
 +=15;

3342 
	}
}

3344 
	$pŞl_timšgs_us15w
() {

3347 
ulÚg
 
dŒ
, 
‹mp
;

3351 
	`pci_cÚf_wr™e
(0, 0, 0, 0xD0, 4, 0xD0010100 );

3352 
	`pci_cÚf_»ad
(0, 0, 0, 0xD4, 4, &
dŒ
 );

3355 
	`ıršt
(
LINE_CPU
+5, 
cŞ2
 +1, "/ CAS : ");

3356 
cŞ2
 += 9;

3359 
‹mp
 = ((
dŒ
 >> 4) & 0x3) + 3;

3360 
	`d´št
(
LINE_CPU
+5, 
cŞ2
, 
‹mp
, 1 ,0);

3361 
	`ıršt
(
LINE_CPU
+5, 
cŞ2
+1, "-");

3362 
cŞ2
 += 2;

3365 
‹mp
 = ((
dŒ
 >> 2) & 0x3) + 3;

3366 
	`d´št
(
LINE_CPU
+5, 
cŞ2
, 
‹mp
, 1 ,0);

3367 
	`ıršt
(
LINE_CPU
+5, 
cŞ2
+1, "-");

3368 
cŞ2
 += 2;

3371 
‹mp
 = ((
dŒ
 >> 0) & 0x3) + 3;

3372 
	`d´št
(
LINE_CPU
+5, 
cŞ2
, 
‹mp
, 1 ,0);

3373 
cŞ2
 += 1;

3375 
	}
}

3377 
	$pŞl_timšgs_nhm
() {

3379 
ulÚg
 
mc_chªÃl_bªk_timšg
, 
mc_cÚŒŞ
, 
mc_chªÃl_mrs_v®ue
;

3380 
ÿs
;

3381 
rcd
, 
½
, 
¿s
;

3382 
fvc_bn
 = 4;

3385 
	`pci_cÚf_»ad
(
nhm_bus
, 3, 0, 0x48, 2, &
mc_cÚŒŞ
);

3386 
mc_cÚŒŞ
 = (mc_control >> 8) & 0x7;

3389 if(
mc_cÚŒŞ
 & 1) {

3390 
fvc_bn
 = 4;

3391 } if(
mc_cÚŒŞ
 & 2) {

3392 
fvc_bn
 = 5;

3393 } if(
mc_cÚŒŞ
 & 4) {

3394 
fvc_bn
 = 6;

3399 
	`pci_cÚf_»ad
(
nhm_bus
, 
fvc_bn
, 0, 0x88, 4, &
mc_chªÃl_bªk_timšg
);

3400 
	`pci_cÚf_»ad
(
nhm_bus
, 
fvc_bn
, 0, 0x70, 4, &
mc_chªÃl_mrs_v®ue
);

3401 
ÿs
 = ((
mc_chªÃl_mrs_v®ue
 >> 4) & 0xF ) + 4.0f;

3402 
rcd
 = (
mc_chªÃl_bªk_timšg
 >> 9) & 0xF;

3403 
¿s
 = (
mc_chªÃl_bªk_timšg
 >> 4) & 0x1F;

3404 
½
 = 
mc_chªÃl_bªk_timšg
 & 0xF;

3406 
	`´št_timšgs_šfo
(
ÿs
, 
rcd
, 
½
, 
¿s
);

3409 ià(
mc_cÚŒŞ
 == 1 || mc_control == 2 || mc_control == 4 ) {

3410 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Single Channel");

3411 
cŞ2
 += 16;

3412 } ià(
mc_cÚŒŞ
 == 7) {

3413 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Triple Channel");

3414 
cŞ2
 += 16;

3416 
	`ıršt
(
LINE_CPU
+6, 
cŞ2
, "/ Dual Channel");

3417 
cŞ2
 += 14;

3420 
	}
}

3426 
pci_memÜy_cÚŒŞËr
 
	gcÚŒŞËrs
[] = {

3428 { 0, 0, "", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3431 { 0x1022, 0x7006, "AMD 751", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_amd751
, 
pŞl_amd751
 },

3432 { 0x1022, 0x700c, "AMD 762", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_amd76x
, 
pŞl_amd76x
 },

3433 { 0x1022, 0x700e, "AMD 761", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_amd76x
, 
pŞl_amd76x
 },

3436 { 0x1039, 0x0600, "SiS 600", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3437 { 0x1039, 0x0620, "SiS 620", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3438 { 0x1039, 0x5600, "SiS 5600", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3439 { 0x1039, 0x0645, "SiS 645", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3440 { 0x1039, 0x0646, "SiS 645DX", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3441 { 0x1039, 0x0630, "SiS 630", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3442 { 0x1039, 0x0650, "SiS 650", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3443 { 0x1039, 0x0651, "SiS 651", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3444 { 0x1039, 0x0730, "SiS 730", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3445 { 0x1039, 0x0735, "SiS 735", 0, 
pŞl_fsb_amd32
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3446 { 0x1039, 0x0740, "SiS 740", 0, 
pŞl_fsb_amd32
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3447 { 0x1039, 0x0745, "SiS 745", 0, 
pŞl_fsb_amd32
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3448 { 0x1039, 0x0748, "SiS 748", 0, 
pŞl_fsb_amd32
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3449 { 0x1039, 0x0655, "SiS 655", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3450 { 0x1039, 0x0656, "SiS 656", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3451 { 0x1039, 0x0648, "SiS 648", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3452 { 0x1039, 0x0649, "SiS 649", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3453 { 0x1039, 0x0661, "SiS 661", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3454 { 0x1039, 0x0671, "SiS 671", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3455 { 0x1039, 0x0672, "SiS 672", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3458 { 0x10b9, 0x1531, "AL˜AÏddš 4", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3459 { 0x10b9, 0x1541, "AL˜AÏddš 5", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3460 { 0x10b9, 0x1644, "AL˜AÏddš M1644", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3463 { 0x1002, 0x5830, "AT˜RadeÚ 9100 IGP", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3464 { 0x1002, 0x5831, "AT˜RadeÚ 9100 IGP", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3465 { 0x1002, 0x5832, "AT˜RadeÚ 9100 IGP", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3466 { 0x1002, 0x5833, "AT˜RadeÚ 9100 IGP", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3467 { 0x1002, 0x5954, "AT˜RadeÚ X´es 200", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3468 { 0x1002, 0x5A41, "AT˜RadeÚ X´es 200", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3471 { 0x10de, 0x01A4, "nVidŸ‚FÜû", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3472 { 0x10de, 0x01E0, "nVidŸ‚FÜû2 SPP", 0, 
pŞl_fsb_nf2
, 
pŞl_timšgs_nf2
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3473 { 0x10de, 0x0071, "nFÜû4 SLI IÁ– Ed™iÚ", 0, 
pŞl_fsb_nf4›
, 
pŞl_timšgs_nf4›
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3476 { 0x1106, 0x0305, "VIA KT133/KT133A", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3477 { 0x1106, 0x0391, "VIA KX133", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3478 { 0x1106, 0x0501, "VIA MVP4", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3479 { 0x1106, 0x0585, "VIA VP/VPX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3480 { 0x1106, 0x0595, "VIA VP2", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3481 { 0x1106, 0x0597, "VIA VP3", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3482 { 0x1106, 0x0598, "VIA MVP3", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3483 { 0x1106, 0x0691, "VIA ApŞlØPro/133/133A", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3484 { 0x1106, 0x0693, "VIA ApŞlØPro+", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3485 { 0x1106, 0x0601, "VIA PLE133", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3486 { 0x1106, 0x3099, "VIA KT266(A)/KT333", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3487 { 0x1106, 0x3189, "VIA KT400(A)/600", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3488 { 0x1106, 0x0269, "VIA KT880", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3489 { 0x1106, 0x3205, "VIA KM400", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3490 { 0x1106, 0x3116, "VIA KM266", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3491 { 0x1106, 0x3156, "VIA KN266", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3492 { 0x1106, 0x3123, "VIA CLE266", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3493 { 0x1106, 0x0198, "VIA PT800", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3494 { 0x1106, 0x3258, "VIA PT880", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3497 { 0x1166, 0x0008, "CNB20HE", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_úb20
, 
pŞl_nÙhšg
 },

3498 { 0x1166, 0x0009, "CNB20LE", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_úb20
, 
pŞl_nÙhšg
 },

3501 { 0x8086, 0x1130, "IÁ– i815", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3502 { 0x8086, 0x122d, "IÁ– i430FX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3503 { 0x8086, 0x1235, "IÁ– i430MX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3504 { 0x8086, 0x1237, "IÁ– i440FX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3505 { 0x8086, 0x1250, "IÁ– i430HX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3506 { 0x8086, 0x1A21, "IÁ– i840", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_i840
, 
pŞl_i840
 },

3507 { 0x8086, 0x1A30, "IÁ– i845", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_i845
, 
pŞl_i845
 },

3508 { 0x8086, 0x2560, "IÁ– i845E/G/PE/GE",0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_i845
, 
pŞl_i845
 },

3509 { 0x8086, 0x2500, "IÁ– i820", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_i820
, 
pŞl_i820
 },

3510 { 0x8086, 0x2530, "IÁ– i850", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_i850
, 
pŞl_i850
 },

3511 { 0x8086, 0x2531, "IÁ– i860", 1, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_i860
, 
pŞl_i860
 },

3512 { 0x8086, 0x7030, "IÁ– i430VX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3513 { 0x8086, 0x7100, "IÁ– i430TX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3514 { 0x8086, 0x7120, "IÁ– i810", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3515 { 0x8086, 0x7122, "IÁ– i810", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3516 { 0x8086, 0x7124, "IÁ– i810E", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3517 { 0x8086, 0x7180, "IÁ– i440[LE]X", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3518 { 0x8086, 0x7190, "IÁ– i440BX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3519 { 0x8086, 0x7192, "IÁ– i440BX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3520 { 0x8086, 0x71A0, "IÁ– i440GX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_i440gx
, 
pŞl_i440gx
 },

3521 { 0x8086, 0x71A2, "IÁ– i440GX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_i440gx
, 
pŞl_i440gx
 },

3522 { 0x8086, 0x84C5, "IÁ– i450GX", 0, 
pŞl_fsb_nÙhšg
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3523 { 0x8086, 0x2540, "IÁ– E7500", 1, 
pŞl_fsb_p4
, 
pŞl_timšgs_E750x
, 
£tup_iE7xxx
, 
pŞl_iE7xxx
 },

3524 { 0x8086, 0x254C, "IÁ– E7501", 1, 
pŞl_fsb_p4
, 
pŞl_timšgs_E750x
, 
£tup_iE7xxx
, 
pŞl_iE7xxx
 },

3525 { 0x8086, 0x255d, "IÁ– E7205", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_iE7xxx
, 
pŞl_iE7xxx
 },

3526 { 0x8086, 0x3592, "IÁ– E7320", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_E7520
, 
£tup_iE7520
, 
pŞl_iE7520
 },

3527 { 0x8086, 0x2588, "IÁ– E7221", 1, 
pŞl_fsb_i925
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_iE7221
 },

3528 { 0x8086, 0x3590, "IÁ– E7520", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_E7520
, 
£tup_iE7520
, 
pŞl_nÙhšg
 },

3529 { 0x8086, 0x2600, "IÁ– E8500", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3530 { 0x8086, 0x2570, "IÁ– i848/i865", 0, 
pŞl_fsb_i875
, 
pŞl_timšgs_i875
, 
£tup_i875
, 
pŞl_nÙhšg
 },

3531 { 0x8086, 0x2578, "IÁ– i875P", 0, 
pŞl_fsb_i875
, 
pŞl_timšgs_i875
, 
£tup_i875
, 
pŞl_i875
 },

3532 { 0x8086, 0x2550, "IÁ– E7505", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_nÙhšg
, 
£tup_iE7xxx
, 
pŞl_iE7xxx
 },

3533 { 0x8086, 0x3580, "IÁ– ", 0, 
pŞl_fsb_i855
, 
pŞl_timšgs_i852
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3534 { 0x8086, 0x3340, "IÁ– i855PM", 0, 
pŞl_fsb_i855
, 
pŞl_timšgs_i855
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3535 { 0x8086, 0x2580, "IÁ– i915P/G", 0, 
pŞl_fsb_i925
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
 },

3536 { 0x8086, 0x2590, "IÁ– i915PM/GM", 0, 
pŞl_fsb_i925
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
 },

3537 { 0x8086, 0x2584, "IÁ– i925X/XE", 0, 
pŞl_fsb_i925
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_iE7221
 },

3538 { 0x8086, 0x2770, "IÁ– i945P/G", 0, 
pŞl_fsb_i945
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
 },

3539 { 0x8086, 0x27A0, "IÁ– i945GM/PM", 0, 
pŞl_fsb_i945
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
 },

3540 { 0x8086, 0x27AC, "IÁ– i945GME", 0, 
pŞl_fsb_i945
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
 },

3541 { 0x8086, 0x2774, "IÁ– i955X", 0, 
pŞl_fsb_i945
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
},

3542 { 0x8086, 0x277C, "IÁ– i975X", 0, 
pŞl_fsb_i975
, 
pŞl_timšgs_i925
, 
£tup_i925
, 
pŞl_nÙhšg
},

3543 { 0x8086, 0x2970, "IÁ– i946PL/GZ", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_i965
, 
£tup_p35
, 
pŞl_nÙhšg
},

3544 { 0x8086, 0x2990, "IÁ– Q963/Q965", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_i965
, 
£tup_p35
, 
pŞl_nÙhšg
},

3545 { 0x8086, 0x29A0, "IÁ– P965/G965", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_i965
, 
£tup_p35
, 
pŞl_nÙhšg
},

3546 { 0x8086, 0x2A00, "IÁ– GM965/GL960", 0, 
pŞl_fsb_im965
, 
pŞl_timšgs_im965
, 
£tup_p35
, 
pŞl_nÙhšg
},

3547 { 0x8086, 0x2A10, "IÁ– GME965/GLE960",0, 
pŞl_fsb_im965
, 
pŞl_timšgs_im965
, 
£tup_p35
, 
pŞl_nÙhšg
},

3548 { 0x8086, 0x2A40, "IÁ– PM/GM45/47", 0, 
pŞl_fsb_im965
, 
pŞl_timšgs_im965
, 
£tup_p35
, 
pŞl_nÙhšg
},

3549 { 0x8086, 0x29B0, "IÁ– Q35", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3550 { 0x8086, 0x29C0, "IÁ– P35/G33", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3551 { 0x8086, 0x29D0, "IÁ– Q33", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3552 { 0x8086, 0x29E0, "IÁ– X38/X48", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3553 { 0x8086, 0x29F0, "IÁ– 3200/3210", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3554 { 0x8086, 0x2E10, "IÁ– Q45/Q43", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3555 { 0x8086, 0x2E20, "IÁ– P45/G45", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3556 { 0x8086, 0x2E30, "IÁ– G41", 0, 
pŞl_fsb_i965
, 
pŞl_timšgs_p35
, 
£tup_p35
, 
pŞl_nÙhšg
},

3557 { 0x8086, 0x4001, "IÁ– 5400A", 0, 
pŞl_fsb_5400
, 
pŞl_timšgs_5400
, 
£tup_E5400
, 
pŞl_nÙhšg
},

3558 { 0x8086, 0x4003, "IÁ– 5400B", 0, 
pŞl_fsb_5400
, 
pŞl_timšgs_5400
, 
£tup_E5400
, 
pŞl_nÙhšg
},

3559 { 0x8086, 0x25D8, "IÁ– 5000P", 0, 
pŞl_fsb_5400
, 
pŞl_timšgs_5400
, 
£tup_E5400
, 
pŞl_nÙhšg
},

3560 { 0x8086, 0x25D4, "IÁ– 5000V", 0, 
pŞl_fsb_5400
, 
pŞl_timšgs_5400
, 
£tup_E5400
, 
pŞl_nÙhšg
},

3561 { 0x8086, 0x25C0, "IÁ– 5000X", 0, 
pŞl_fsb_5400
, 
pŞl_timšgs_5400
, 
£tup_E5400
, 
pŞl_nÙhšg
},

3562 { 0x8086, 0x25D0, "IÁ– 5000Z", 0, 
pŞl_fsb_5400
, 
pŞl_timšgs_5400
, 
£tup_E5400
, 
pŞl_nÙhšg
},

3563 { 0x8086, 0x5020, "IÁ– EP80579", 0, 
pŞl_fsb_p4
, 
pŞl_timšgs_EP80579
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3564 { 0x8086, 0x8100, "IÁ– US15W", 0, 
pŞl_fsb_us15w
, 
pŞl_timšgs_us15w
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
},

3565 { 0x8086, 0x8101, "IÁ– UL11L/US15L", 0, 
pŞl_fsb_us15w
, 
pŞl_timšgs_us15w
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
},

3568 { 0xFFFF, 0x0001, "CÜIMC", 0, 
pŞl_fsb_nhm
, 
pŞl_timšgs_nhm
, 
£tup_nhm
, 
pŞl_nÙhšg
},

3569 { 0xFFFF, 0x0002, "CÜIMC 32nm", 0, 
pŞl_fsb_nhm32
, 
pŞl_timšgs_nhm
, 
£tup_nhm32
, 
pŞl_nÙhšg
},

3570 { 0xFFFF, 0x0003, "CÜIMC 32nm", 0, 
pŞl_fsb_wmr
, 
pŞl_timšgs_wmr
, 
£tup_wmr
, 
pŞl_nÙhšg
},

3571 { 0xFFFF, 0x0004, "SNB IMC 32nm", 0, 
pŞl_fsb_¢b
, 
pŞl_timšgs_¢b
, 
£tup_wmr
, 
pŞl_nÙhšg
},

3572 { 0xFFFF, 0x0100, "AMD K8 IMC", 0, 
pŞl_fsb_amd64
, 
pŞl_timšgs_amd64
, 
£tup_amd64
, 
pŞl_amd64
 },

3573 { 0xFFFF, 0x0101, "AMD K10 IMC", 0, 
pŞl_fsb_k10
, 
pŞl_timšgs_k10
, 
£tup_k10
, 
pŞl_nÙhšg
 },

3574 { 0xFFFF, 0x0102, "AMD APU IMC", 0, 
pŞl_fsb_k14
, 
pŞl_timšgs_k14
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 },

3577 { 0xFFFF, 0xFFFF, "", 0, 
pŞl_fsb_ç§ã
, 
pŞl_timšgs_nÙhšg
, 
£tup_nÙhšg
, 
pŞl_nÙhšg
 }

3580 
	$´št_memÜy_cÚŒŞËr
()

3584 
d
;

3586 *
Çme
;

3587 ià(
ù¾
.
šdex
 == 0) {

3592 
Çme
 = 
cÚŒŞËrs
[
ù¾
.
šdex
].name;

3593 
cŞ
 = 10;

3594 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, 
Çme
);

3596 
Çme
[
cŞ
 - 10] != '\0') {

3597 
cŞ
++;

3600 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, " "); col++;

3601 ià(
ù¾
.
ÿp
 =ğ
ECC_UNKNOWN
) {

3604 ià(
ù¾
.
ÿp
 & 
__ECC_DETECT
) {

3605 
Ú
;

3606 
Ú
 = 
ù¾
.
mode
 & 
__ECC_DETECT
;

3607 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "(ECC : ");

3608 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +7, 
Ú
?"Detect":"Disabled)");

3609 
Ú
?(
cŞ
 += 13):(col += 16);

3611 ià(
ù¾
.
mode
 & 
__ECC_CORRECT
) {

3612 
Ú
;

3613 
Ú
 = 
ù¾
.
mode
 & 
__ECC_CORRECT
;

3614 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, " / ");

3615 ià(
ù¾
.
ÿp
 & 
__ECC_CHIPKILL
) {

3616 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +3, 
Ú
?"Correct -":"");

3617 
Ú
?(
cŞ
 += 12):(col +=3);

3619 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +3, 
Ú
?"Correct)":"");

3620 
Ú
?(
cŞ
 += 11):(col +=3);

3623 ià(
ù¾
.
mode
 & 
__ECC_DETECT
) {

3624 ià(
ù¾
.
ÿp
 & 
__ECC_CHIPKILL
) {

3625 
Ú
;

3626 
Ú
 = 
ù¾
.
mode
 & 
__ECC_CHIPKILL
;

3627 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, " Chipkill : ");

3628 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +12, 
Ú
?"On)":"Off)");

3629 
Ú
?(
cŞ
 += 15):(col +=16);

3631 ià(
ù¾
.
mode
 & 
__ECC_SCRUB
) {

3632 
Ú
;

3633 
Ú
 = 
ù¾
.
mode
 & 
__ECC_SCRUB
;

3634 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, " Scrub");

3635 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +6, 
Ú
?"+ ":"- ");

3636 
cŞ
 += 7;

3638 ià(
ù¾
.
ÿp
 & 
__ECC_UNEXPECTED
) {

3639 
Ú
;

3640 
Ú
 = 
ù¾
.
mode
 & 
__ECC_UNEXPECTED
;

3641 
	`ıršt
(
LINE_CPU
+5, 
cŞ
, "Unknown");

3642 
	`ıršt
(
LINE_CPU
+5, 
cŞ
 +7, 
Ú
?"+ ":"- ");

3643 
cŞ
 += 9;

3647 
cŞ2
 = 0;

3648 
d
 = 
	`g‘_key
();

3650 ià(
d
 != 0x3B) {

3651 
cÚŒŞËrs
[
ù¾
.
šdex
].
	`pŞl_fsb
();

3652 
cÚŒŞËrs
[
ù¾
.
šdex
].
	`pŞl_timšgs
();

3654 
	}
}

3657 
	$fšd_cÚŒŞËr
()

3659 
v’dÜ
;

3660 
deviû
;

3661 
ıu_id’t
 
ıu_id
;

3662 
i
;

3663 
»suÉ
;

3664 
»suÉ
 = 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 
PCI_VENDOR_ID
, 2, &
v’dÜ
);

3665 
»suÉ
 = 
	`pci_cÚf_»ad
(
ù¾
.
bus
, cŒl.
dev
, cŒl.
â
, 
PCI_DEVICE_ID
, 2, &
deviû
);

3668 if(
imc_ty³
è{ 
v’dÜ
 = 0xFFFF; 
deviû
 = imc_type; }

3669 if(
ç_§ã
è{ 
v’dÜ
 = 0xFFFF; 
deviû
 = 0xFFFF; }

3671 
ù¾
.
šdex
 = 0;

3672 ià(
»suÉ
 == 0) {

3673 
i
 = 1; i < (
cÚŒŞËrs
)/(controllers[0]); i++) {

3674 ià((
cÚŒŞËrs
[
i
].
v’dÜ
 =ğv’dÜè&& (cÚŒŞËrs[i].
deviû
 == device)) {

3675 
ù¾
.
šdex
 = 
i
;

3681 
cÚŒŞËrs
[
ù¾
.
šdex
].
	`£tup_ecc
();

3685 
	`£t_ecc_pŞlšg
(-1);

3686 
	`´št_memÜy_cÚŒŞËr
();

3688 
	}
}

3690 
	$pŞl_”rÜs
()

3692 ià(
ù¾
.
pŞl
) {

3693 
cÚŒŞËrs
[
ù¾
.
šdex
].
	`pŞl_”rÜs
();

3695 
	}
}

3697 
	$£t_ecc_pŞlšg
(
v®
)

3699 
‹¡ed
 = 
cÚŒŞËrs
[
ù¾
.
šdex
].tested;

3700 ià(
v®
 == -1) {

3701 
v®
 = 
‹¡ed
;

3703 ià(
v®
 && (
ù¾
.
mode
 & 
__ECC_DETECT
)) {

3704 
ù¾
.
pŞl
 = 1;

3705 
	`ıršt
(
LINE_INFO
, 
COL_ECC
, 
‹¡ed
? " on": " ON");

3707 
ù¾
.
pŞl
 = 0;

3708 
	`ıršt
(
LINE_INFO
, 
COL_ECC
, "off");

3710 
	}
}

	@controller.h

1 #iâdeà
MEMTEST_CONTROLLER_H


2 
	#MEMTEST_CONTROLLER_H


	)

4 
fšd_cÚŒŞËr
();

5 
pŞl_”rÜs
();

6 
£t_ecc_pŞlšg
(
v®
);

	@cpuid.c

7 
	~"ıuid.h
"

9 
ıuid_t
 
	gıuid_d©a0
;

10 
ıuid_t
 
	gıuid_d©a80
;

12 
	gnum_logiÿl_ıus
 = 1;

13 
	gnum_cÜes_³r_·ckage
 = 1;

14 
	gnum_hy³r_th»ads_³r_cÜe
 = 1;

17 
	$ıuid_g‘
(
n
, 
ıuid_t
 *
d©a
)

19 
d©a
->
—x
 = 
n
;

20 
	`GET_CPUID
(
d©a
->
—x
, d©a->
ebx
, d©a->
ecx
, d©a->
edx
);

21 
	}
}

29 
ıuid_v’dÜ_¡ršg_t


30 
	$ıuid_g‘_v’dÜ_¡ršg
()

32 
ıuid_v’dÜ_¡ršg_t
 
v
;

35 
v
.
ušt32_¬¿y
[0] = 
ıuid_d©a0
.
ebx
;

36 
v
.
ušt32_¬¿y
[1] = 
ıuid_d©a0
.
edx
;

37 
v
.
ušt32_¬¿y
[2] = 
ıuid_d©a0
.
ecx
;

38 
v
.
ch¬_¬¿y
[
CPUID_VENDOR_STR_LENGTH
-1] = '\0';

39  
v
;

40 
	}
}

48 
ıuid_v”siÚ_t


49 
	$ıuid_g‘_v”siÚ
()

51 
ıuid_v”siÚ_t
 
v
;

52 
ušt32_t
 
junkEBX
 = 0, 
junkECX
 = 0, 
junkEDX
 = 0;

53 
v
.
æ©
 = 0x1;

54 
	`GET_CPUID
(
v
.
æ©
, 
junkEBX
, 
junkECX
, 
junkEDX
);

55  
v
;

56 
	}
}

59 
ıuid_ã©u»_æags_t


60 
	$ıuid_g‘_ã©u»_æags
()

62 
ıuid_ã©u»_æags_t
 
f
;

63 
ušt32_t
 
junkEAX
 = 0x1, 
junkEBX
 = 0;

64 
	`GET_CPUID
(
junkEAX
, 
junkEBX
, 
f
.
ušt32_¬¿y
[1], f.uint32_array[0]);

65  
f
;

66 
	}
}

88 
boŞ


89 
	$ıuid_g‘_ext_ã©u»_æags
(
ıuid_ext_ã©u»_æags_t
 *
f
)

91 
ušt32_t
 
—x
, 
ebx
, 
ecx
;

93 ià(
ıuid_d©a80
.
—x
 < 0x80000001) {

95  
FALSE
;

97 
—x
 = 
CPUID_EXTENDED_FEATURE
;

98 
	`GET_CPUID
(
—x
, 
ebx
, 
ecx
, 
f
->
æ©
);

99  
TRUE
;

100 
	}
}

102 
	#CHAR_TO_INT
(
a
,
b
,
c
,
d
è(×è+ (bè* 0x100 + (cè* 0x10000 + (dè* 0x1000000)

	)

104 
boŞ


105 
	$ıuid_is_v’dÜ_amd
()

107  
ıuid_d©a0
.
ebx
 =ğ
	`CHAR_TO_INT
('A', 'u', 't', 'h')

108 && 
ıuid_d©a0
.
edx
 =ğ
	`CHAR_TO_INT
('e', 'n', 't', 'i')

109 && 
ıuid_d©a0
.
ecx
 =ğ
	`CHAR_TO_INT
('c', 'A', 'M', 'D');

110 
	}
}

113 
boŞ


114 
	$ıuid_is_v’dÜ_š‹l
()

116  
ıuid_d©a0
.
ebx
 =ğ
	`CHAR_TO_INT
('G', 'e', 'n', 'u')

117 && 
ıuid_d©a0
.
edx
 =ğ
	`CHAR_TO_INT
('i', 'n', 'e', 'I')

118 && 
ıuid_d©a0
.
ecx
 =ğ
	`CHAR_TO_INT
('n', 't', 'e', 'l');

119 
	}
}

136 
boŞ


137 
	$ıuid_is_çmy_p4
()

139 
ıuid_v”siÚ_t
 
v
 = 
	`ıuid_g‘_v”siÚ
();

141  
	`ıuid_is_v’dÜ_š‹l
(è&& 
v
.
b™s
.
çmy
 =ğ
CPUID_FAMILY_EXTENDED
 &&

142 
v
.
b™s
.
ex‹ndedFamy
 =ğ
CPUID_EXTENDED_FAMILY_PENTIUM4
;

143 
	}
}

159 
boŞ


160 
	$ıuid_is_çmy_p6
()

162 
ıuid_v”siÚ_t
 
v
 = 
	`ıuid_g‘_v”siÚ
();

164  
	`ıuid_is_v’dÜ_š‹l
(è&& 
v
.
b™s
.
çmy
 =ğ
CPUID_FAMILY_P6
;

165 
	}
}

179 
boŞ


180 
	$ıuid_is_çmy_İ‹rÚ
()

182 
ıuid_v”siÚ_t
 
v
 = 
	`ıuid_g‘_v”siÚ
();

183  
	`ıuid_is_v’dÜ_amd
(è&& 
	`CPUID_FAMILY_IS_OPTERON
(
v
.
æ©
);

184 
	}
}

197 
	$ıuid_š™
()

200 
ıuid_t
 
id1
;

207 
ıuid_d©a0
.
—x
 = 0;

208 
	`GET_CPUID
(
ıuid_d©a0
.
—x
, cpuid_d©a0.
ebx
,

209 
ıuid_d©a0
.
ecx
, cpuid_d©a0.
edx
);

215 
	`ıuid_g‘
(1, &
id1
);

217 ià(
	`ıuid_is_v’dÜ_š‹l
()) {

218 ià(
	`ıuid_is_çmy_p6
()) {

222 ià(
	`ıuid_is_çmy_p4
()) {

230 ià(
id1
.
edx
 & 
CPUID_FEATURE_COMMON_ID1EDX_HT
) {

231 
num_hy³r_th»ads_³r_cÜe
 = (
id1
.
ebx
 >> 16) & 0xff;

232 ià(
	`ıuid_max_func
() >= 4) {

233 
ıuid_t
 
id4
;

234 
	`ıuid_g‘
(4, &
id4
);

235 
num_cÜes_³r_·ckage
 = ((
id4
.
—x
 >> 26) & 0x3f) + 1;

236 
num_hy³r_th»ads_³r_cÜe
 /ğ
num_cÜes_³r_·ckage
;

240 } ià(
	`ıuid_is_v’dÜ_amd
()) {

241 
ıuid_d©a80
.
—x
 = 0x80000000;

242 
	`GET_CPUID
(
ıuid_d©a80
.
—x
, cpuid_d©a80.
ebx
,

243 
ıuid_d©a80
.
ecx
, cpuid_d©a80.
edx
);

244 ià(
	`ıuid_max_ext_func
() >= 0x80000008) {

250 
ıuid_t
 
id88
;

251 
	`ıuid_g‘
(0x80000008, &
id88
);

252 
num_cÜes_³r_·ckage
 = 
id88
.
ecx
 & 0xff;

253 
num_hy³r_th»ads_³r_cÜe
 = 1;

258 
	}
}

	@cpuid.h

9 #iâdeà
_CPUID_H_


10 
	#_CPUID_H_


	)

11 
	~"¡dšt.h
"

12 
	~"defs.h
"

13 
	~"smp.h
"

15 
	#CPUID_EXTENDED_BASE
 0x80000000

	)

16 
	#CPUID_EXTENDED_FEATURE
 0x80000001

	)

17 
	#CPUID_EXTENDED_BRAND1
 0x80000002

	)

18 
	#CPUID_EXTENDED_BRAND2
 0x80000003

	)

19 
	#CPUID_EXTENDED_BRAND3
 0x80000004

	)

21 
	#CPUID_VENDOR_LENGTH
 3

	)

22 
	#CPUID_VENDOR_STR_LENGTH
 (
CPUID_VENDOR_LENGTH
 * (
ušt32_t
è+ 1)

	)

23 
	#CPUID_BRAND_LENGTH
 12

	)

24 
	#CPUID_BRAND_STR_LENGTH
 (
CPUID_BRAND_LENGTH
 * (
ušt32_t
è+ 1)

	)

26 
	#CPUID_FAMILY
(
_—x
è(((_—xè>> 8è& 0xf)

	)

28 
	#CPUID_FAMILY_486
 4

	)

29 
	#CPUID_FAMILY_P5
 5

	)

30 
	#CPUID_FAMILY_P6
 6

	)

31 
	#CPUID_FAMILY_EXTENDED
 15

	)

33 
	#CPUID_EXTENDED_FAMILY
(
_—x
è(((_—xè>> 20è& 0xff)

	)

34 
	#CPUID_EXTENDED_FAMILY_PENTIUM4
 0

	)

35 
	#CPUID_EXTENDED_FAMILY_OPTERON
 0

	)

38 
	#CPUID_FAMILY_IS_OPTERON
(
_—x
) \

39 (
	`CPUID_FAMILY
(
_—x
è=ğ
CPUID_FAMILY_EXTENDED
 && \

40 
	`CPUID_EXTENDED_FAMILY
(
_—x
è=ğ
CPUID_EXTENDED_FAMILY_OPTERON
)

	)

41 
	#CPUID_FEATURE_COMMON_ID1EDX_HT
 0x10000000

	)

45 
ušt32_t
 
	m—x
;

46 
ušt32_t
 
	mebx
;

47 
ušt32_t
 
	mecx
;

48 
ušt32_t
 
	medx
;

49 } 
	tıuid_t
;

52 
ıuid_t
 
ıuid_d©a0
;

53 
ıuid_t
 
ıuid_d©a80
;

56 
šlše
 

57 
	$ıuid_max_func
()

59  
ıuid_d©a0
.
—x
;

60 
	}
}

63 
šlše
 

64 
	$ıuid_max_ext_func
()

66  
ıuid_d©a80
.
—x
;

67 
	}
}

73 
	mch¬_¬¿y
[
CPUID_VENDOR_STR_LENGTH
];

74 
ušt32_t
 
	mušt32_¬¿y
[
CPUID_VENDOR_LENGTH
];

75 } 
	tıuid_v’dÜ_¡ršg_t
;

80 
	mch¬_¬¿y
[
CPUID_BRAND_STR_LENGTH
];

81 
ušt32_t
 
	mušt32_¬¿y
[
CPUID_BRAND_LENGTH
];

82 } 
	tıuid_b¿nd_¡ršg_t
;

86 
ušt32_t
 
	mæ©
;

88 
ušt32_t
 
	m¡•pšg
:4;

89 
ušt32_t
 
	mmod–
:4;

90 
ušt32_t
 
	mçmy
:4;

91 
ušt32_t
 
	m´oûssÜTy³
:2;

92 
ušt32_t
 
	m»£rved1514
:2;

93 
ušt32_t
 
	mex‹ndedMod–
:4;

94 
ušt32_t
 
	mex‹ndedFamy
:8;

95 
ušt32_t
 
	m»£rved3128
:4;

96 } 
	mb™s
;

97 } 
	tıuid_v”siÚ_t
;

101 
ušt32_t
 
	mæ©
;

103 
ušt32_t
 
	mb¿ndIndex
:8;

104 
ušt32_t
 
	mcæushLšeSize
:8;

105 
ušt32_t
 
	mlogiÿlProûssÜCouÁ
:8;

106 
ušt32_t
 
	m­icID
:8;

107 } 
	mb™s
;

108 } 
	tıuid_´oc_šfo_t
;

112 
ušt64_t
 
	mæ©
;

113 
ušt32_t
 
	mušt32_¬¿y
[2];

115 
ušt32_t
 
	måu
:1;

116 
ušt32_t
 
	mvme
:1;

117 
ušt32_t
 
	mde
:1;

118 
ušt32_t
 
	mp£
:1;

119 
ušt32_t
 
	mtsc
:1;

120 
ušt32_t
 
	mm¤
:1;

121 
ušt32_t
 
	m·e
:1;

122 
ušt32_t
 
	mmû
:1;

123 
ušt32_t
 
	mcx8
:1;

124 
ušt32_t
 
	m­ic
:1;

125 
ušt32_t
 
	m»£rved10
:1;

126 
ušt32_t
 
	m£p
:1;

127 
ušt32_t
 
	mmŒr
:1;

128 
ušt32_t
 
	mpge
:1;

129 
ušt32_t
 
	mmÿ
:1;

130 
ušt32_t
 
	mcmov
:1;

131 
ušt32_t
 
	m·t
:1;

132 
ušt32_t
 
	mp£36
:1;

133 
ušt32_t
 
	mp¢
:1;

134 
ušt32_t
 
	mcæush
:1;

135 
ušt32_t
 
	m»£rved20
:1;

136 
ušt32_t
 
	mds
:1;

137 
ušt32_t
 
	maıi
:1;

138 
ušt32_t
 
	mmmx
:1;

139 
ušt32_t
 
	mfx¤
:1;

140 
ušt32_t
 
	ms£
:1;

141 
ušt32_t
 
	ms£2
:1;

142 
ušt32_t
 
	mss
:1;

143 
ušt32_t
 
	mh‰
:1;

144 
ušt32_t
 
	mtm
:1;

145 
ušt32_t
 
	m»£rved30
:1;

146 
ušt32_t
 
	mpbe
:1;

147 
ušt32_t
 
	ms£3
:1;

148 
ušt32_t
 
	m»£rved3433
:2;

149 
ušt32_t
 
	mmÚ™Ü
:1;

150 
ušt32_t
 
	mdsıl
:1;

151 
ušt32_t
 
	m»£rved3937
:3;

152 
ušt32_t
 
	mtm2
:1;

153 
ušt32_t
 
	m»£rved41
:1;

154 
ušt32_t
 
	múxtid
:1;

155 
ušt32_t
 
	m»£rved4443
:2;

156 
ušt32_t
 
	mcmpxchg16b
:1;

157 
ušt32_t
 
	m»£rved6346
:18;

158 } 
	mb™s
;

159 } 
	tıuid_ã©u»_æags_t
;

163 
ušt64_t
 
	mæ©
;

164 
ušt32_t
 
	mušt32_¬¿y
[2];

166 
ušt32_t
 
	måu
:1;

167 
ušt32_t
 
	mvme
:1;

168 
ušt32_t
 
	mde
:1;

169 
ušt32_t
 
	mp£
:1;

170 
ušt32_t
 
	mtsc
:1;

171 
ušt32_t
 
	mm¤
:1;

172 
ušt32_t
 
	m·e
:1;

173 
ušt32_t
 
	mmû
:1;

174 
ušt32_t
 
	mcx8
:1;

175 
ušt32_t
 
	m­ic
:1;

176 
ušt32_t
 
	m»£rved10
:1;

177 
ušt32_t
 
	m£p
:1;

178 
ušt32_t
 
	mmŒr
:1;

179 
ušt32_t
 
	mpge
:1;

180 
ušt32_t
 
	mmÿ
:1;

181 
ušt32_t
 
	mcmov
:1;

182 
ušt32_t
 
	m·t
:1;

183 
ušt32_t
 
	mp£36
:1;

184 
ušt32_t
 
	m»£rved1918
:2;

185 
ušt32_t
 
	mnx
:1;

186 
ušt32_t
 
	m»£rved21
:1;

187 
ušt32_t
 
	mmmxamd
:1;

188 
ušt32_t
 
	mmmx
:1;

189 
ušt32_t
 
	mfx¤
:1;

190 
ušt32_t
 
	mffx¤
:1;

191 
ušt32_t
 
	m»£rved26
:1;

192 
ušt32_t
 
	mrdtsı
:1;

193 
ušt32_t
 
	m»£rved28
:1;

194 
ušt32_t
 
	mlm
:1;

195 
ušt32_t
 
	mth»ed“nowext
:1;

196 
ušt32_t
 
	mth»ed“now
:1;

197 
ušt32_t
 
	mÏhf
:1;

198 
ušt32_t
 
	mcm¶egacy
:1;

199 
ušt32_t
 
	m»£rved3534
:2;

200 
ušt32_t
 
	mü8ava
:1;

201 
ušt32_t
 
	m»£rved6337
:27;

202 } 
	mb™s
;

203 } 
	tıuid_ext_ã©u»_æags_t
;

205 
ıuid_g‘
(
n
, 
ıuid_t
 *
d©a
);

206 
ıuid_v’dÜ_¡ršg_t
 
ıuid_g‘_v’dÜ_¡ršg
();

207 
ıuid_v”siÚ_t
 
ıuid_g‘_v”siÚ
();

208 
ıuid_ã©u»_æags_t
 
ıuid_g‘_ã©u»_æags
();

209 
boŞ
 
ıuid_g‘_ext_ã©u»_æags
(
ıuid_ext_ã©u»_æags_t
 *
f
);

210 
boŞ
 
ıuid_is_v’dÜ_amd
();

211 
boŞ
 
ıuid_is_v’dÜ_š‹l
();

212 
boŞ
 
ıuid_is_çmy_p6
();

213 
boŞ
 
ıuid_is_çmy_p4
();

214 
boŞ
 
ıuid_is_çmy_İ‹rÚ
();

215 
ıuid_š™
();

	@defs.h

7 
	#SETUPSECS
 4

	)

15 
	#LOW_TEST_ADR
 0x00002000

	)

17 
	#BOOTSEG
 0x07c0

	)

18 
	#INITSEG
 0x9000

	)

19 
	#SETUPSEG
 (
INITSEG
+0x20è

	)

20 
	#TSTLOAD
 0x1000

	)

22 
	#KERNEL_CS
 0x10

	)

23 
	#KERNEL_DS
 0x18

	)

24 
	#REAL_CS
 0x20

	)

25 
	#REAL_DS
 0x28

	)

	@dmi.c

12 
	~"‹¡.h
"

13 
	~<¡dšt.h
>

16 
	#round_up
(
x
,
y
è(((xè+ (yè- 1è& ~((y)-1))

	)

17 
	#round_down
(
x
,
y
è((xè& ~((y)-1))

	)

20 
	sdmi_•s
 {

21 
ušt8_t
 
	mªchÜ
[4];

22 
št8_t
 
	mchecksum
;

23 
ušt8_t
 
	mËngth
;

24 
ušt8_t
 
	mmajÜv”siÚ
;

25 
ušt8_t
 
	mmšÜv”siÚ
;

26 
ušt16_t
 
	mmax¡ruùsize
;

27 
ušt8_t
 
	m»visiÚ
;

28 
ušt8_t
 
	m·d
[5];

29 
ušt8_t
 
	mšnchÜ
[5];

30 
št8_t
 
	mštchecksum
;

31 
ušt16_t
 
	mbËËngth
;

32 
ušt32_t
 
	mbËadd»ss
;

33 
ušt16_t
 
	mnum¡ruùs
;

34 
ušt8_t
 
	mSMBIOS»v
;

35 } 
__©Œibu‹__
((
·cked
));

37 
	st¡ruù_h—d”
{

38 
ušt8_t
 
	mty³
;

39 
ušt8_t
 
	mËngth
;

40 
ušt16_t
 
	mhªdË
;

41 } 
__©Œibu‹__
((
·cked
));

43 
	smem_dev
 {

44 
t¡ruù_h—d”
 
	mh—d”
;

45 
ušt16_t
 
	mpma_hªdË
;

46 
ušt16_t
 
	m”r_hªdË
;

47 
ušt16_t
 
	mtÙ_width
;

48 
ušt16_t
 
	md©_width
;

49 
ušt16_t
 
	msize
;

50 
ušt8_t
 
	mfÜm
;

51 
ušt8_t
 
	m£t
;

52 
ušt8_t
 
	mdev_loÿtÜ
;

53 
ušt8_t
 
	mbªk_loÿtÜ
;

54 
ušt8_t
 
	mty³
;

55 
ušt16_t
 
	mty³d‘a
;

56 
ušt16_t
 
	m¥“d
;

57 
ušt8_t
 
	mmªuçùu»r
;

58 
ušt8_t
 
	m£rŸÊum
;

59 
ušt8_t
 
	mas£t
;

60 
ušt8_t
 
	m·¹num
;

61 } 
__©Œibu‹__
((
·cked
));

63 
	smd_m­
{

64 
t¡ruù_h—d”
 
	mh—d”
;

65 
ušt32_t
 
	m¡¬t
;

66 
ušt32_t
 
	m’d
;

67 
ušt16_t
 
	mmd_hªdË
;

68 
ušt16_t
 
	mmama_hªdË
;

69 
ušt8_t
 
	mrow_pos
;

70 
ušt8_t
 
	mš‹¾_pos
;

71 
ušt8_t
 
	mš‹¾_d•th
;

72 } 
__©Œibu‹__
((
·cked
));

74 
	spma
{

75 
t¡ruù_h—d”
 
	mh—d”
;

76 
ušt8_t
 
	mloÿtiÚ
;

77 
ušt8_t
 
	mu£
;

78 
ušt8_t
 
	mecc
;

79 
ušt32_t
 
	mÿ·c™y
;

80 
ušt16_t
 
	m”rhªdË
;

81 
ušt16_t
 
	mnumdevs
;

82 } 
__©Œibu‹__
((
·cked
));

84 *
	gfÜm_çùÜs
[] = {

92 *
	gmemÜy_ty³s
[] = {

101 
mem_dev
 * 
	gmem_devs
[
MAX_DMI_MEMDEVS
];

102 
	gmem_devs_couÁ
=0;

103 
md_m­
 * 
	gmd_m­s
[
MAX_DMI_MEMDEVS
];

104 
	gmd_m­s_couÁ
=0;

105 
	gdmi_”r_úts
[
MAX_DMI_MEMDEVS
];

106 
	gdmi_š™Ÿlized
=0;

108 
	$¡¾’
(* 
¡ršg
){

109 
i
=0;

110 *
¡ršg
++){
i
++;};

111  
i
;

112 
	}
}

115 * 
	$g‘_t¡ruù_¡ršg
(
t¡ruù_h—d”
 *
h—d”
, 
n
){

116 if(
n
<1)

118 * 
a
 = (*)
h—d”
 + h—d”->
Ëngth
;

119 
n
--;

121 ià(!*
a
)

122 
n
--;

123 ià(!
n
 && *
a
)

124  
a
;

125 
a
++;

126 }!(*
a
==0 && *(a-1)==0));

128 
	}
}

131 
	$İ’_dmi
(){

132 *
dmi
, *
dmi_£¬ch_¡¬t
, *
dmi_¡¬t
;

133 
found
=0;

134 
dmi_•s
 *
•s
;

135 *
bË_¡¬t
;

136 
t¡ruù_couÁ
=0;

137 
dmi_£¬ch_¡¬t
 = (*)
DMI_SEARCH_START
;

140 
dmi
 = 
dmi_£¬ch_¡¬t
; dmi < dmi_search_start + 0xf0000; dmi +=16){

141 ifĞ*
dmi
 == '_' &&

142 *(
dmi
+1) == 'S' &&

143 *(
dmi
+2) == 'M' &&

144 *(
dmi
+3) == '_'){

145 
found
 =1;

149 ià(!
found
) {

152 
dmi_¡¬t
=
dmi
;

153 
•s
=(
dmi_•s
 *)
dmi
;

156 
št8_t
 
checksum
=0;

157 ; 
dmi
 < 
dmi_¡¬t
 + 
•s
->
Ëngth
; dmi++)

158 
checksum
 +ğ*
dmi
;

159 ià(
checksum
){

164 iàĞ
•s
->
majÜv”siÚ
 < 2 &&

165 
•s
->
mšÜv”siÚ
 < 1){

170 
bË_¡¬t
=(*)
•s
->
bËadd»ss
;

171 
dmi
=
bË_¡¬t
;

173 
dmi
 < 
bË_¡¬t
 + 
•s
->
bËËngth
){

174 
t¡ruù_h—d”
 *
h—d”
 = (t¡ruù_h—d” *)
dmi
;

175 ià(
h—d”
->
ty³
 == 17)

176 
mem_devs
[
mem_devs_couÁ
++]=(
mem_dev
 *)
dmi
;

179 ià(
h—d”
->
ty³
 == 20 || header->type == 1)

180 
md_m­s
[
md_m­s_couÁ
++]=(
md_m­
 *)
dmi
;

181 
dmi
+=
h—d”
->
Ëngth
;

182  ! (*
dmi
 == 0 && *(dmi+1) == 0 ) )

183 
dmi
++;

184 
dmi
+=2;

186 ià(++
t¡ruù_couÁ
 > 
•s
->
num¡ruùs
)

190 
	}
}

192 
	$š™_dmi
(){

193 
i
;

194 
i
=0; i < 
MAX_DMI_MEMDEVS
; i++)

195 
dmi_”r_úts
[
i
]=0;

196 
	`İ’_dmi
();

197 
dmi_š™Ÿlized
=1;

198 
	}
}

200 
	$´št_dmi_šfo
(){

201 
i
,
j
,
·ge
;

202 * 
¡ršg
=0;

204 if(!
dmi_š™Ÿlized
)

205 
	`š™_dmi
();

207 ià(
mem_devs_couÁ
 == 0){

208 
	`ıršt
(
POP2_Y
+1, 
POP2_X
+2, "No valid DMI Memory Devices info found");

209 
	`g‘_key
() == 0);

213 
·ge
=1;…ag<ğ1 + (
mem_devs_couÁ
-1)/8;…age++){

214 
	`pİ2ş—r
();

215 
	`ıršt
(
POP2_Y
+1, 
POP2_X
+2, "DMI Memory Device Info (page ");

216 
	`™ß
(
¡ršg
,
·ge
);

217 
	`ıršt
(
POP2_Y
+1, 
POP2_X
+32, 
¡ršg
);

218 
	`ıršt
(
POP2_Y
+1, 
POP2_X
+33, "/");

219 
	`™ß
(
¡ršg
,1 + (
mem_devs_couÁ
-1)/8);

220 
	`ıršt
(
POP2_Y
+1, 
POP2_X
+34, 
¡ršg
);

221 
	`ıršt
(
POP2_Y
+1, 
POP2_X
+35, ")");

223 
	`ıršt
(
POP2_Y
+3, 
POP2_X
+4, "Location Size(MB) Speed(MHz) Type Form");

224 
	`ıršt
(
POP2_Y
+4, 
POP2_X
+4, "--------------------------------------------------------------");

226 
i
=8*(
·ge
-1); i<
mem_devs_couÁ
 && i<8*page; i++){

227 
size_š_mb
;

228 
yof
;

230 
yof
=
POP2_Y
+5+2*(
i
-8*(
·ge
-1));

231 
	`ıršt
(
yof
, 
POP2_X
+4, 
	`g‘_t¡ruù_¡ršg
(&(
mem_devs
[
i
]->
h—d”
), mem_devs[i]->
dev_loÿtÜ
));

233 ià(
mem_devs
[
i
]->
size
 == 0){

234 
	`ıršt
(
yof
, 
POP2_X
+4+18, "Empty");

235 }ià(
mem_devs
[
i
]->
size
 == 0xFFFF){

236 
	`ıršt
(
yof
, 
POP2_X
+4+18, "Unknown");

238 
size_š_mb
 = 0xEFFF & 
mem_devs
[
i
]->
size
;

239 ià(
mem_devs
[
i
]->
size
 & 0x8000)

240 
size_š_mb
 = size_in_mb<<10;

241 
	`™ß
(
¡ršg
, 
size_š_mb
);

242 
	`ıršt
(
yof
, 
POP2_X
+4+18, 
¡ršg
);

246 iàĞ
mem_devs
[
i
]->
¥“d
 &&

247 
mem_devs
[
i
]->
h—d”
.
Ëngth
 > 21){

248 
	`™ß
(
¡ršg
, 
mem_devs
[
i
]->
¥“d
);

249 
	`ıršt
(
yof
, 
POP2_X
+4+27, 
¡ršg
);

251 
	`ıršt
(
yof
, 
POP2_X
+4+27, "Unknown");

253 
	`ıršt
(
yof
, 
POP2_X
+4+37, 
memÜy_ty³s
[
mem_devs
[
i
]->
ty³
]);

254 
	`ıršt
(
yof
, 
POP2_X
+4+44, 
fÜm_çùÜs
[
mem_devs
[
i
]->
fÜm
]);

257 
m­³d
=0,
of
=0;

258 
	`ıršt
(
yof
+1, 
POP2_X
+6,"mappedo: ");

259 
j
=0; j<
md_m­s_couÁ
; j++){

260 ià(
mem_devs
[
i
]->
h—d”
.
hªdË
 !ğ
md_m­s
[
j
]->
md_hªdË
)

262 ià(
m­³d
++){

263 
	`ıršt
(
yof
+1, 
POP2_X
+17+
of
, ",");

264 
of
++;

266 
	`h´št3
(
yof
+1, 
POP2_X
+17+
of
, 
md_m­s
[
j
]->
¡¬t
<<10, 12);

267 
of
 += 12;

268 
	`ıršt
(
yof
+1, 
POP2_X
+17+
of
, "-");

269 
of
++;

270 
	`h´št3
(
yof
+1, 
POP2_X
+17+
of
, 
md_m­s
[
j
]->
’d
<<10, 12);

271 
of
 += 12;

273 ià(!
m­³d
)

274 
	`ıršt
(
yof
+1, 
POP2_X
+17, "No mapping (Interleaved Device)");

278 
	`wa™_keyup
();

279 
	`g‘_key
() == 0);

281 
	}
}

284 
	$add_dmi_”r
(
ulÚg
 
adr
){

285 
i
,
j
,
found
=-1;

287 if(!
dmi_š™Ÿlized
)

288 
	`š™_dmi
();

290 
i
=0; i < 
md_m­s_couÁ
; i++){

291 iàĞ
adr
 < (
md_m­s
[
i
]->
¡¬t
<<10) ||

292 
adr
 > (
md_m­s
[
i
]->
’d
<<10) )

296 
j
=0; j < 
mem_devs_couÁ
; j++){

297 ià(
mem_devs
[
j
]->
h—d”
.
hªdË
 !ğ
md_m­s
[
i
]->
md_hªdË
)

299 ià(
dmi_”r_úts
[
j
]){

300 
found
=0;

302 
found
 = 
dmi_”r_úts
[
j
] = 1;

307  
found
;

308 
	}
}

310 
	$´št_dmi_”r
(){

311 
i
,
couÁ
,
of
;

312 *
¡ršg
;

314 
	`süŞl
();

316 
	`ıršt
(
v
->
msg_lše
, 0,"Bad Memory Devices: ");

317 
of
=20;

318  
i
=
couÁ
=0; i < 
MAX_DMI_MEMDEVS
; i++){

319 ià(!
dmi_”r_úts
[
i
])

321 
mem_dev
 *
md
 = 
mem_devs
[
i
];

322 if(
couÁ
++){

323 
	`ıršt
(
v
->
msg_lše
, 
of
, ", ");

324 
of
+=2;

326 
¡ršg
=
	`g‘_t¡ruù_¡ršg
((
t¡ruù_h—d”
 *)
md
,md->
dev_loÿtÜ
);

327 ià(
	`¡¾’
(
¡ršg
è+ 
of
 > 80){

328 
	`süŞl
();

329 
of
=7;

331 
	`ıršt
(
v
->
msg_lše
, 
of
, 
¡ršg
);

332 
of
 +ğ
	`¡¾’
(
¡ršg
);

334 
	}
}

	@dmi.h

1 #iâdeà
__DMI_H__


2 
	#__DMI_H__


	)

3 
add_dmi_”r
(
ulÚg
 
adr
);

4 
´št_dmi_”r
();

5 
´št_dmi_šfo
();

	@elf.h

1 #iâdeà
ELF_H


2 
	#ELF_H


	)

4 
	#EI_NIDENT
 16

	)

7 
	#ET_NONE
 0

	)

8 
	#ET_REL
 1

	)

9 
	#ET_EXEC
 2

	)

10 
	#ET_DYN
 3

	)

11 
	#ET_CORE
 4

	)

14 
	#EM_NONE
 0

	)

15 
	#EM_M32
 1

	)

16 
	#EM_SPARC
 2

	)

17 
	#EM_386
 3

	)

18 
	#EM_68K
 4

	)

19 
	#EM_88K
 5

	)

20 
	#EM_486
 6

	)

21 
	#EM_860
 7

	)

22 
	#EM_MIPS
 8

	)

23 
	#EM_S370
 9

	)

24 
	#EM_MIPS_RS3_LE
 10

	)

26 
	#EM_PARISC
 15

	)

27 
	#EM_VPP500
 17

	)

28 
	#EM_SPARC32PLUS
 18

	)

29 
	#EM_960
 19

	)

30 
	#EM_PPC
 20

	)

31 
	#EM_PPC64
 21

	)

32 
	#EM_S390
 22

	)

34 
	#EM_V800
 36

	)

35 
	#EM_FR20
 37

	)

36 
	#EM_RH32
 38

	)

37 
	#EM_RCE
 39

	)

38 
	#EM_ARM
 40

	)

39 
	#EM_FAKE_ALPHA
 41

	)

40 
	#EM_SH
 42

	)

41 
	#EM_SPARCV9
 43

	)

42 
	#EM_TRICORE
 44

	)

43 
	#EM_ARC
 45

	)

44 
	#EM_H8_300
 46

	)

45 
	#EM_H8_300H
 47

	)

46 
	#EM_H8S
 48

	)

47 
	#EM_H8_500
 49

	)

48 
	#EM_IA_64
 50

	)

49 
	#EM_MIPS_X
 51

	)

50 
	#EM_COLDFIRE
 52

	)

51 
	#EM_68HC12
 53

	)

52 
	#EM_MMA
 54

	)

53 
	#EM_PCP
 55

	)

54 
	#EM_NCPU
 56

	)

55 
	#EM_NDR1
 57

	)

56 
	#EM_STARCORE
 58

	)

57 
	#EM_ME16
 59

	)

58 
	#EM_ST100
 60

	)

59 
	#EM_TINYJ
 61

	)

60 
	#EM_X86_64
 62

	)

61 
	#EM_PDSP
 63

	)

63 
	#EM_FX66
 66

	)

64 
	#EM_ST9PLUS
 67

	)

65 
	#EM_ST7
 68

	)

66 
	#EM_68HC16
 69

	)

67 
	#EM_68HC11
 70

	)

68 
	#EM_68HC08
 71

	)

69 
	#EM_68HC05
 72

	)

70 
	#EM_SVX
 73

	)

71 
	#EM_AT19
 74

	)

72 
	#EM_VAX
 75

	)

73 
	#EM_CRIS
 76

	)

74 
	#EM_JAVELIN
 77

	)

75 
	#EM_FIREPATH
 78

	)

76 
	#EM_ZSP
 79

	)

77 
	#EM_MMIX
 80

	)

78 
	#EM_HUANY
 81

	)

79 
	#EM_PRISM
 82

	)

80 
	#EM_AVR
 83

	)

81 
	#EM_FR30
 84

	)

82 
	#EM_D10V
 85

	)

83 
	#EM_D30V
 86

	)

84 
	#EM_V850
 87

	)

85 
	#EM_M32R
 88

	)

86 
	#EM_MN10300
 89

	)

87 
	#EM_MN10200
 90

	)

88 
	#EM_PJ
 91

	)

89 
	#EM_OPENRISC
 92

	)

90 
	#EM_ARC_A5
 93

	)

91 
	#EM_XTENSA
 94

	)

92 
	#EM_NUM
 95

	)

95 
	#PT_NULL
 0

	)

96 
	#PT_LOAD
 1

	)

97 
	#PT_DYNAMIC
 2

	)

98 
	#PT_INTERP
 3

	)

99 
	#PT_NOTE
 4

	)

100 
	#PT_SHLIB
 5

	)

101 
	#PT_PHDR
 6

	)

104 
	#PF_X
 0x1

	)

105 
	#PF_W
 0x2

	)

106 
	#PF_R
 0x4

	)

109 
	#ELF_PROGRAM_RETURNS_BIT
 0x8000000

	)

111 
	#EI_MAG0
 0

	)

112 
	#ELFMAG0
 0x7f

	)

114 
	#EI_MAG1
 1

	)

115 
	#ELFMAG1
 'E'

	)

117 
	#EI_MAG2
 2

	)

118 
	#ELFMAG2
 'L'

	)

120 
	#EI_MAG3
 3

	)

121 
	#ELFMAG3
 'F'

	)

123 
	#ELFMAG
 "\177ELF"

	)

125 
	#EI_CLASS
 4

	)

126 
	#ELFCLASSNONE
 0

	)

127 
	#ELFCLASS32
 1

	)

128 
	#ELFCLASS64
 2

	)

130 
	#EI_DATA
 5

	)

131 
	#ELFDATANONE
 0

	)

132 
	#ELFDATA2LSB
 1

	)

133 
	#ELFDATA2MSB
 2

	)

135 
	#EI_VERSION
 6

	)

138 
	#EV_NONE
 0

	)

139 
	#EV_CURRENT
 1

	)

141 
	#ELF32_PHDR_SIZE
 (8*4è

	)

143 #iâdeà
ASSEMBLY


145 
	~"¡dšt.h
"

151 
ušt32_t
 
	tElf32_Addr
;

152 
ušt16_t
 
	tElf32_H®f
;

153 
ušt32_t
 
	tElf32_Off
;

154 
ušt16_t
 
	tElf32_SeùiÚ
;

155 
št32_t
 
	tElf32_SwÜd
;

156 
ušt32_t
 
	tElf32_WÜd
;

157 
ušt32_t
 
	tElf32_Size
;

159 
ušt64_t
 
	tElf64_Addr
;

160 
ušt16_t
 
	tElf64_H®f
;

161 
ušt64_t
 
	tElf64_Off
;

162 
ušt16_t
 
	tElf64_SeùiÚ
;

163 
št32_t
 
	tElf64_SwÜd
;

164 
ušt32_t
 
	tElf64_WÜd
;

165 
ušt64_t
 
	tElf64_Size
;

166 
ušt64_t
 
	tElf64_XwÜd
;

167 
št64_t
 
	tElf64_SxwÜd
;

173 
	me_id’t
[
EI_NIDENT
];

174 
Elf32_H®f
 
	me_ty³
;

175 
Elf32_H®f
 
	me_machše
;

176 
Elf32_WÜd
 
	me_v”siÚ
;

177 
Elf32_Addr
 
	me_’Œy
;

178 
Elf32_Off
 
	me_phoff
;

179 
Elf32_Off
 
	me_shoff
;

180 
Elf32_WÜd
 
	me_æags
;

181 
Elf32_H®f
 
	me_ehsize
;

182 
Elf32_H®f
 
	me_ph’tsize
;

183 
Elf32_H®f
 
	me_phnum
;

184 
Elf32_H®f
 
	me_sh’tsize
;

185 
Elf32_H®f
 
	me_shnum
;

186 
Elf32_H®f
 
	me_sh¡ºdx
;

187 } 
	tElf32_Ehdr
;

190 
	me_id’t
[
EI_NIDENT
];

191 
Elf64_H®f
 
	me_ty³
;

192 
Elf64_H®f
 
	me_machše
;

193 
Elf64_WÜd
 
	me_v”siÚ
;

194 
Elf64_Addr
 
	me_’Œy
;

195 
Elf64_Off
 
	me_phoff
;

196 
Elf64_Off
 
	me_shoff
;

197 
Elf64_WÜd
 
	me_æags
;

198 
Elf64_H®f
 
	me_ehsize
;

199 
Elf64_H®f
 
	me_ph’tsize
;

200 
Elf64_H®f
 
	me_phnum
;

201 
Elf64_H®f
 
	me_sh’tsize
;

202 
Elf64_H®f
 
	me_shnum
;

203 
Elf64_H®f
 
	me_sh¡ºdx
;

204 } 
	tElf64_Ehdr
;

210 
Elf32_WÜd
 
	mp_ty³
;

211 
Elf32_Off
 
	mp_off£t
;

212 
Elf32_Addr
 
	mp_vaddr
;

213 
Elf32_Addr
 
	mp_·ddr
;

214 
Elf32_Size
 
	mp_fesz
;

215 
Elf32_Size
 
	mp_memsz
;

216 
Elf32_WÜd
 
	mp_æags
;

217 
Elf32_Size
 
	mp_®ign
;

218 } 
	tElf32_Phdr
;

221 
Elf64_WÜd
 
	mp_ty³
;

222 
Elf64_WÜd
 
	mp_æags
;

223 
Elf64_Off
 
	mp_off£t
;

224 
Elf64_Addr
 
	mp_vaddr
;

225 
Elf64_Addr
 
	mp_·ddr
;

226 
Elf64_Size
 
	mp_fesz
;

227 
Elf64_Size
 
	mp_memsz
;

228 
Elf64_Size
 
	mp_®ign
;

229 } 
	tElf64_Phdr
;

236 
Elf32_SwÜd
 
	md_g
;

239 
Elf32_WÜd
 
	md_v®
;

240 
Elf32_Addr
 
	md_±r
;

241 } 
	md_un
;

242 } 
	tElf32_Dyn
;

246 
Elf64_SxwÜd
 
	md_g
;

249 
Elf64_XwÜd
 
	md_v®
;

250 
Elf64_Addr
 
	md_±r
;

251 } 
	md_un
;

252 } 
	tElf64_Dyn
;

256 
	#DT_NULL
 0

	)

257 
	#DT_NEEDED
 1

	)

258 
	#DT_PLTRELSZ
 2

	)

259 
	#DT_PLTGOT
 3

	)

260 
	#DT_HASH
 4

	)

261 
	#DT_STRTAB
 5

	)

262 
	#DT_SYMTAB
 6

	)

263 
	#DT_RELA
 7

	)

264 
	#DT_RELASZ
 8

	)

265 
	#DT_RELAENT
 9

	)

266 
	#DT_STRSZ
 10

	)

267 
	#DT_SYMENT
 11

	)

268 
	#DT_INIT
 12

	)

269 
	#DT_FINI
 13

	)

270 
	#DT_SONAME
 14

	)

271 
	#DT_RPATH
 15

	)

272 
	#DT_SYMBOLIC
 16

	)

273 
	#DT_REL
 17

	)

274 
	#DT_RELSZ
 18

	)

275 
	#DT_RELENT
 19

	)

276 
	#DT_PLTREL
 20

	)

277 
	#DT_DEBUG
 21

	)

278 
	#DT_TEXTREL
 22

	)

279 
	#DT_JMPREL
 23

	)

280 
	#DT_BIND_NOW
 24

	)

281 
	#DT_INIT_ARRAY
 25

	)

282 
	#DT_FINI_ARRAY
 26

	)

283 
	#DT_INIT_ARRAYSZ
 27

	)

284 
	#DT_FINI_ARRAYSZ
 28

	)

285 
	#DT_RUNPATH
 29

	)

286 
	#DT_FLAGS
 30

	)

287 
	#DT_ENCODING
 32

	)

288 
	#DT_PREINIT_ARRAY
 32

	)

289 
	#DT_PREINIT_ARRAYSZ
 33

	)

290 
	#DT_NUM
 34

	)

291 
	#DT_LOOS
 0x6000000d

	)

292 
	#DT_HIOS
 0x6ffff000

	)

293 
	#DT_LOPROC
 0x70000000

	)

294 
	#DT_HIPROC
 0x7ffffffà

	)

295 
	#DT_PROCNUM
 0x32

	)

300 
	#DT_VALRNGLO
 0x6ffffd00

	)

301 
	#DT_GNU_PRELINKED
 0x6ffffdf5

	)

302 
	#DT_GNU_CONFLICTSZ
 0x6ffffdf6

	)

303 
	#DT_GNU_LIBLISTSZ
 0x6ffffdf7

	)

304 
	#DT_CHECKSUM
 0x6ffffdf8

	)

305 
	#DT_PLTPADSZ
 0x6ffffdf9

	)

306 
	#DT_MOVEENT
 0x6ffffdç

	)

307 
	#DT_MOVESZ
 0x6ffffdfb

	)

308 
	#DT_FEATURE_1
 0x6ffffdfø

	)

309 
	#DT_POSFLAG_1
 0x6ffffdfd

	)

311 
	#DT_SYMINSZ
 0x6ffffdã

	)

312 
	#DT_SYMINENT
 0x6ffffdfà

	)

313 
	#DT_VALRNGHI
 0x6ffffdff

	)

314 
	#DT_VALTAGIDX
(
g
è(
DT_VALRNGHI
 - (g)è

	)

315 
	#DT_VALNUM
 12

	)

322 
	#DT_ADDRRNGLO
 0x6fffã00

	)

323 
	#DT_GNU_CONFLICT
 0x6fffãf8

	)

324 
	#DT_GNU_LIBLIST
 0x6fffãf9

	)

325 
	#DT_CONFIG
 0x6fffãç

	)

326 
	#DT_DEPAUDIT
 0x6fffãfb

	)

327 
	#DT_AUDIT
 0x6fffãfø

	)

328 
	#DT_PLTPAD
 0x6fffãfd

	)

329 
	#DT_MOVETAB
 0x6fffãã

	)

330 
	#DT_SYMINFO
 0x6fffãfà

	)

331 
	#DT_ADDRRNGHI
 0x6fffãff

	)

332 
	#DT_ADDRTAGIDX
(
g
è(
DT_ADDRRNGHI
 - (g)è

	)

333 
	#DT_ADDRNUM
 10

	)

337 
	#DT_VERSYM
 0x6ffffff0

	)

339 
	#DT_RELACOUNT
 0x6ffffff9

	)

340 
	#DT_RELCOUNT
 0x6fffffç

	)

343 
	#DT_FLAGS_1
 0x6ffffffb

	)

344 
	#DT_VERDEF
 0x6ffffffø

	)

346 
	#DT_VERDEFNUM
 0x6ffffffd

	)

347 
	#DT_VERNEED
 0x6fffffã

	)

349 
	#DT_VERNEEDNUM
 0x6ffffffà

	)

350 
	#DT_VERSIONTAGIDX
(
g
è(
DT_VERNEEDNUM
 - (g)è

	)

351 
	#DT_VERSIONTAGNUM
 16

	)

355 
	#DT_AUXILIARY
 0x7ffffffd

	)

356 
	#DT_FILTER
 0x7ffffffà

	)

357 
	#DT_EXTRATAGIDX
(
g
è((
Elf32_WÜd
)-((
Elf32_SwÜd
èÑagè<<1>>1)-1)

	)

358 
	#DT_EXTRANUM
 3

	)

361 
	#DF_ORIGIN
 0x00000001

	)

362 
	#DF_SYMBOLIC
 0x00000002

	)

363 
	#DF_TEXTREL
 0x00000004

	)

364 
	#DF_BIND_NOW
 0x00000008

	)

365 
	#DF_STATIC_TLS
 0x00000010

	)

369 
	#DF_1_NOW
 0x00000001

	)

370 
	#DF_1_GLOBAL
 0x00000002

	)

371 
	#DF_1_GROUP
 0x00000004

	)

372 
	#DF_1_NODELETE
 0x00000008

	)

373 
	#DF_1_LOADFLTR
 0x00000010

	)

374 
	#DF_1_INITFIRST
 0x00000020

	)

375 
	#DF_1_NOOPEN
 0x00000040

	)

376 
	#DF_1_ORIGIN
 0x00000080

	)

377 
	#DF_1_DIRECT
 0x00000100

	)

378 
	#DF_1_TRANS
 0x00000200

	)

379 
	#DF_1_INTERPOSE
 0x00000400

	)

380 
	#DF_1_NODEFLIB
 0x00000800

	)

381 
	#DF_1_NODUMP
 0x00001000

	)

382 
	#DF_1_CONFALT
 0x00002000

	)

383 
	#DF_1_ENDFILTEE
 0x00004000

	)

384 
	#DF_1_DISPRELDNE
 0x00008000

	)

385 
	#DF_1_DISPRELPND
 0x00010000

	)

388 
	#DTF_1_PARINIT
 0x00000001

	)

389 
	#DTF_1_CONFEXP
 0x00000002

	)

392 
	#DF_P1_LAZYLOAD
 0x00000001

	)

393 
	#DF_P1_GROUPPERM
 0x00000002

	)

398 
	#SHN_UNDEF
 0

	)

399 
	#SHN_LORESERVE
 0xff00

	)

400 
	#SHN_LOPROC
 0xff00

	)

401 
	#SHN_HIPROC
 0xff1à

	)

402 
	#SHN_LOOS
 0xff20

	)

403 
	#SHN_HIOS
 0xff3à

	)

404 
	#SHN_ABS
 0xfff1

	)

405 
	#SHN_COMMON
 0xfff2

	)

406 
	#SHN_XINDEX
 0xfffà

	)

407 
	#SHN_HIRESERVE
 0xfffà

	)

411 
	#SHT_NULL
 0

	)

412 
	#SHT_PROGBITS
 1

	)

413 
	#SHT_SYMTAB
 2

	)

414 
	#SHT_STRTAB
 3

	)

415 
	#SHT_RELA
 4

	)

416 
	#SHT_HASH
 5

	)

417 
	#SHT_DYNAMIC
 6

	)

418 
	#SHT_NOTE
 7

	)

419 
	#SHT_NOBITS
 8

	)

420 
	#SHT_REL
 9

	)

421 
	#SHT_SHLIB
 10

	)

422 
	#SHT_DYNSYM
 11

	)

423 
	#SHT_INIT_ARRAY
 14

	)

424 
	#SHT_FINI_ARRAY
 15

	)

425 
	#SHT_PREINIT_ARRAY
 16

	)

426 
	#SHT_GROUP
 17

	)

427 
	#SHT_SYMTAB_SHNDX
 18

	)

428 
	#SHT_NUM
 19

	)

429 
	#SHT_LOOS
 0x60000000

	)

430 
	#SHT_GNU_LIBLIST
 0x6ffffff7

	)

431 
	#SHT_CHECKSUM
 0x6ffffff8

	)

432 
	#SHT_LOSUNW
 0x6fffffç

	)

433 
	#SHT_SUNW_move
 0x6fffffç

	)

434 
	#SHT_SUNW_COMDAT
 0x6ffffffb

	)

435 
	#SHT_SUNW_symšfo
 0x6ffffffc

	)

436 
	#SHT_GNU_v”def
 0x6ffffffd

	)

437 
	#SHT_GNU_v”Ãed
 0x6fffffã

	)

438 
	#SHT_GNU_v”sym
 0x6ffffffà

	)

439 
	#SHT_HISUNW
 0x6ffffffà

	)

440 
	#SHT_HIOS
 0x6ffffffà

	)

441 
	#SHT_LOPROC
 0x70000000

	)

442 
	#SHT_HIPROC
 0x7ffffffà

	)

443 
	#SHT_LOUSER
 0x80000000

	)

444 
	#SHT_HIUSER
 0x8ffffffà

	)

448 
	#SHF_WRITE
 (1 << 0è

	)

449 
	#SHF_ALLOC
 (1 << 1è

	)

450 
	#SHF_EXECINSTR
 (1 << 2è

	)

451 
	#SHF_MERGE
 (1 << 4è

	)

452 
	#SHF_STRINGS
 (1 << 5è

	)

453 
	#SHF_INFO_LINK
 (1 << 6è

	)

454 
	#SHF_LINK_ORDER
 (1 << 7è

	)

455 
	#SHF_OS_NONCONFORMING
 (1 << 8è

	)

457 
	#SHF_GROUP
 (1 << 9è

	)

458 
	#SHF_TLS
 (1 << 10è

	)

459 
	#SHF_MASKOS
 0x0ff00000

	)

460 
	#SHF_MASKPROC
 0xf0000000

	)

463 
	#GRP_COMDAT
 0x1

	)

469 
Elf32_WÜd
 
	m¡_Çme
;

470 
Elf32_Addr
 
	m¡_v®ue
;

471 
Elf32_WÜd
 
	m¡_size
;

472 
	m¡_šfo
;

473 
	m¡_Ùh”
;

474 
Elf32_SeùiÚ
 
	m¡_shndx
;

475 } 
	tElf32_Sym
;

479 
Elf64_WÜd
 
	m¡_Çme
;

480 
	m¡_šfo
;

481 
	m¡_Ùh”
;

482 
Elf64_SeùiÚ
 
	m¡_shndx
;

483 
Elf64_Addr
 
	m¡_v®ue
;

484 
Elf64_XwÜd
 
	m¡_size
;

485 } 
	tElf64_Sym
;

491 
Elf32_Addr
 
	mr_off£t
;

492 
Elf32_WÜd
 
	mr_šfo
;

493 } 
	tElf32_R–
;

502 
Elf64_Addr
 
	mr_off£t
;

503 
Elf64_XwÜd
 
	mr_šfo
;

504 } 
	tElf64_R–
;

510 
Elf32_Addr
 
	mr_off£t
;

511 
Elf32_WÜd
 
	mr_šfo
;

512 
Elf32_SwÜd
 
	mr_add’d
;

513 } 
	tElf32_R–a
;

517 
Elf64_Addr
 
	mr_off£t
;

518 
Elf64_XwÜd
 
	mr_šfo
;

519 
Elf64_SxwÜd
 
	mr_add’d
;

520 } 
	tElf64_R–a
;

524 
	#ELF32_R_SYM
(
v®
è((v®è>> 8)

	)

525 
	#ELF32_R_TYPE
(
v®
è((v®è& 0xff)

	)

526 
	#ELF32_R_INFO
(
sym
, 
ty³
è(((symè<< 8è+(Ñy³è& 0xff))

	)

528 
	#ELF64_R_SYM
(
i
è((iè>> 32)

	)

529 
	#ELF64_R_TYPE
(
i
è((iè& 0xffffffff)

	)

530 
	#ELF64_R_INFO
(
sym
,
ty³
è((((
Elf64_XwÜd
è(sym)è<< 32è+Ñy³))

	)

537 
	#R_386_NONE
 0

	)

538 
	#R_386_32
 1

	)

539 
	#R_386_PC32
 2

	)

540 
	#R_386_GOT32
 3

	)

541 
	#R_386_PLT32
 4

	)

542 
	#R_386_COPY
 5

	)

543 
	#R_386_GLOB_DAT
 6

	)

544 
	#R_386_JMP_SLOT
 7

	)

545 
	#R_386_RELATIVE
 8

	)

546 
	#R_386_GOTOFF
 9

	)

547 
	#R_386_GOTPC
 10

	)

548 
	#R_386_32PLT
 11

	)

549 
	#R_386_TLS_TPOFF
 14

	)

550 
	#R_386_TLS_IE
 15

	)

552 
	#R_386_TLS_GOTIE
 16

	)

554 
	#R_386_TLS_LE
 17

	)

556 
	#R_386_TLS_GD
 18

	)

558 
	#R_386_TLS_LDM
 19

	)

561 
	#R_386_16
 20

	)

562 
	#R_386_PC16
 21

	)

563 
	#R_386_8
 22

	)

564 
	#R_386_PC8
 23

	)

565 
	#R_386_TLS_GD_32
 24

	)

567 
	#R_386_TLS_GD_PUSH
 25

	)

568 
	#R_386_TLS_GD_CALL
 26

	)

570 
	#R_386_TLS_GD_POP
 27

	)

571 
	#R_386_TLS_LDM_32
 28

	)

573 
	#R_386_TLS_LDM_PUSH
 29

	)

574 
	#R_386_TLS_LDM_CALL
 30

	)

576 
	#R_386_TLS_LDM_POP
 31

	)

577 
	#R_386_TLS_LDO_32
 32

	)

578 
	#R_386_TLS_IE_32
 33

	)

580 
	#R_386_TLS_LE_32
 34

	)

582 
	#R_386_TLS_DTPMOD32
 35

	)

583 
	#R_386_TLS_DTPOFF32
 36

	)

584 
	#R_386_TLS_TPOFF32
 37

	)

585 
	#R_386_NUM
 38

	)

	@error.c

12 
	~"‹¡.h
"

13 
	~"cÚfig.h
"

14 
	~<sys/io.h
>

15 
	~"dmi.h
"

16 
	#NULL
 0

	)

18 
‹¡_ticks
, 
Áicks
, 
b“pmode
;

19 
t£q
seq[];

20 
dmi_”r_úts
[
MAX_DMI_MEMDEVS
];

21 
dmi_š™Ÿlized
;

22 
pŞl_”rÜs
();

24 
upd©e_”r_couÁs
();

25 
´št_”r_couÁs
();

26 
	gsyn
, 
	gchª
, 
	gËn
=1;

31 
	$commÚ_”r
Ğ
ulÚg
 *
adr
, ulÚg 
good
, ulÚg 
bad
, ulÚg 
xÜ
, 
ty³
)

33 
i
, 
n
, 
x
, 
j
, 
æag
=0;

34 
ulÚg
 
·ge
, 
off£t
;

35 
·Šchg
;

36 
ulÚg
 
mb
;

38 
	`upd©e_”r_couÁs
();

39 
	`add_dmi_”r
((
ulÚg
)
adr
);

41 
v
->
´štmode
) {

42 
PRINTMODE_SUMMARY
:

44 ià(
ty³
 == 3) {

49 ià(
ty³
 == 1) {

50 
xÜ
 = 
good
 ^ 
bad
;

54 ià(
ty³
 == 2) {

56 ià(
bad
) {

57 
v
->
”ri
.
cÜ_”r
++;

59 
·ge
 = (
ulÚg
)
adr
;

60 
off£t
 = 
good
;

62 
·ge
 = 
	`·ge_of
(
adr
);

63 
off£t
 = (
ulÚg
)
adr
 & 0xFFF;

67 ià(
v
->
”ri
.
low_addr
.
·ge
 >…age) {

68 
v
->
”ri
.
low_addr
.
·ge
 =…age;

69 
v
->
”ri
.
low_addr
.
off£t
 = offset;

70 
æag
++;

71 } ià(
v
->
”ri
.
low_addr
.
·ge
 ==…age &&

72 
v
->
”ri
.
low_addr
.
off£t
 > offset) {

73 
v
->
”ri
.
low_addr
.
off£t
 = offset;

74 
v
->
”ri
.
high_addr
.
off£t
 = offset;

75 
æag
++;

76 } ià(
v
->
”ri
.
high_addr
.
·ge
 <…age) {

77 
v
->
”ri
.
high_addr
.
·ge
 =…age;

78 
æag
++;

80 ià(
v
->
”ri
.
high_addr
.
·ge
 ==…age &&

81 
v
->
”ri
.
high_addr
.
off£t
 < offset) {

82 
v
->
”ri
.
high_addr
.
off£t
 = offset;

83 
æag
++;

87 
i
=0, 
n
=0; i<32; i++) {

88 ià(
xÜ
>>
i
 & 1) {

89 
n
++;

92 
v
->
”ri
.
tb™s
 +ğ
n
;

93 ià(
n
 > 
v
->
”ri
.
max_b™s
) {

94 
v
->
”ri
.
max_b™s
 = 
n
;

95 
æag
++;

97 ià(
n
 < 
v
->
”ri
.
mš_b™s
) {

98 
v
->
”ri
.
mš_b™s
 = 
n
;

99 
æag
++;

101 ià(
v
->
”ri
.
eb™s
 ^ 
xÜ
) {

102 
æag
++;

104 
v
->
”ri
.
eb™s
 |ğ
xÜ
;

107 
Ën
 = 1;

108 ià((
ulÚg
)
adr
 =ğ(ulÚg)
v
->
”ri
.
—dr
+4 ||

109 (
ulÚg
)
adr
 =ğ(ulÚg)
v
->
”ri
.
—dr
-4 ) {

110 
Ën
++;

112 ià(
Ën
 > 
v
->
”ri
.
maxl
) {

113 
v
->
”ri
.
maxl
 = 
Ën
;

114 
æag
++;

116 
v
->
”ri
.
—dr
 = (
ulÚg
)
adr
;

118 ià(
v
->
”ri
.
hdr_æag
 == 0) {

119 
	`ş—r_süŞl
();

120 
	`ıršt
(
LINE_HEADER
+0, 1, "Error Confidence Value:");

121 
	`ıršt
(
LINE_HEADER
+1, 1, " Lowest Error Address:");

122 
	`ıršt
(
LINE_HEADER
+2, 1, " Highest Error Address:");

123 
	`ıršt
(
LINE_HEADER
+3, 1, " Bits in Error Mask:");

124 
	`ıršt
(
LINE_HEADER
+4, 1, " Bits in Error - Total:");

125 
	`ıršt
(
LINE_HEADER
+4, 29, "Min: Max: Avg:");

126 
	`ıršt
(
LINE_HEADER
+5, 1, " Max Contiguous Errors:");

127 
	`ıršt
(
LINE_HEADER
+6, 1, "ECC Correctable Errors:");

128 
	`ıršt
(
LINE_HEADER
+7, 1, "Errors…er Memory Slot:");

129 
x
 = 24;

130 ià(
dmi_š™Ÿlized
) {

131  
i
=0; i < 
MAX_DMI_MEMDEVS
;){

132 
n
 = 
LINE_HEADER
+7;

133 
j
=0; j<4; j++) {

134 ià(
dmi_”r_úts
[
i
] >= 0) {

135 
	`d´št
(
n
, 
x
, 
i
, 2, 0);

136 
	`ıršt
(
n
, 
x
+2, ": 0");

138 
i
++;

139 
n
++;

141 
x
 += 10;

145 
	`ıršt
(
LINE_HEADER
+0, 64, "Test Errors");

146 
v
->
”ri
.
hdr_æag
++;

148 ià(
æag
) {

150 
i
=0, 
n
=0; i<32; i++) {

151 ià(
v
->
”ri
.
eb™s
>>
i
 & 1) {

152 
n
++;

155 
·ge
 = 
v
->
”ri
.
low_addr
.page;

156 
off£t
 = 
v
->
”ri
.
low_addr
.offset;

157 
mb
 = 
·ge
 >> 8;

158 
	`h´št
(
LINE_HEADER
+1, 25, 
·ge
);

159 
	`h´št2
(
LINE_HEADER
+1, 33, 
off£t
, 3);

160 
	`ıršt
(
LINE_HEADER
+1, 36, " - . MB");

161 
	`d´št
(
LINE_HEADER
+1, 39, 
mb
, 5, 0);

162 
	`d´št
(
LINE_HEADER
+1, 45, ((
·ge
 & 0xFF)*10)/256, 1, 0);

163 
·ge
 = 
v
->
”ri
.
high_addr
.page;

164 
off£t
 = 
v
->
”ri
.
high_addr
.offset;

165 
mb
 = 
·ge
 >> 8;

166 
	`h´št
(
LINE_HEADER
+2, 25, 
·ge
);

167 
	`h´št2
(
LINE_HEADER
+2, 33, 
off£t
, 3);

168 
	`ıršt
(
LINE_HEADER
+2, 36, " - . MB");

169 
	`d´št
(
LINE_HEADER
+2, 39, 
mb
, 5, 0);

170 
	`d´št
(
LINE_HEADER
+2, 45, ((
·ge
 & 0xFF)*10)/256, 1, 0);

171 
	`h´št
(
LINE_HEADER
+3, 25, 
v
->
”ri
.
eb™s
);

172 
	`d´št
(
LINE_HEADER
+4, 25, 
n
, 2, 1);

173 
	`d´št
(
LINE_HEADER
+4, 34, 
v
->
”ri
.
mš_b™s
, 2, 1);

174 
	`d´št
(
LINE_HEADER
+4, 42, 
v
->
”ri
.
max_b™s
, 2, 1);

175 
	`d´št
(
LINE_HEADER
+4, 50, 
v
->
”ri
.
tb™s
/v->
ecouÁ
, 2, 1);

176 
	`d´št
(
LINE_HEADER
+5, 25, 
v
->
”ri
.
maxl
, 7, 1);

177 
x
 = 28;

178  
i
=0; i < 
MAX_DMI_MEMDEVS
;){

179 
n
 = 
LINE_HEADER
+7;

180 
j
=0; j<4; j++) {

181 ià(
dmi_”r_úts
[
i
] > 0) {

182 
	`d´št
 (
n
, 
x
, 
dmi_”r_úts
[
i
], 7, 1);

184 
i
++;

185 
n
++;

187 
x
 += 10;

190 
i
=0; 
t£q
[i].
msg
 !ğ
NULL
; i++) {

191 
	`d´št
(
LINE_HEADER
+1+
i
, 66, i, 2, 0);

192 
	`d´št
(
LINE_HEADER
+1+
i
, 68, 
t£q
[i].
”rÜs
, 8, 0);

195 ià(
v
->
”ri
.
cÜ_”r
) {

196 
	`d´št
(
LINE_HEADER
+6, 25, 
v
->
”ri
.
cÜ_”r
, 8, 1);

200 
PRINTMODE_ADDRESSES
:

202 ià((
ulÚg
)
adr
 =ğ(ulÚg)
v
->
”ri
.
—dr
 &&

203 
xÜ
 =ğ
v
->
”ri
.
exÜ
) {

206 ià(
v
->
”ri
.
hdr_æag
 == 0) {

207 
	`ş—r_süŞl
();

208 
	`ıršt
(
LINE_HEADER
, 0,

210 
	`ıršt
(
LINE_HEADER
+1, 0,

212 
v
->
”ri
.
hdr_æag
++;

215 
	`check_šput
();

216 
	`süŞl
();

218 iàĞ
ty³
 == 2 ||ype == 3) {

219 
·ge
 = (
ulÚg
)
adr
;

220 
off£t
 = 
good
;

222 
·ge
 = 
	`·ge_of
(
adr
);

223 
off£t
 = (()
adr
) & 0xFFF;

225 
mb
 = 
·ge
 >> 8;

226 
	`d´št
(
v
->
msg_lše
, 0, v->
‹¡
, 3, 0);

227 
	`d´št
(
v
->
msg_lše
, 4, v->
·ss
, 5, 0);

228 
	`h´št
(
v
->
msg_lše
, 11, 
·ge
);

229 
	`h´št2
(
v
->
msg_lše
, 19, 
off£t
, 3);

230 
	`ıršt
(
v
->
msg_lše
, 22, " - . MB");

231 
	`d´št
(
v
->
msg_lše
, 25, 
mb
, 5, 0);

232 
	`d´št
(
v
->
msg_lše
, 31, ((
·ge
 & 0xFF)*10)/256, 1, 0);

234 ià(
ty³
 == 3) {

236 
	`ıršt
(
v
->
msg_lše
, 36,

237 
bad
?"corrected ": "uncorrected ");

238 
	`h´št2
(
v
->
msg_lše
, 60, 
syn
, 4);

239 
	`ıršt
(
v
->
msg_lše
, 68, "ECC");

240 
	`d´št
(
v
->
msg_lše
, 74, 
chª
, 2, 0);

241 } ià(
ty³
 == 2) {

242 
	`ıršt
(
v
->
msg_lše
, 36, "Parityƒrror detected ");

244 
	`h´št
(
v
->
msg_lše
, 36, 
good
);

245 
	`h´št
(
v
->
msg_lše
, 46, 
bad
);

246 
	`h´št
(
v
->
msg_lše
, 56, 
xÜ
);

247 
	`d´št
(
v
->
msg_lše
, 66, v->
ecouÁ
, 5, 0);

248 
v
->
”ri
.
exÜ
 = 
xÜ
;

250 
v
->
”ri
.
—dr
 = (
ulÚg
)
adr
;

251 
	`´št_”r_couÁs
();

254 
PRINTMODE_PATTERNS
:

255 ià(
v
->
”ri
.
hdr_æag
 == 0) {

256 
	`ş—r_süŞl
();

257 
v
->
”ri
.
hdr_æag
++;

260 ià(
v
->
‹¡
 == 0 || v->test == 5) {

264 iàĞ
ty³
 != 0) {

268 
·Šchg
=
	`š£¹add»ss
 ((
ulÚg
è
adr
);

269 ià(
·Šchg
) {

270 
	`´š©n
();

274 
PRINTMODE_NONE
:

275 ià(
v
->
”ri
.
hdr_æag
 == 0) {

276 
	`ş—r_süŞl
();

277 
v
->
”ri
.
hdr_æag
++;

281 
	}
}

286 
	$”rÜ
(
ulÚg
 *
adr
, ulÚg 
good
, ulÚg 
bad
)

288 
ulÚg
 
xÜ
;

290 
xÜ
 = 
good
 ^ 
bad
;

291 #ifdeà
USB_WAR


297 ià((
ulÚg
)
adr
 == 0x4e0 || (ulong)adr == 0x410) {

301 
	`commÚ_”r
(
adr
, 
good
, 
bad
, 
xÜ
, 0);

302 
	}
}

309 
	$ad_”r1
(
ulÚg
 *
adr1
, ulÚg *
mask
, ulÚg 
bad
, ulÚg 
good
)

311 
	`commÚ_”r
(
adr1
, 
good
, 
bad
, (
ulÚg
)
mask
, 1);

312 
	}
}

319 
	$ad_”r2
(
ulÚg
 *
adr
, ulÚg 
bad
)

321 
	`commÚ_”r
(
adr
, (
ulÚg
ïdr, 
bad
, ((ulong)adr) ^ bad, 0);

322 
	}
}

324 
	$upd©e_”r_couÁs
()

326 ià(
b“pmode
){

327 
	`b“p
(600);

328 
	`b“p
(1000);

331 ià(
v
->
·ss
 && v->
ecouÁ
 == 0) {

332 
	`ıršt
(
LINE_MSG
, 
COL_MSG
,

335 ++(
v
->
ecouÁ
);

336 
t£q
[
v
->
‹¡
].
”rÜs
++;

338 
	}
}

340 
	$´št_”r_couÁs
()

342 
i
;

343 *
µ
;

345 ià((
v
->
ecouÁ
 > 4096) && (v->ecount % 256 != 0)) ;

347 
	`d´št
(
LINE_INFO
, 
COL_ERR
, 
v
->
ecouÁ
, 6, 0);

348 
	`d´št
(
LINE_INFO
, 
COL_ECC_ERR
, 
v
->
ecc_ecouÁ
, 6, 0);

352 ià((
v
->
´štmode
 =ğ
PRINTMODE_ADDRESSES
 ||

353 
v
->
´štmode
 =ğ
PRINTMODE_PATTERNS
) &&

354 
v
->
msg_lše
 < 24) {

355 
i
=0, 
µ
=(*)((
SCREEN_ADR
+
v
->
msg_lše
*160+1));

356 
i
<76; i++, 
µ
+=2) {

357 *
µ
 = 0x47;

360 
	}
}

366 
	$´št_ecc_”r
(
·ge
, 
off£t
,

367 
cÜ»ùed
, 
syndrome
, 
chªÃl
)

369 ++(
v
->
ecc_ecouÁ
);

370 
syn
 = 
syndrome
;

371 
chª
 = 
chªÃl
;

372 
	`commÚ_”r
((
ulÚg
 *)
·ge
, 
off£t
, 
cÜ»ùed
, 0, 2);

373 
	}
}

375 #ifdeà
PARITY_MEM


379 
	$·r™y_”r
Ğ
edi
, 
esi
)

381 
addr
;

383 ià(
v
->
‹¡
 == 5) {

384 
addr
 = 
esi
;

386 
addr
 = 
edi
;

388 
	`commÚ_”r
((
ulÚg
 *)
addr
,‡ddr & 0xFFF, 0, 0, 3);

389 
	}
}

395 
	$´š©n
 ()

397 
idx
=0;

398 
x
;

401 
	`check_šput
();

403 ià(
v
->
num·Š
 == 0)

406 
	`süŞl
();

408 
	`ıršt
 (
v
->
msg_lše
, 0, "badram=");

409 
x
=7;

411 
idx
 = 0; idx < 
v
->
num·Š
; idx++) {

413 ià(
x
 > 80-22) {

414 
	`süŞl
();

415 
x
=7;

417 
	`ıršt
 (
v
->
msg_lše
, 
x
, "0x");

418 
	`h´št
 (
v
->
msg_lše
, 
x
+2, v->
·Š
[
idx
].
adr
 );

419 
	`ıršt
 (
v
->
msg_lše
, 
x
+10, ",0x");

420 
	`h´št
 (
v
->
msg_lše
, 
x
+13, v->
·Š
[
idx
].
mask
);

421 ià(
idx
+1 < 
v
->
num·Š
)

422 
	`ıršt
 (
v
->
msg_lše
, 
x
+21, ",");

423 
x
+=22;

425 
	}
}

430 
	$do_tick
()

432 
i
, 
n
, 
pù
;

433 
ulÚg
 
h
, 
l
, 
t
;

436 ià(
v
->
ecouÁ
) {

437 
	`´št_”r_couÁs
();

440 
Áicks
++;

441 
v
->
tÙ®_ticks
++;

443 ià(
‹¡_ticks
) {

444 
pù
 = 100*
Áicks
/
‹¡_ticks
;

445 ià(
pù
 > 100) {

446 
pù
 = 100;

449 
pù
 = 0;

452 
	`d´št
(1, 
COL_MID
+4, 
pù
, 3, 0);

453 
i
 = (
BAR_SIZE
 * 
pù
) / 100;

454 
i
 > 
v
->
Œ
) {

455 ià(
v
->
Œ
 >ğ
BAR_SIZE
) {

458 
	`ıršt
(1, 
COL_MID
+9+
v
->
Œ
, "#");

459 
v
->
Œ
++;

462 ià(
v
->
·ss_ticks
) {

463 
pù
 = 100*
v
->
tÙ®_ticks
/v->
·ss_ticks
;

464 ià(
pù
 > 100) {…ct = 100; }

466 
pù
 = 0;

468 
	`d´št
(0, 
COL_MID
+4, 
pù
, 3, 0);

469 
i
 = (
BAR_SIZE
 * 
pù
) / 100;

470 
i
 > 
v
->
µŒ
) {

471 ià(
v
->
µŒ
 >ğ
BAR_SIZE
) {

474 
	`ıršt
(0, 
COL_MID
+9+
v
->
µŒ
, "#");

475 
v
->
µŒ
++;

478 ià(
v
->
ecouÁ
 && v->
´štmode
 =ğ
PRINTMODE_SUMMARY
) {

480 
pù
 = 0;

483 
h
 = 
v
->
pm­
[v->
m£gs
 - 1].
’d
 - 0x100;

484 ià(
v
->
”ri
.
low_addr
.
·ge
 > 0x100 &&

485 
v
->
”ri
.
high_addr
.
·ge
 < 
h
) {

486 
pù
 += 8;

490 ià(
v
->
·ss
) {

491 
i
=0, 
n
=0; 
t£q
[i].
msg
 !ğ
NULL
; i++) {

492 ià(
t£q
[
i
].
”rÜs
 == 0) {

493 
n
++;

496 
pù
 +ğ
n
*3;

498 
i
=0, 
n
=0; i<
v
->
‹¡
; i++) {

499 ià(
t£q
[
i
].
”rÜs
 == 0) {

500 
n
++;

503 
pù
 +ğ
n
*2;

508 
n
 = 0;

509 ià(
v
->
”ri
.
eb™s
 & 0xfè
n
++;

510 ià(
v
->
”ri
.
eb™s
 & 0xf0è
n
++;

511 ià(
v
->
”ri
.
eb™s
 & 0xf00è
n
++;

512 ià(
v
->
”ri
.
eb™s
 & 0xf000è
n
++;

513 ià(
v
->
”ri
.
eb™s
 & 0xf0000è
n
++;

514 ià(
v
->
”ri
.
eb™s
 & 0xf00000è
n
++;

515 ià(
v
->
”ri
.
eb™s
 & 0xf000000è
n
++;

516 ià(
v
->
”ri
.
eb™s
 & 0xf0000000è
n
++;

517 
pù
 +ğ(8-
n
)*2;

520 
pù
 =…ct*100/22;

526 
	`d´št
(
LINE_HEADER
+0, 25, 
pù
, 3, 1);

533 ià(
v
->
rdtsc
) {

534 
asm
 
	`__vŞ©e__
(

535 "rdtsc":"÷" (
l
),"=d" (
h
));

536 
asm
 
	`__vŞ©e__
 (

539 :"÷" (
l
), "=d" (
h
)

540 :"g" (
v
->
¡¬
), "g" (v->
¡¬th
),

541 "0" (
l
), "1" (
h
));

542 
t
 = 
h
 * (()0xfffffffà/ 
v
->
şks_m£c
) / 1000;

543 
t
 +ğ(
l
 / 
v
->
şks_m£c
) / 1000;

544 
i
 = 
t
 % 60;

545 
	`d´št
(
LINE_TIME
, 
COL_TIME
+9, 
i
%10, 1, 0);

546 
	`d´št
(
LINE_TIME
, 
COL_TIME
+8, 
i
/10, 1, 0);

547 
t
 /= 60;

548 
i
 = 
t
 % 60;

549 
	`d´št
(
LINE_TIME
, 
COL_TIME
+6, 
i
 % 10, 1, 0);

550 
	`d´št
(
LINE_TIME
, 
COL_TIME
+5, 
i
 / 10, 1, 0);

551 
t
 /= 60;

552 
	`d´št
(
LINE_TIME
, 
COL_TIME
, 
t
, 4, 0);

557 
	`check_šput
();

560 
	`pŞl_”rÜs
();

561 
	}
}

	@extra.c

10 
	~"‹¡.h
"

11 
	~"sü“n_bufãr.h
"

12 
	~"pci.h
"

13 
	~"exŒa.h
"

15 
	gşaim
 = 0;

16 
	gù¾
 = -1;

18 
	smemÜy_cÚŒŞËr
 {

19 
	mv’dÜ
;

20 
	mdeviû
;

21 
	mwÜked
;

22 (*
	mchªge_timšg
)(
	mÿs
, 
	mrcd
, 
	m½
, 
	m¿s
);

25 
memÜy_cÚŒŞËr
 
	gmem_ùr
[] = {

28 { 0x1022, 0x1100, 1, 
chªge_timšg_amd64
},

31 { 0x10de, 0x01E0, 0, 
chªge_timšg_nf2
},

34 { 0x8086, 0x2570, 0, 
chªge_timšg_i875
},

35 { 0x8086, 0x2578, 0, 
chªge_timšg_i875
},

36 { 0x8086, 0x2580, 0, 
chªge_timšg_i925
},

37 { 0x8086, 0x2584, 0, 
chªge_timšg_i925
},

38 { 0x8086, 0x2770, 0, 
chªge_timšg_i925
},

39 { 0x8086, 0x3580, 0, 
chªge_timšg_i852
},

42 
	sdrc
 {

43 
	mt_rwt
;

44 
	mt_w¹
;

45 
	mt_»f
;

46 
	mt_’2t
;

47 
	mt_rwqb
;

48 
	mt_rù
;

49 
	mt_¼d
;

50 
	mt_wr
;

53 
drc
 
	ga64
;

55 
	$fšd_memùr
()

57 
v’dÜ
;

58 
deviû
;

59 
a64
;

60 
i
= 0;

61 
»suÉ
;

63 
»suÉ
 = 
	`pci_cÚf_»ad
(0, 0, 0, 
PCI_VENDOR_ID
, 2, &
v’dÜ
);

64 
»suÉ
 = 
	`pci_cÚf_»ad
(0, 0, 0, 
PCI_DEVICE_ID
, 2, &
deviû
);

66 
	`pci_cÚf_»ad
(0, 24, 0, 0x00, 4, &
a64
);

68 ifĞ
a64
 == 0x11001022) {

69 
ù¾
 = 0;

73 ià(
»suÉ
 == 0) {

74 
i
 = 1; i < (
mem_ùr
)/(mem_ctr[0]); i++) {

75 ià((
mem_ùr
[
i
].
v’dÜ
 == vendor) &&

76 (
mem_ùr
[
i
].
deviû
 == device))

78 
ù¾
 = 
i
;

83 
ù¾
 = -1;

84 
	}
}

86 
	$a64_·¿m‘”
()

89 
ulÚg
 
d¿mr
;

91 iàĞ0 =ğ
	`pci_cÚf_»ad
(0, 24, 2, 0x88, 4, &
d¿mr
) )

93 
a64
.
t_rù
 = 7 + ((
d¿mr
>>4) & 0x0F);

94 
a64
.
t_¼d
 = 0 + ((
d¿mr
>>16) & 0x7);

95 
a64
.
t_wr
 = 2 + ((
d¿mr
>>28) & 0x1);

98 iàĞ0 =ğ
	`pci_cÚf_»ad
(0, 24, 2, 0x8C, 4, &
d¿mr
) )

100 
a64
.
t_rwt
 = 1 + ((
d¿mr
>>4) & 0x07);

101 
a64
.
t_w¹
 = 1 + (
d¿mr
 & 0x1);

102 
a64
.
t_»f
 = 1 + ((
d¿mr
>>11) & 0x3);

105 iàĞ0 =ğ
	`pci_cÚf_»ad
(0, 24, 2, 0x90, 4, &
d¿mr
) )

107 
a64
.
t_’2t
 = 1 + ((
d¿mr
>>28) & 0x1);

108 
a64
.
t_rwqb
 = 2 << ((
d¿mr
>>14) & 0x3);

110 
	}
}

114 
	$chªge_timšg
(
ÿs
, 
rcd
, 
½
, 
¿s
)

116 
	`fšd_memùr
();

117 ià((
ù¾
 =ğ-1è|| ( cŒÈ> (
mem_ùr
)/(mem_ctr[0])))

122 
mem_ùr
[
ù¾
].
	`chªge_timšg
(
ÿs
, 
rcd
, 
½
, 
¿s
);

123 
	`»¡¬t
();

124 
	}
}

126 
	$amd64_İtiÚ
()

128 
rwt
=0, 
w¹
=0, 
»f
=0, 
’2t
=0, 
rù
=0, 
¼d
=0, 
rwqb
=0, 
wr
 = 0, 
æag
=0;

130 ià((
ù¾
 =ğ-1è|| ( cŒÈ> (
mem_ùr
)/(mem_ctr[0])))

135 ià(
mem_ùr
[
ù¾
].
wÜked
)

137 
	`a64_·¿m‘”
();

138 
	`ıršt
(
POP_Y
+1, 
POP_X
+4, "AMD64 options");

140 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "(1) Rd-Wr Delay : ");

141 
	`d´št
(
POP_Y
+3, 
POP_X
+24, 
a64
.
t_rwt
, 2, 0);

143 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, "(2) Wr-Rd Delay : ");

144 
	`d´št
(
POP_Y
+4, 
POP_X
+24, 
a64
.
t_w¹
, 2, 0);

146 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "(3) Rd/Wr Bypass : ");

147 
	`d´št
(
POP_Y
+5, 
POP_X
+24, 
a64
.
t_rwqb
, 2, 0);

149 
	`ıršt
(
POP_Y
+6, 
POP_X
+4, "(4) Refresh Rate : ");

150  
a64
.
t_»f
)

152 1 : 
	`ıršt
(
POP_Y
+6, 
POP_X
+23, "15.6us"); ;

153 2 : 
	`ıršt
(
POP_Y
+6, 
POP_X
+23, " 7.8us"); ;

154 3 : 
	`ıršt
(
POP_Y
+6, 
POP_X
+23, " 3.9us"); ;

156 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "(5) Command Rate :");

157 
	`d´št
(
POP_Y
+7, 
POP_X
+24, 
a64
.
t_’2t
, 2, 0);

158 
	`ıršt
(
POP_Y
+7, 
POP_X
+26, "T ");

160 
	`ıršt
(
POP_Y
+8, 
POP_X
+4, "(6) Row Cycle Time: ");

161 
	`d´št
(
POP_Y
+8, 
POP_X
+24, 
a64
.
t_rù
, 2, 0);

163 
	`ıršt
(
POP_Y
+9, 
POP_X
+4, "(7) RAS-RAS Delay : ");

164 
	`d´št
(
POP_Y
+9, 
POP_X
+24, 
a64
.
t_¼d
, 2, 0);

166 
	`ıršt
(
POP_Y
+10, 
POP_X
+4, "(8) Write Recovery: ");

167 
	`d´št
(
POP_Y
+10, 
POP_X
+24, 
a64
.
t_wr
, 2, 0);

169 
	`ıršt
(
POP_Y
+11, 
POP_X
+4,"(0) Cancel ");

171 !
æag
)

173 
	`g‘_key
())

176 
	`pİş—r
();

178 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Rd-Wr delay ");

179 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, " (2 - 6 cycles)");

180 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "Current: ");

181 
	`d´št
(
POP_Y
+5, 
POP_X
+14, 
a64
.
t_rwt
, 4, 0);

182 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "New: ");

183 
rwt
 = 
	`g‘v®
(
POP_Y
+7, 
POP_X
+12, 0);

184 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

188 
	`pİş—r
();

190 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Wr-Rd delay ");

191 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, " (1 - 2 cycles)");

192 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "Current: ");

193 
	`d´št
(
POP_Y
+5, 
POP_X
+14, 
a64
.
t_w¹
, 4, 0);

194 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "New: ");

195 
w¹
 = 
	`g‘v®
(
POP_Y
+7, 
POP_X
+12, 0);

196 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

200 
	`pİş—r
();

202 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Rd/Wr bypass ");

203 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, " (2, 4 or 8 )");

204 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "Current: ");

205 
	`d´št
(
POP_Y
+5, 
POP_X
+14, 
a64
.
t_rwqb
, 2, 0);

206 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "New: ");

207 
rwqb
 = 
	`g‘v®
(
POP_Y
+7, 
POP_X
+11, 0);

208 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

212 
	`pİş—r
();

214 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Refresh„ate ");

215 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, "Current: ");

216  
a64
.
t_»f
){

217 1 : 
	`ıršt
(
POP_Y
+4, 
POP_X
+14, "15.6us"); ;

218 2 : 
	`ıršt
(
POP_Y
+4, 
POP_X
+14, "7.8us "); ;

219 3 : 
	`ıršt
(
POP_Y
+4, 
POP_X
+14, "3.9us "); ;

221 
	`ıršt
(
POP_Y
+6, 
POP_X
+4, "New: ");

222 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "(1) 15.6us");

223 
	`ıršt
(
POP_Y
+8, 
POP_X
+4, "(2) 7.8us ");

224 
	`ıršt
(
POP_Y
+9, 
POP_X
+4, "(3) 3.9us ");

225 
»f
 = 
	`g‘v®
(
POP_Y
+6, 
POP_X
+11, 0);

226 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

230 
	`pİş—r
();

232 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Command„ate:");

233 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "(1) 1T ");

234 
	`ıršt
(
POP_Y
+6, 
POP_X
+4, "(2) 2T ");

235 
’2t
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+22, 0);

236 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

240 
	`pİş—r
();

242 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Row cycleime: ");

243 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, " (7 - 20 cycles)");

244 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "Current: ");

245 
	`d´št
(
POP_Y
+5, 
POP_X
+14, 
a64
.
t_rù
, 4, 0);

246 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "New: ");

247 
rù
 = 
	`g‘v®
(
POP_Y
+7, 
POP_X
+12, 0);

248 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

252 
	`pİş—r
();

254 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "RAS-RAS Delay: ");

255 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, " (2 - 4 cycles)");

256 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "Current: ");

257 
	`d´št
(
POP_Y
+5, 
POP_X
+14, 
a64
.
t_¼d
, 2, 0);

258 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "New: ");

259 
¼d
 = 
	`g‘v®
(
POP_Y
+7, 
POP_X
+12, 0);

260 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

264 
	`pİş—r
();

266 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, "Write Recovery: ");

267 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, " (2 - 3 cycles)");

268 
	`ıršt
(
POP_Y
+5, 
POP_X
+4, "Current: ");

269 
	`d´št
(
POP_Y
+5, 
POP_X
+14, 
a64
.
t_wr
, 2, 0);

270 
	`ıršt
(
POP_Y
+7, 
POP_X
+4, "New: ");

271 
wr
 = 
	`g‘v®
(
POP_Y
+7, 
POP_X
+12, 0);

272 
	`amd64_tw—k
(
rwt
, 
w¹
, 
»f
,
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

277 
æag
++;

283 
	}
}

285 
	$g‘_İtiÚ
()

287 
ÿs
 =0, 
½
=0, 
rcd
=0, 
¿s
=0, 
sæag
 = 0 ;

289 !
sæag
)

291 
	`g‘_key
())

294 
	`pİş—r
();

295 
ÿs
 = 
	`g‘_ÿs
();

296 
	`pİş—r
();

298 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRCD: ");

299 
rcd
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

300 
	`pİş—r
();

302 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRP: ");

303 
½
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

304 
	`pİş—r
();

306 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRAS: ");

307 
¿s
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

308 
	`pİş—r
();

309 
	`chªge_timšg
(
ÿs
, 
rcd
, 
½
, 
¿s
);

313 
	`pİş—r
();

314 
ÿs
 = 
	`g‘_ÿs
();

315 
	`chªge_timšg
(
ÿs
, 0, 0, 0);

316 
sæag
++;

320 
	`pİş—r
();

321 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRCD: ");

322 
rcd
 =
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

323 
	`chªge_timšg
(0, 
rcd
, 0, 0);

324 
sæag
++;

328 
	`pİş—r
();

329 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRP: ");

330 
½
 =
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

331 
	`chªge_timšg
(0, 0, 
½
, 0);

332 
sæag
++;

336 
	`pİş—r
();

337 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRAS: ");

338 
¿s
 =
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

339 
	`chªge_timšg
(0, 0, 0, 
¿s
);

340 
sæag
++;

344 
	`pİş—r
();

345 
	`amd64_İtiÚ
();

346 
sæag
++;

347 
	`pİş—r
();

355 
sæag
++;

360 
	}
}

362 
	$g‘_İtiÚ_1
()

364 
½
=0, 
rcd
=0, 
¿s
=0, 
sæag
 = 0 ;

366 !
sæag
)

368 
	`g‘_key
())

371 
	`pİş—r
();

372 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRCD: ");

373 
rcd
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

374 
	`pİş—r
();

376 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRP: ");

377 
½
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

378 
	`pİş—r
();

380 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRAS: ");

381 
¿s
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

382 
	`pİş—r
();

383 
	`chªge_timšg
(0, 
rcd
, 
½
, 
¿s
);

387 
	`pİş—r
();

388 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRCD: ");

389 
rcd
 =
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

390 
	`chªge_timšg
(0, 
rcd
, 0, 0);

394 
	`pİş—r
();

395 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRP: ");

396 
½
 =
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

397 
	`chªge_timšg
(0, 0, 
½
, 0);

401 
	`pİş—r
();

402 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tRAS: ");

403 
¿s
 =
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

404 
	`chªge_timšg
(0, 0, 0, 
¿s
);

408 
	`pİş—r
();

409 
	`amd64_İtiÚ
();

410 
sæag
++;

411 
	`pİş—r
();

419 
sæag
++;

424 
	}
}

427 
	$g‘_m’u
()

429 
m’u
 ;

431 
	`fšd_memùr
();

432 
	`disşaim”
();

434 
ù¾
)

436 0: 
m’u
 = 2; ;

440 4: 
m’u
 = 0; ;

441 5: 
m’u
 = 1; ;

442 6: 
m’u
 = 0; ;

443 : 
m’u
 = -1; ;

446 ià(
m’u
 == -1)

448 
	`pİş—r
();

450 ià(
m’u
 == 0)

452 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Modify Timing:");

453 
	`ıršt
(
POP_Y
+3, 
POP_X
+5, "(1) Modify All ");

454 
	`ıršt
(
POP_Y
+4, 
POP_X
+5, "(2) ModifyCAS ");

455 
	`ıršt
(
POP_Y
+5, 
POP_X
+5, "(3) ModifyRCD ");

456 
	`ıršt
(
POP_Y
+6, 
POP_X
+5, "(4) ModifyRP ");

457 
	`ıršt
(
POP_Y
+7, 
POP_X
+5, "(5) ModifyRAS ");

458 
	`ıršt
(
POP_Y
+8, 
POP_X
+5, "(0) Cancel");

459 
	`wa™_keyup
();

460 
	`g‘_İtiÚ
();

462 ià(
m’u
 == 1)

464 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Modify Timing:");

465 
	`ıršt
(
POP_Y
+3, 
POP_X
+5, "(1) Modify All ");

466 
	`ıršt
(
POP_Y
+4, 
POP_X
+5, "(2) ModifyRCD ");

467 
	`ıršt
(
POP_Y
+5, 
POP_X
+5, "(3) ModifyRP ");

468 
	`ıršt
(
POP_Y
+6, 
POP_X
+5, "(4) ModifyRAS ");

469 
	`ıršt
(
POP_Y
+7, 
POP_X
+5, "(0) Cancel");

470 
	`wa™_keyup
();

471 
	`g‘_İtiÚ
();

475 
	`ıršt
(
POP_Y
+1, 
POP_X
+2, "Modify Timing:");

476 
	`ıršt
(
POP_Y
+3, 
POP_X
+5, "(1) Modify All ");

477 
	`ıršt
(
POP_Y
+4, 
POP_X
+5, "(2) ModifyRCD ");

478 
	`ıršt
(
POP_Y
+5, 
POP_X
+5, "(3) ModifyRP ");

479 
	`ıršt
(
POP_Y
+6, 
POP_X
+5, "(4) ModifyRAS ");

480 
	`ıršt
(
POP_Y
+7, 
POP_X
+5, "(5) AMD64 Options");

481 
	`ıršt
(
POP_Y
+8, 
POP_X
+5, "(0) Cancel");

482 
	`wa™_keyup
();

483 
	`g‘_İtiÚ_1
();

485 
	}
}

487 
	$g‘_ÿs
()

489 
i852
=0, 
ÿs
=0;

490 
ulÚg
 
drc
, 
ddr
;

491 *
±r
;

493 
ù¾
)

495 0: 
ddr
 = 1; ;

498 3: 
ddr
 = 1; ;

500 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
ddr
);

501 
ddr
 &= 0xFFFFC000;

502 
±r
=(*)(
ddr
+0x120);

503 
drc
 = *
±r
;

505 ià((
drc
 & 3è=ğ2è
ddr
 = 2;

506 
ddr
 = 1;

508 5: 
ddr
 = 2; ;

509 6: 
ddr
 = 1; 
i852
 = 1; ;

510 : 
ddr
 = 1;

513 ià(
ddr
 == 1)

515 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tCAS: ");

516 
	`ıršt
(
POP_Y
+5, 
POP_X
+8, "(1) CAS 2.5 ");

517 
	`ıršt
(
POP_Y
+6, 
POP_X
+8, "(2) CAS 2 ");

518 if(!
i852
) {

519 
	`ıršt
(
POP_Y
+7, 
POP_X
+8, "(3) CAS 3 ");

521 
ÿs
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

523 ià(
ddr
 == 2)

525 
	`ıršt
(
POP_Y
+3, 
POP_X
+8, "tCAS: ");

526 
	`ıršt
(
POP_Y
+5, 
POP_X
+8, "(1) CAS 4 ");

527 
	`ıršt
(
POP_Y
+6, 
POP_X
+8, "(2) CAS 3 ");

528 
	`ıršt
(
POP_Y
+7, 
POP_X
+8, "(3) CAS 5 ");

529 
ÿs
 = 
	`g‘v®
(
POP_Y
+3, 
POP_X
+15, 0);

533 
ÿs
 = -1;

536 
	`pİş—r
();

537  (
ÿs
);

538 
	}
}

540 
	$disşaim”
()

542 ià((
ù¾
 =ğ-1è|| ( cŒÈ> (
mem_ùr
)/(mem_ctr[0])))

544 
	`pİş—r
();

545 
	`wa™_keyup
();

546 
	`ıršt
(
POP_Y
+3, 
POP_X
+4, " Chipset ");

547 
	`ıršt
(
POP_Y
+4, 
POP_X
+4, "Not supported !");

548 
	`g‘_key
();

549 
	`wa™_keyup
();

550 
	`pİş—r
();

552 ià(
şaim
 == 0)

554 
ulÚg
 
j
 = 0;

556 
j
<500000)

558 
	`ıršt
(
POP_Y
+1, 
POP_X
+3, "Disclaimer : ");

559 
	`ıršt
(
POP_Y
+3, 
POP_X
+3, "Modifyingiming may ");

560 
	`ıršt
(
POP_Y
+4, 
POP_X
+3, "cause system instability");

561 
	`ıršt
(
POP_Y
+5, 
POP_X
+3, "proceed‡t your own„isk");

562 
j
++;

564 
şaim
 = 1;

565 
	`pİş—r
();

567 
	}
}

573 
	$chªge_timšg_i852
(
ÿs
, 
rcd
, 
½
, 
¿s
) {

575 
ulÚg
 
d¿mr
;

576 
ulÚg
 
št1
, 
št2
;

578 
	`pci_cÚf_»ad
(0, 0, 1, 0x60, 4, &
d¿mr
);

581 
št1
 = 
d¿mr
 & 0xFF9F;

582 ià(
ÿs
 =ğ2è{ 
št2
 = 
št1
 ^ 0x20; }

583 ià(
ÿs
 =ğ1è{ 
št2
 = 
št1
; }

584 { 
št2
 = 
d¿mr
; }

588 
št1
 = 
št2
 & 0xFFF3;

589 ià(
rcd
 =ğ2è{ 
št2
 = 
št1
 ^ 0x8; }

590 ià(
rcd
 =ğ3è{ 
št2
 = 
št1
 ^ 0x4; }

591 ià(
rcd
 =ğ4è{ 
št2
 = 
št1
; }

596 
št1
 = 
št2
 & 0xFFFC;

597 ià(
½
 =ğ2è{ 
št2
 = 
št1
 ^ 0x2; }

598 ià(
½
 =ğ3è{ 
št2
 = 
št1
 ^ 0x1; }

599 ià(
½
 =ğ4è{ 
št2
 = 
št1
; }

604 
št1
 = 
št2
 & 0xF9FF;

605 ià(
¿s
 =ğ5è{ 
št2
 = 
št1
 ^ 0x0600; }

606 ià(
¿s
 =ğ6è{ 
št2
 = 
št1
 ^ 0x0400; }

607 ià(
¿s
 =ğ7è{ 
št2
 = 
št1
 ^ 0x0200; }

608 ià(
¿s
 =ğ8è{ 
št2
 = 
št1
; }

611 
	`pci_cÚf_wr™e
(0, 0, 1, 0x60, 4, 
št2
);

612 
	`__d–ay
(500);

613 
	}
}

615 
	$chªge_timšg_i925
(
ÿs
, 
rcd
, 
½
, 
¿s
)

617 
ulÚg
 
št1
, 
dev0
, 
‹mp
;

618 *
±r
;

621 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

622 
dev0
 &= 0xFFFFC000;

624 
±r
=(*)(
dev0
+0x114);

625 
‹mp
 = *
±r
;

628 
št1
 = 
‹mp
 | 0x70;

629 ià(
rcd
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x70; }

630 ià(
rcd
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x60; }

631 ià(
rcd
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0x50; }

632 ià(
rcd
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0x40; }

636 
št1
 = 
‹mp
 | 0x7;

637 ià(
½
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x7; }

638 ià(
½
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x6; }

639 ià(
½
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0x5; }

640 ià(
½
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0x4; }

643 ià(
mem_ùr
[
ù¾
].
deviû
 == 0x2770 )

646 
št1
 = 
‹mp
 | 0xF80000;

647 ià(
¿s
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0xD80000; }

648 ià(
¿s
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0xD00000; }

649 ià(
¿s
 =ğ6è{ 
‹mp
 = 
št1
 ^ 0xC80000; }

650 ià(
¿s
 =ğ7è{ 
‹mp
 = 
št1
 ^ 0xC00000; }

651 ià(
¿s
 =ğ8è{ 
‹mp
 = 
št1
 ^ 0xB80000; }

652 ià(
¿s
 =ğ9è{ 
‹mp
 = 
št1
 ^ 0xB00000; }

653 ià(
¿s
 =ğ10è{ 
‹mp
 = 
št1
 ^ 0xA80000; }

654 ià(
¿s
 =ğ11è{ 
‹mp
 = 
št1
 ^ 0xA00000; }

655 ià(
¿s
 =ğ12è{ 
‹mp
 = 
št1
 ^ 0x980000; }

656 ià(
¿s
 =ğ13è{ 
‹mp
 = 
št1
 ^ 0x900000; }

657 ià(
¿s
 =ğ14è{ 
‹mp
 = 
št1
 ^ 0x880000; }

658 ià(
¿s
 =ğ15è{ 
‹mp
 = 
št1
 ^ 0x800000; }

664 
št1
 = 
‹mp
 | 0xF00000;

665 ià(
¿s
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0xB00000; }

666 ià(
¿s
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0xA00000; }

667 ià(
¿s
 =ğ6è{ 
‹mp
 = 
št1
 ^ 0x900000; }

668 ià(
¿s
 =ğ7è{ 
‹mp
 = 
št1
 ^ 0x800000; }

669 ià(
¿s
 =ğ8è{ 
‹mp
 = 
št1
 ^ 0x700000; }

670 ià(
¿s
 =ğ9è{ 
‹mp
 = 
št1
 ^ 0x600000; }

671 ià(
¿s
 =ğ10è{ 
‹mp
 = 
št1
 ^ 0x500000; }

672 ià(
¿s
 =ğ11è{ 
‹mp
 = 
št1
 ^ 0x400000; }

673 ià(
¿s
 =ğ12è{ 
‹mp
 = 
št1
 ^ 0x300000; }

674 ià(
¿s
 =ğ13è{ 
‹mp
 = 
št1
 ^ 0x200000; }

675 ià(
¿s
 =ğ14è{ 
‹mp
 = 
št1
 ^ 0x100000; }

676 ià(
¿s
 =ğ15è{ 
‹mp
 = 
št1
 ^ 0x000000; }

681 
št1
 = 
‹mp
 | 0x0300;

682 ià(
ÿs
 =ğ1è{ 
‹mp
 = 
št1
 ^ 0x200; }

683 ià(
ÿs
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x100; }

684 ià(
ÿs
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x300; }

687 *
±r
 = 
‹mp
;

688 
	`__d–ay
(500);

690 
	}
}

692 
	$chªge_timšg_Lak•Üt
(
ÿs
, 
rcd
, 
½
, 
¿s
)

694 
ulÚg
 
št1
, 
dev0
, 
‹mp
;

695 *
±r
;

698 
	`pci_cÚf_»ad
Ğ0, 0, 0, 0x44, 4, &
dev0
);

699 
dev0
 &= 0xFFFFC000;

701 
±r
=(*)(
dev0
+0x114);

702 
‹mp
 = *
±r
;

705 
št1
 = 
‹mp
 | 0x70;

706 ià(
rcd
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x70; }

707 ià(
rcd
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x60; }

708 ià(
rcd
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0x50; }

709 ià(
rcd
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0x40; }

713 
št1
 = 
‹mp
 | 0x7;

714 ià(
½
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x7; }

715 ià(
½
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x6; }

716 ià(
½
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0x5; }

717 ià(
½
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0x4; }

722 
št1
 = 
‹mp
 | 0x0300;

723 ià(
ÿs
 =ğ1è{ 
‹mp
 = 
št1
 ^ 0x200; }

724 ià(
ÿs
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x100; }

725 ià(
ÿs
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x300; }

728 *
±r
 = 
‹mp
;

729 
	`__d–ay
(500);

731 
	}
}

733 
	$chªge_timšg_i875
(
ÿs
, 
rcd
, 
½
, 
¿s
){

735 
ulÚg
 
št1
, 
dev6
, 
‹mp
;

736 *
±r
;

739 
	`pci_cÚf_»ad
Ğ0, 6, 0, 0x10, 4, &
dev6
);

741 
±r
=(*)(
dev6
+0x60);

743 
‹mp
 = *
±r
;

746 
št1
 = 
‹mp
 | 0xC;

747 ià(
rcd
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x4; }

748 ià(
rcd
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x8; }

749 ià(
rcd
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0xC; }

750 ià(
rcd
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0xC; }

755 
št1
 = 
‹mp
 | 0x3;

756 ià(
½
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x1; }

757 ià(
½
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x2; }

758 ià(
½
 =ğ4è{ 
‹mp
 = 
št1
 ^ 0x3; }

759 ià(
½
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0x3; }

764 
št1
 = 
‹mp
 | 0x380;

765 ià(
¿s
 =ğ5è{ 
‹mp
 = 
št1
 ^ 0x100; }

766 ià(
¿s
 =ğ6è{ 
‹mp
 = 
št1
 ^ 0x180; }

767 ià(
¿s
 =ğ7è{ 
‹mp
 = 
št1
 ^ 0x200; }

768 ià(
¿s
 =ğ8è{ 
‹mp
 = 
št1
 ^ 0x280; }

769 ià(
¿s
 =ğ9è{ 
‹mp
 = 
št1
 ^ 0x300; }

770 ià(
¿s
 =ğ10è{ 
‹mp
 = 
št1
 ^ 0x380; }

774 
št1
 = 
‹mp
 | 0x60;

775 ià(
ÿs
 =ğ1è{ 
‹mp
 = 
št1
 ^ 0x60; }

776 ià(
ÿs
 =ğ2è{ 
‹mp
 = 
št1
 ^ 0x40; }

777 ià(
ÿs
 =ğ3è{ 
‹mp
 = 
št1
 ^ 0x20; }

780 *
±r
 = 
‹mp
;

781 
	`__d–ay
(500);

783 
	}
}

786 
	$chªge_timšg_nf2
(
ÿs
, 
rcd
, 
½
, 
¿s
) {

788 
ulÚg
 
d¿mr
, 
d¿mr2
;

789 
ulÚg
 
št1
, 
št2
;

791 
	`pci_cÚf_»ad
(0, 0, 1, 0x90, 4, &
d¿mr
);

792 
	`pci_cÚf_»ad
(0, 0, 1, 0xA0, 4, &
d¿mr2
);

796 
št1
 = 
d¿mr2
 | 0x0070;

797 ià(
ÿs
 =ğ1è{ 
št2
 = 
št1
 ^ 0x10; }

798 ià(
ÿs
 =ğ2è{ 
št2
 = 
št1
 ^ 0x50; }

799 ià(
ÿs
 =ğ3è{ 
št2
 = 
št1
 ^ 0x40; }

800 { 
št2
 = 
d¿mr2
; }

802 
	`pci_cÚf_wr™e
(0, 0, 1, 0xA0, 4, 
št2
);

806 
št1
 = 
d¿mr
 | 0x700000;

807 ià(
rcd
 =ğ2è{ 
št2
 = 
št1
 ^ 0x500000; }

808 ià(
rcd
 =ğ3è{ 
št2
 = 
št1
 ^ 0x400000; }

809 ià(
rcd
 =ğ4è{ 
št2
 = 
št1
 ^ 0x300000; }

810 ià(
rcd
 =ğ5è{ 
št2
 = 
št1
 ^ 0x200000; }

811 ià(
rcd
 =ğ6è{ 
št2
 = 
št1
 ^ 0x100000; }

812 { 
št2
 = 
d¿mr
;}

816 
št1
 = 
št2
 | 0x70000000;

817 ià(
½
 =ğ2è{ 
št2
 = 
št1
 ^ 0x50000000; }

818 ià(
½
 =ğ3è{ 
št2
 = 
št1
 ^ 0x40000000; }

819 ià(
½
 =ğ4è{ 
št2
 = 
št1
 ^ 0x30000000; }

820 ià(
½
 =ğ5è{ 
št2
 = 
št1
 ^ 0x20000000; }

821 ià(
½
 =ğ6è{ 
št2
 = 
št1
 ^ 0x10000000; }

827 
št1
 = 
št2
 | 0x78000;

828 ià(
¿s
 =ğ4è{ 
št2
 = 
št1
 ^ 0x58000; }

829 ià(
¿s
 =ğ5è{ 
št2
 = 
št1
 ^ 0x50000; }

830 ià(
¿s
 =ğ6è{ 
št2
 = 
št1
 ^ 0x48000; }

831 ià(
¿s
 =ğ7è{ 
št2
 = 
št1
 ^ 0x40000; }

832 ià(
¿s
 =ğ8è{ 
št2
 = 
št1
 ^ 0x38000; }

833 ià(
¿s
 =ğ9è{ 
št2
 = 
št1
 ^ 0x30000; }

834 ià(
¿s
 =ğ10è{ 
št2
 = 
št1
 ^ 0x28000; }

835 ià(
¿s
 =ğ11è{ 
št2
 = 
št1
 ^ 0x20000; }

836 ià(
¿s
 =ğ12è{ 
št2
 = 
št1
 ^ 0x18000; }

837 ià(
¿s
 =ğ13è{ 
št2
 = 
št1
 ^ 0x10000; }

838 ià(
¿s
 =ğ14è{ 
št2
 = 
št1
 ^ 0x08000; }

842 
	`pci_cÚf_wr™e
(0, 0, 1, 0x90, 4, 
št2
);

843 
	`__d–ay
(500);

844 
	}
}

847 
	$chªge_timšg_amd64
(
ÿs
, 
rcd
, 
½
, 
¿s
) {

849 
ulÚg
 
d¿mr
;

850 
ulÚg
 
št1
= 0x0;

852 
	`pci_cÚf_»ad
(0, 24, 2, 0x88, 4, &
d¿mr
);

855 
št1
 = 
d¿mr
 | 0x7000;

856 ià(
rcd
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x5000; }

857 ià(
rcd
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x4000; }

858 ià(
rcd
 =ğ4è{ 
d¿mr
 = 
št1
 ^ 0x3000; }

859 ià(
rcd
 =ğ5è{ 
d¿mr
 = 
št1
 ^ 0x2000; }

860 ià(
rcd
 =ğ6è{ 
d¿mr
 = 
št1
 ^ 0x1000; }

861 ià(
rcd
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x6000; }

866 
št1
 = 
d¿mr
 | 0x7000000;

867 ià(
½
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x5000000; }

868 ià(
½
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x4000000; }

869 ià(
½
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x6000000; }

870 ià(
½
 =ğ4è{ 
d¿mr
 = 
št1
 ^ 0x3000000; }

871 ià(
½
 =ğ5è{ 
d¿mr
 = 
št1
 ^ 0x2000000; }

872 ià(
½
 =ğ6è{ 
d¿mr
 = 
št1
 ^ 0x1000000; }

877 
št1
 = 
d¿mr
 | 0xF00000;

878 ià(
¿s
 =ğ5è{ 
d¿mr
 = 
št1
 ^ 0xA00000; }

879 ià(
¿s
 =ğ6è{ 
d¿mr
 = 
št1
 ^ 0x900000; }

880 ià(
¿s
 =ğ7è{ 
d¿mr
 = 
št1
 ^ 0x800000; }

881 ià(
¿s
 =ğ8è{ 
d¿mr
 = 
št1
 ^ 0x700000; }

882 ià(
¿s
 =ğ9è{ 
d¿mr
 = 
št1
 ^ 0x600000; }

883 ià(
¿s
 =ğ10è{ 
d¿mr
 = 
št1
 ^ 0x500000; }

884 ià(
¿s
 =ğ11è{ 
d¿mr
 = 
št1
 ^ 0x400000; }

885 ià(
¿s
 =ğ12è{ 
d¿mr
 = 
št1
 ^ 0x300000; }

886 ià(
¿s
 =ğ13è{ 
d¿mr
 = 
št1
 ^ 0x200000; }

887 ià(
¿s
 =ğ14è{ 
d¿mr
 = 
št1
 ^ 0x100000; }

892 
št1
 = 
d¿mr
 | 0x7;

893 ià(
ÿs
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x2; }

894 ià(
ÿs
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x6; }

895 ià(
ÿs
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x5; }

896 ià(
ÿs
 =ğ4è{ 
d¿mr
 = 
št1
 ^ 0x7; }

900 
	`pci_cÚf_wr™e
(0, 24, 2, 0x88, 4, 
d¿mr
);

901 
	`__d–ay
(500);

905 
	}
}

908 
	$__d–ay
(
ulÚg
 
loİs
)

910 
d0
;

911 
__asm__
 
	`__vŞ©e__
(

917 :"=&a" (
d0
)

918 :"0" (
loİs
));

919 
	}
}

921 
	$amd64_tw—k
(
rwt
, 
w¹
, 
»f
, 
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
)

923 
ulÚg
 
d¿mr
;

924 
ulÚg
 
št1
= 0x0;

926 
	`pci_cÚf_»ad
(0, 24, 2, 0x88, 4, &
d¿mr
);

929 
št1
 = 
d¿mr
 | 0xF0;

930 ià(
rù
 =ğ7 ) { 
d¿mr
 = 
št1
 ^ 0xF0; }

931 ià(
rù
 =ğ8 ) { 
d¿mr
 = 
št1
 ^ 0xE0; }

932 ià(
rù
 =ğ9 ) { 
d¿mr
 = 
št1
 ^ 0xD0; }

933 ià(
rù
 =ğ10è{ 
d¿mr
 = 
št1
 ^ 0xC0; }

934 ià(
rù
 =ğ11è{ 
d¿mr
 = 
št1
 ^ 0xB0; }

935 ià(
rù
 =ğ12è{ 
d¿mr
 = 
št1
 ^ 0xA0; }

936 ià(
rù
 =ğ13è{ 
d¿mr
 = 
št1
 ^ 0x90; }

937 ià(
rù
 =ğ14è{ 
d¿mr
 = 
št1
 ^ 0x80; }

938 ià(
rù
 =ğ15è{ 
d¿mr
 = 
št1
 ^ 0x70; }

939 ià(
rù
 =ğ16è{ 
d¿mr
 = 
št1
 ^ 0x60; }

940 ià(
rù
 =ğ17è{ 
d¿mr
 = 
št1
 ^ 0x50; }

941 ià(
rù
 =ğ18è{ 
d¿mr
 = 
št1
 ^ 0x40; }

942 ià(
rù
 =ğ19è{ 
d¿mr
 = 
št1
 ^ 0x30; }

943 ià(
rù
 =ğ20è{ 
d¿mr
 = 
št1
 ^ 0x20; }

947 
št1
 = 
d¿mr
 | 0x70000;

948 ià(
¼d
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x50000; }

949 ià(
¼d
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x40000; }

950 ià(
¼d
 =ğ4è{ 
d¿mr
 = 
št1
 ^ 0x30000; }

954 
št1
 = 
d¿mr
 | 0x10000000;

955 ià(
wr
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x10000000; }

956 ià(
wr
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x00000000; }

959 
	`pci_cÚf_wr™e
(0, 24, 2, 0x88, 4, 
d¿mr
);

960 
	`__d–ay
(500);

963 
	`pci_cÚf_»ad
(0, 24, 2, 0x8C, 4, &
d¿mr
);

966 
št1
 = 
d¿mr
 | 0x1;

967 ià(
w¹
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x0; }

968 ià(
w¹
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x1; }

972 
št1
 = 
d¿mr
 | 0x70;

973 ià(
rwt
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x70; }

974 ià(
rwt
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x60; }

975 ià(
rwt
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x50; }

976 ià(
rwt
 =ğ4è{ 
d¿mr
 = 
št1
 ^ 0x40; }

977 ià(
rwt
 =ğ5è{ 
d¿mr
 = 
št1
 ^ 0x30; }

978 ià(
rwt
 =ğ6è{ 
d¿mr
 = 
št1
 ^ 0x20; }

982 
št1
 = 
d¿mr
 | 0x1800;

983 ià(
»f
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x1800; }

984 ià(
»f
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x1000; }

985 ià(
»f
 =ğ3è{ 
d¿mr
 = 
št1
 ^ 0x0800; }

988 
	`pci_cÚf_wr™e
(0, 24, 2, 0x8c, 4, 
d¿mr
);

989 
	`__d–ay
(500);

992 
	`pci_cÚf_»ad
(0, 24, 2, 0x90, 4, &
d¿mr
);

995 
št1
 = 
d¿mr
 | 0x10000000;

996 ià(
’2t
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0x00000000; }

997 ià(
’2t
 =ğ1è{ 
d¿mr
 = 
št1
 ^ 0x10000000; }

1001 
št1
 = 
d¿mr
 | 0xC000;

1002 ià(
rwqb
 =ğ2è{ 
d¿mr
 = 
št1
 ^ 0xC000; }

1003 ià(
rwqb
 =ğ4è{ 
d¿mr
 = 
št1
 ^ 0x8000; }

1004 ià(
rwqb
 =ğ8è{ 
d¿mr
 = 
št1
 ^ 0x4000; }

1005 ià(
rwqb
 =ğ16è{ 
d¿mr
 = 
št1
 ^ 0x0000; }

1008 
	`pci_cÚf_wr™e
(0, 24, 2, 0x90, 4, 
d¿mr
);

1009 
	`__d–ay
(500);

1010 
	`»¡¬t
();

1011 
	}
}

	@extra.h

9 #iâdeà
MEMTEST_EXTRA_H


10 
	#MEMTEST_EXTRA_H


	)

12 
chªge_timšg
(
ÿs
, 
rcd
, 
½
, 
¿s
);

13 
fšd_memùr
();

14 
disşaim”
();

15 
g‘_İtiÚ
();

16 
g‘_m’u
();

17 
a64_·¿m‘”
();

18 
g‘_ÿs
();

19 
chªge_timšg_i852
(
ÿs
, 
rcd
, 
½
, 
¿s
);

20 
chªge_timšg_i925
(
ÿs
, 
rcd
, 
½
, 
¿s
);

21 
chªge_timšg_i875
(
ÿs
, 
rcd
, 
½
, 
¿s
);

22 
chªge_timšg_nf2
(
ÿs
, 
rcd
, 
½
, 
¿s
);

23 
chªge_timšg_amd64
(
ÿs
, 
rcd
, 
½
, 
¿s
);

24 
amd64_tw—k
(
rwt
, 
w¹
, 
»f
, 
’2t
, 
rù
, 
¼d
, 
rwqb
, 
wr
);

25 
__d–ay
(
ulÚg
 
loİs
);

	@init.c

11 
	~"‹¡.h
"

12 
	~"defs.h
"

13 
	~"cÚfig.h
"

14 
	~"cÚŒŞËr.h
"

15 
	~"pci.h
"

16 
	~"io.h
"

17 
	~"¥d.h
"

19 
	#rdm¤
(
m¤
,
v®1
,
v®2
) \

20 
__asm__
 
	`__vŞ©e__
("rdmsr" \

21 : "÷" (
v®1
), "=d" (
v®2
) \

22 : "c" (
m¤
))

	)

24 
t£q
seq[];

25 
memsz_mode
;

26 
fœmw¬e
;

27 
dmi_š™Ÿlized
;

28 
dmi_”r_úts
[
MAX_DMI_MEMDEVS
];

30 
ıu_id’t
 
	gıu_id
;

31 
ulÚg
 
	g¡_low
, 
	g¡_high
;

32 
ulÚg
 
	g’d_low
, 
	g’d_high
;

33 
ulÚg
 
	gÿl_low
, 
	gÿl_high
;

34 
ulÚg
 
	gextşock
;

35 
	gimc_ty³
 = 0;

37 
	gl1_ÿche
, 
	gl2_ÿche
, 
	gl3_ÿche
;

38 
	gtsc_šv¬ŸbË
 = 0;

40 
ulÚg
 
mem¥“d
(ulÚg 
¤c
, ulÚg 
Ën
, 
™”
, 
ty³
);

41 
ıu_ty³
();

42 
ÿch—bË
();

43 
ıu¥“d
();

44 
	gb“pmode
, 
	gç_§ã
;

48 
	$ç§ã
(
m£c
, 
scs
)

50 

;

51 
ulÚg
 
sh
, 
¦
, 
l
, 
h
, 
t
;

52 
c
;

54 
	`ıršt
(18, 22, "Press *F1*oƒnter Fail-Safe Mode");

56 

 = 0;

58 
asm
 
	`__vŞ©e__
(

59 "rdtsc":"÷" (
¦
),"=d" (
sh
));

63 
asm
 
	`__vŞ©e__
(

64 "rdtsc":"÷" (
l
),"=d" (
h
));

65 
asm
 
	`__vŞ©e__
 (

68 :"÷" (
l
), "=d" (
h
)

69 :"g" (
¦
), "g" (
sh
),

70 "0" (
l
), "1" (
h
));

72 
t
 = 
h
 * (()0xfffffffà/ 
v
->
şks_m£c
);

73 
t
 +ğ(
l
 / 
v
->
şks_m£c
);

76 ià(
t
 >ğ
m£c
) {

77 
	`ıršt
(18, 22, " ");

82 
c
 = 
	`g‘_key
();

83 
c
 &= 0x7f;

85 if(
c
 =ğ
scs
) {

86 
ç_§ã
 = 1;

87 
	`ıršt
(18, 22, " ");

91 
	}
}

93 
	$di¥Ïy_š™
()

95 
i
;

96 vŞ©*
µ
;

98 
	`£rŸl_echo_š™
();

99 
	`£rŸl_echo_´št
("\x1B[LINE_SCROLL;24r");

100 
	`£rŸl_echo_´št
("\x1B[H\x1B[2J");

101 
	`£rŸl_echo_´št
("\x1B[37m\x1B[44m");

102 
	`£rŸl_echo_´št
("\x1B[0m");

103 
	`£rŸl_echo_´št
("\x1B[37m\x1B[44m");

106 
i
=0, 
µ
=(*)(
SCREEN_ADR
); i<80*24; i++) {

107 *
µ
++ = ' ';

108 *
µ
++ = 0x17;

112 
i
=0, 
µ
=(*)(
SCREEN_ADR
+1); i<
TITLE_WIDTH
; i++,…p+=2) {

113 *
µ
 = 0x20;

115 
	`ıršt
(0, 0, " Memtest86 v4.20 ");

117 
i
=0, 
µ
=(*)(
SCREEN_ADR
+1); i<2; i++,…p+=30) {

118 *
µ
 = 0xA4;

120 
	`ıršt
(0, 15, "+");

123 
i
=0, 
µ
=(*)(
SCREEN_ADR
+1+(24 * 160)); i<80; i++,…p+=2) {

124 *
µ
 = 0x71;

127 
	`£rŸl_echo_´št
("\x1B[0m");

128 
	}
}

133 
	$š™
()

135 
i
;

137 
	`outb
(0x8, 0x3f2);

140 
	`£t_ÿche
(1);

143 
	`di¥Ïy_š™
();

147 ià((
fœmw¬e
 =ğ
FIRMWARE_UNKNOWN
) &&

148 (
memsz_mode
 !ğ
SZ_MODE_PROBE
)) {

149 ià(
	`qu”y_lšuxbios
()) {

150 
fœmw¬e
 = 
FIRMWARE_LINUXBIOS
;

152 ià(
	`qu”y_pcbios
()) {

153 
fœmw¬e
 = 
FIRMWARE_PCBIOS
;

157 
	`mem_size
();

160 
	`pci_š™
();

163 
b“pmode
 = 
BEEP_MODE
;

165 
v
->
‹¡
 = 0;

166 
v
->
·ss
 = 0;

167 
v
->
msg_lše
 = 0;

168 
v
->
ecouÁ
 = 0;

169 
v
->
ecc_ecouÁ
 = 0;

170 
v
->
‹¡£l
 = -1;

171 
v
->
msg_lše
 = 
LINE_SCROLL
-1;

172 
v
->
süŞl_¡¬t
 = v->
msg_lše
 * 160;

173 
v
->
”ri
.
low_addr
.
·ge
 = 0x7fffffff;

174 
v
->
”ri
.
low_addr
.
off£t
 = 0xfff;

175 
v
->
”ri
.
high_addr
.
·ge
 = 0;

176 
v
->
”ri
.
high_addr
.
off£t
 = 0;

177 
v
->
”ri
.
mš_b™s
 = 32;

178 
v
->
”ri
.
max_b™s
 = 0;

179 
v
->
”ri
.
mš_b™s
 = 32;

180 
v
->
”ri
.
max_b™s
 = 0;

181 
v
->
”ri
.
maxl
 = 0;

182 
v
->
”ri
.
cÜ_”r
 = 0;

183 
v
->
”ri
.
eb™s
 = 0;

184 
v
->
”ri
.
hdr_æag
 = 0;

185 
v
->
”ri
.
tb™s
 = 0;

186 
i
=0; 
t£q
[i].
msg
 != 0; i++) {

187 
t£q
[
i
].
”rÜs
 = 0;

189 ià(
dmi_š™Ÿlized
) {

190 
i
=0; i < 
MAX_DMI_MEMDEVS
; i++){

191 ià(
dmi_”r_úts
[
i
] > 0) {

192 
dmi_”r_úts
[
i
] = 0;

197 
	`ıršt
(
LINE_CPU
+1, 0, "L1 Cache: Unknown ");

198 
	`ıršt
(
LINE_CPU
+2, 0, "L2 Cache: Unknown ");

199 
	`ıršt
(
LINE_CPU
+3, 0, "L3 Cache: None ");

200 
	`ıršt
(
LINE_CPU
+4, 0, "Memory : |-------------------------------------------------");

201 
	`­ršt
(
LINE_CPU
+4, 10, 
v
->
‹¡_·ges
);

202 
	`ıršt
(
LINE_CPU
+5, 0, "Chipset : ");

204 
	`ıu_ty³
();

207 
	`ç§ã
(2000, 0x3B);

210 
	`fšd_cÚŒŞËr
();

213 if(
ç_§ã
 =ğ0è{ 
	`g‘_¥d_¥ec
(); }

215 ià(
v
->
rdtsc
) {

216 
	`ÿch—bË
();

217 
	`ıršt
(
LINE_TIME
, 
COL_TIME
+4, ": :");

219 
	`ıršt
(0, 
COL_MID
,"Pass %");

220 
	`ıršt
(1, 
COL_MID
,"Test %");

221 
	`ıršt
(2, 
COL_MID
,"Test #");

222 
	`ıršt
(3, 
COL_MID
,"Testing: ");

223 
	`ıršt
(4, 
COL_MID
,"Pattern: ");

224 
	`ıršt
(
LINE_INFO
-2, 0, " WallTime Cached RsvdMem MemMap Cache ECC Test Pass Errors ECC Errs");

225 
	`ıršt
(
LINE_INFO
-1, 0, " --------- ------ ------- -------- ----- --- ---- ---- ------ --------");

226 
	`ıršt
(
LINE_INFO
, 
COL_TST
, " Std");

227 
	`ıršt
(
LINE_INFO
, 
COL_PASS
, " 0");

228 
	`ıršt
(
LINE_INFO
, 
COL_ERR
, " 0");

229 
	`ıršt
(
LINE_INFO
+1, 0, " -----------------------------------------------------------------------------");

232 
i
=0; i < 5; i++) {

233 
	`ıršt
(
i
, 
COL_MID
-2, "| ");

235 
	`foÙ”
();

238 
v
->
´štmode
=
PRINTMODE_ADDRESSES
;

239 
v
->
num·Š
=0;

241 
	}
}

243 
	#FLAT
 0

	)

245 
	gm­³d_wšdow
 = 1;

246 
	$·gšg_off
()

248 ià(!
v
->
·e
)

250 
m­³d_wšdow
 = 1;

251 
__asm__
 
	`__vŞ©e__
 (

264 
	}
}

266 
	$·gšg_Ú
(*
pdp
)

268 ià(!
v
->
·e
)

270 
__asm__
 
	`__vŞ©e__
(

282 : "r" (
pdp
)

285 
	}
}

287 
	$m­_·ge
(
·ge
)

289 
i
;

290 
	spde
 {

291 
addr_lo
;

292 
addr_hi
;

294 
pdp
[];

295 
pde
 
pd2
[];

296 
wšdow
 = 
·ge
 >> 19;

297 ià(
FLAT
 || (
wšdow
 =ğ
m­³d_wšdow
)) {

300 ià(
wšdow
 == 0) {

303 ià(!
v
->
·e
 || (
wšdow
 >= 32)) {

311 
i
 = 0; i < 1024; i++) {

323 
pd2
[
i
].
addr_lo
 = ((
wšdow
 & 1) << 31) + ((i & 0x3ff) << 21) + 0xE3;

324 
pd2
[
i
].
addr_hi
 = (
wšdow
 >> 1);

326 
	`·gšg_off
();

327 ià(
wšdow
 > 1) {

328 
	`·gšg_Ú
(
pdp
);

330 
m­³d_wšdow
 = 
wšdow
;

332 
	}
}

334 *
	$m­pšg
(
·ge_addr
)

336 *
»suÉ
;

337 ià(
FLAT
 || (
·ge_addr
 < 0x80000)) {

339 
»suÉ
 = (*)(
·ge_addr
 << 12);

342 
®Ÿs
;

343 
®Ÿs
 = 
·ge_addr
 & 0x7FFFF;

344 
®Ÿs
 += 0x80000;

345 
»suÉ
 = (*)(
®Ÿs
 << 12);

347  
»suÉ
;

348 
	}
}

350 *
	$em­pšg
(
·ge_addr
)

352 *
»suÉ
;

353 
»suÉ
 = 
	`m­pšg
(
·ge_addr
 -1);

355 
»suÉ
 = ((*)result) + 0xf00;

356  
»suÉ
;

357 
	}
}

359 
	$·ge_of
(*
addr
)

361 
·ge
;

362 
·ge
 = (()
addr
) >> 12;

363 ià(!
FLAT
 && (
·ge
 >= 0x80000)) {

364 
·ge
 &= 0x7FFFF;

365 
·ge
 +ğ
m­³d_wšdow
 << 19;

368 
	`ıršt
(
LINE_SCROLL
 -2, 0, "page_of( )-> ");

369 
	`h´št
(
LINE_SCROLL
 -2, 8, (()
addr
));

370 
	`h´št
(
LINE_SCROLL
 -2, 20, 
·ge
);

372  
·ge
;

373 
	}
}

381 
	$ıu_ty³
()

383 
i
, 
off
=0;

384 
l1_ÿche
=0, 
l2_ÿche
=0, 
l3_ÿche
=0;

385 
ulÚg
 
¥“d
;

387 
v
->
rdtsc
 = 0;

388 
v
->
·e
 = 0;

390 #ifdeà
CPUID_DEBUG


391 
	`d´št
(9,0,
ıu_id
.
ty³
,3,1);

392 
	`d´št
(10,0,
ıu_id
.
mod–
,3,1);

393 
	`d´št
(11,0,
ıu_id
.
ıuid
,3,1);

398 ià(
ıu_id
.
ıuid
 < 1) {

399 
ıu_id
.
ty³
) {

402 
i
 = 
	`g‘Cx86
(0xfe);

403 
i
 &= 0xf0;

404 
i
 >>= 4;

405 
i
) {

408 
	`ıršt
(
LINE_CPU
, 0, "Cyrix Cx486");

411 
	`ıršt
(
LINE_CPU
, 0,"Cyrix 5x86");

414 
	`ıršt
(
LINE_CPU
, 0,"Cyrix 6x86");

417 
	`ıršt
(
LINE_CPU
, 0,"Cyrix MediaGX");

420 
	`ıršt
(
LINE_CPU
, 0,"Cyrix 6x86MX");

423 
	`ıršt
(
LINE_CPU
, 0,"Cyrix MII");

426 
	`ıršt
(
LINE_CPU
, 0,"Cyrix ???");

431 
	`ıršt
(
LINE_CPU
, 0, "386");

435 
	`ıršt
(
LINE_CPU
, 0, "486");

436 
l1_ÿche
 = 8;

443 ià(
ıu_id
.
ÿ·b™y
 & (1 << 
X86_FEATURE_PAE
)) {

444 
v
->
·e
 = 1;

446 
ıu_id
.
v’d_id
[0]) {

449 
ıu_id
.
ty³
) {

451 
ıu_id
.
mod–
) {

453 
	`ıršt
(
LINE_CPU
, 0, "AMD 486DX2");

456 
	`ıršt
(
LINE_CPU
, 0, "AMD 486DX2-WB");

459 
	`ıršt
(
LINE_CPU
, 0, "AMD 486DX4");

462 
	`ıršt
(
LINE_CPU
, 0, "AMD 486DX4-WB");

465 
	`ıršt
(
LINE_CPU
, 0, "AMD 5x86-WT");

471 
ıu_id
.
mod–
) {

476 
	`ıršt
(
LINE_CPU
, 0, "AMD K5");

477 
l1_ÿche
 = 8;

478 
off
 = 6;

482 
	`ıršt
(
LINE_CPU
, 0, "AMD K6");

483 
off
 = 6;

484 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

485 
l1_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[7];

488 
	`ıršt
(
LINE_CPU
, 0, "AMD K6-2");

489 
off
 = 8;

490 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

491 
l1_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[7];

494 
	`ıršt
(
LINE_CPU
, 0, "AMD K6-III");

495 
off
 = 10;

496 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

497 
l1_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[7];

498 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

499 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

502 
	`ıršt
(
LINE_CPU
, 0, "AMD Geode LX");

503 
off
 = 12;

504 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

505 
l1_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[7];

506 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

507 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

510 
	`ıršt
(
LINE_CPU
, 0, "AMD K6-III+");

511 
off
 = 11;

512 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

513 
l1_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[7];

514 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

515 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

520 
ıu_id
.
mod–
) {

522 
	`ıršt
(
LINE_CPU
, 0, "AMD Athlon (0.25)");

523 
off
 = 17;

524 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

525 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

529 
	`ıršt
(
LINE_CPU
, 0, "AMD Athlon (0.18)");

530 
off
 = 17;

531 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

532 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

535 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

536 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

537 ià(
l2_ÿche
 == 64) {

538 
	`ıršt
(
LINE_CPU
, 0, "AMD Duron (0.18)");

540 
	`ıršt
(
LINE_CPU
, 0, "Athlon XP (0.18)");

542 
off
 = 16;

546 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

547 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

548 ià(
l2_ÿche
 == 64) {

549 
	`ıršt
(
LINE_CPU
, 0, "AMD Duron (0.13)");

551 
	`ıršt
(
LINE_CPU
, 0, "Athlon XP (0.13)");

553 
off
 = 16;

557 
	`ıršt
(
LINE_CPU
, 0, "AMD Duron");

558 
off
 = 9;

561 ià(
ıu_id
.
¡•
 == 0) {

563 
l2_ÿche
 = 64;

565 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

566 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

570 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

571 
l1_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[7];

574 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3];

575 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11] << 8);

576 
l2_ÿche
 +ğ
ıu_id
.
ÿche_šfo
[10];

577 
imc_ty³
 = 0x0100;

578 if(((
ıu_id
.
ext
 >> 16) & 0xFF) < 0x10) {

580 
ıu_id
.
mod–
) {

582 
	`ıršt
(
LINE_CPU
, 0, "AMD K8");

583 
off
 = 6;

587 ià(((
ıu_id
.
ext
 >> 16) & 0xF) != 0) {

588 
	`ıršt
(
LINE_CPU
, 0, "AMD Opteron (0.09)");

590 
	`ıršt
(
LINE_CPU
, 0, "AMD Opteron (0.13)");

592 
off
 = 18;

596 
	`ıršt
(
LINE_CPU
, 0, "Athlon 64 X2");

597 
off
 = 12;

600 
	`ıršt
(
LINE_CPU
, 0, "Turion 64 X2");

601 
off
 = 12;

608 ià(((
ıu_id
.
ext
 >> 16) & 0xF) != 0) {

609 ià(
l2_ÿche
 > 256) {

610 
	`ıršt
(
LINE_CPU
, 0, "Athlon 64 (0.09)");

612 
	`ıršt
(
LINE_CPU
, 0, "Sempron (0.09)");

615 ià(
l2_ÿche
 > 256) {

616 
	`ıršt
(
LINE_CPU
, 0, "Athlon 64 (0.13)");

618 
	`ıršt
(
LINE_CPU
, 0, "Sempron (0.13)");

621 
off
 = 16;

627 
l3_ÿche
 = (
ıu_id
.
ÿche_šfo
[15] << 8);

628 
l3_ÿche
 +ğ(
ıu_id
.
ÿche_šfo
[14] >> 2);

629 
l3_ÿche
 *= 512;

630 
ıu_id
.
mod–
) {

632 
imc_ty³
 = 0x0102;

633 
	`ıršt
(
LINE_CPU
, 0, "AMD Fusion @");

634 
off
 = 12;

638 
imc_ty³
 = 0x0101;

639 
	`ıršt
(
LINE_CPU
, 0, "AMD K10 (65nm) @");

640 
off
 = 16;

643 
imc_ty³
 = 0x0101;

644 
	`ıršt
(
LINE_CPU
, 0, "AMD K10 (45nm) @");

645 
off
 = 16;

648 
imc_ty³
 = 0x0101;

649 
	`ıršt
(
LINE_CPU
, 0, "AMD Magny-Cours");

650 
off
 = 15;

660 iàĞ
ıu_id
.
v’d_id
[7] == 'T' ) {

661 ià(
ıu_id
.
ty³
 == 5) {

662 
	`ıršt
(
LINE_CPU
, 0, "TM 5x00");

663 
off
 = 7;

664 } ià(
ıu_id
.
ty³
 == 15) {

665 
	`ıršt
(
LINE_CPU
, 0, "TM 8x00");

666 
off
 = 7;

668 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3] + cpu_id.cache_info[7];

669 
l2_ÿche
 = (
ıu_id
.
ÿche_šfo
[11]*256) + cpu_id.cache_info[10];

671 ià(
ıu_id
.
ty³
 == 4) {

672 
ıu_id
.
mod–
) {

675 
	`ıršt
(
LINE_CPU
, 0, "Intel 486DX");

676 
off
 = 11;

679 
	`ıršt
(
LINE_CPU
, 0, "Intel 486SX");

680 
off
 = 11;

683 
	`ıršt
(
LINE_CPU
, 0, "Intel 486DX2");

684 
off
 = 12;

687 
	`ıršt
(
LINE_CPU
, 0, "Intel 486SL");

688 
off
 = 11;

691 
	`ıršt
(
LINE_CPU
, 0, "Intel 486SX2");

692 
off
 = 12;

695 
	`ıršt
(
LINE_CPU
, 0, "Intel 486DX2-WB");

696 
off
 = 15;

699 
	`ıršt
(
LINE_CPU
, 0, "Intel 486DX4");

700 
off
 = 12;

703 
	`ıršt
(
LINE_CPU
, 0, "Intel 486DX4-WB");

704 
off
 = 15;

712 
i
=0; i<16; i++) {

713 #ifdeà
CPUID_DEBUG


714 
	`d´št
(12,
i
*3,
ıu_id
.
ÿche_šfo
[i],2,1);

716 
ıu_id
.
ÿche_šfo
[
i
]) {

720 
l1_ÿche
 = 8;

726 
l1_ÿche
 = 16;

733 
l1_ÿche
 = 32;

736 
l2_ÿche
 = 0;

742 
l2_ÿche
 = 128;

745 
l2_ÿche
 = 192;

753 
l2_ÿche
 = 256;

756 
l2_ÿche
 = 384;

765 
l2_ÿche
 = 512;

772 
l2_ÿche
 = 1024;

777 
l2_ÿche
 = 2048;

780 
l2_ÿche
 = 3072;

783 
l2_ÿche
 = 4096;

786 
l2_ÿche
 = 6144;

790 
l3_ÿche
 = 512;

794 
l3_ÿche
 = 1024;

797 
l3_ÿche
 = 1536;

803 
l3_ÿche
 = 2048;

806 
l3_ÿche
 = 3072;

812 
l3_ÿche
 = 4096;

816 
l3_ÿche
 = 6144;

821 
l3_ÿche
 = 8192;

825 
l3_ÿche
 = 12288;

828 
l3_ÿche
 = 16374;

831 
l3_ÿche
 = 18432;

834 
l3_ÿche
 = 24576;

840 if(
l1_ÿche
 =ğ0 && ((
ıu_id
.
dÿche0_—x
 >> 5) & 7) == 1)

843 
dÿche
[] = { 
ıu_id
.
dÿche0_—x
, cpu_id.
dÿche0_ebx
, cpu_id.
dÿche0_ecx
, cpu_id.
dÿche0_edx
,

844 
ıu_id
.
dÿche1_—x
, cpu_id.
dÿche1_ebx
, cpu_id.
dÿche1_ecx
, cpu_id.
dÿche1_edx
,

845 
ıu_id
.
dÿche2_—x
, cpu_id.
dÿche2_ebx
, cpu_id.
dÿche2_ecx
, cpu_id.
dÿche2_edx
,

846 
ıu_id
.
dÿche3_—x
, cpu_id.
dÿche3_ebx
, cpu_id.
dÿche3_ecx
, cpu_id.
dÿche3_edx


849 
i
=0; i<4; i++)

851 (
dÿche
[
i
*4] >> 5) & 7)

855 if((
dÿche
[
i
*4] & 3) != 2)

857 
l1_ÿche
 = (((
dÿche
[
i
*4+1] >> 22) & 0x3FF) + 1) * (((dcache[i*4+1] >> 12) & 0x3FF) + 1);

858 
l1_ÿche
 *ğ((
dÿche
[
i
*4+1] & 0xFFF) + 1) * (dcache[i*4+2] + 1) / 1024;

862 
l2_ÿche
 = (((
dÿche
[
i
*4+1] >> 22) & 0x3FF) + 1) * (((dcache[i*4+1] >> 12) & 0x3FF) + 1);

863 
l2_ÿche
 *ğ((
dÿche
[
i
*4+1] & 0xFFF) + 1) * (dcache[i*4+2] + 1) / 1024;

866 
l3_ÿche
 = (((
dÿche
[
i
*4+1] >> 22) & 0x3FF) + 1) * (((dcache[i*4+1] >> 12) & 0x3FF) + 1);

867 
l3_ÿche
 *ğ((
dÿche
[
i
*4+1] & 0xFFF) + 1) * (dcache[i*4+2] + 1) / 1024;

874 
ıu_id
.
ty³
) {

876 
ıu_id
.
mod–
) {

882 
	`ıršt
(
LINE_CPU
, 0, "Pentium");

883 ià(
l1_ÿche
 == 0) {

884 
l1_ÿche
 = 8;

886 
off
 = 7;

890 
	`ıršt
(
LINE_CPU
, 0, "Pentium-MMX");

891 ià(
l1_ÿche
 == 0) {

892 
l1_ÿche
 = 16;

894 
off
 = 11;

899 
ıu_id
.
mod–
) {

902 
	`ıršt
(
LINE_CPU
, 0, "Pentium Pro");

903 
off
 = 11;

906 
	`ıršt
(
LINE_CPU
, 0, "Pentium II");

907 
off
 = 10;

910 ià((
ıu_id
.
ext
 >> 16) & 0xF) {

911 if(((
ıu_id
.
ext
 >> 16) & 0xF) > 1) {

912 
	`ıršt
(
LINE_CPU
, 0, "Intel Core i3/i5");

913 
tsc_šv¬ŸbË
 = 1;

914 
imc_ty³
 = 0x0003;

915 
off
 = 16;

917 
	`ıršt
(
LINE_CPU
, 0, "Intel EP80579");

918 ià(
l2_ÿche
 == 0) {†2_cache = 256; }

919 
off
 = 13;

922 ià(
l2_ÿche
 == 0) {

923 
	`ıršt
(
LINE_CPU
, 0, "Celeron");

924 
off
 = 7;

926 
	`ıršt
(
LINE_CPU
, 0, "Pentium II");

927 
off
 = 10;

932 ià(
l2_ÿche
 == 128) {

933 
	`ıršt
(
LINE_CPU
, 0, "Celeron");

934 
off
 = 7;

936 
	`ıršt
(
LINE_CPU
, 0, "Pentium II");

937 
off
 = 10;

943 ià(((
ıu_id
.
ext
 >> 16) & 0xF) != 0) {

944 
tsc_šv¬ŸbË
 = 1;

945 ià(
l2_ÿche
 < 1024) {

946 
	`ıršt
(
LINE_CPU
, 0, "Celeron");

947 
off
 = 7;

949 
	`ıršt
(
LINE_CPU
, 0, "Intel Core 2");

950 
off
 = 12;

953 ià(
l2_ÿche
 == 128) {

954 
	`ıršt
(
LINE_CPU
, 0, "Celeron");

955 
off
 = 7;

957 
	`ıršt
(
LINE_CPU
, 0, "Pentium III");

958 
off
 = 11;

963 ià(
l2_ÿche
 == 512) {

964 
	`ıršt
(
LINE_CPU
, 0, "Celeron M (0.13)");

966 
	`ıršt
(
LINE_CPU
, 0, "Pentium M (0.13)");

968 
off
 = 16;

971 ià(((
ıu_id
.
ext
 >> 16) & 0xF) != 0) {

972 
tsc_šv¬ŸbË
 = 1;

973 if(((
ıu_id
.
ext
 >> 16) & 0xF) > 1) {

974 
	`ıršt
(
LINE_CPU
, 0, "Intel Core Gen2");

975 
imc_ty³
 = 0x0004;

976 
off
 = 15;

978 
imc_ty³
 = 0x0001;

979 
	`ıršt
(
LINE_CPU
, 0, "Intel Core i7");

980 
off
 = 13;

983 
	`ıršt
(
LINE_CPU
, 0, "Pentium III Xeon");

984 
off
 = 16;

988 ià(((
ıu_id
.
ext
 >> 16) & 0xF) > 1) {

989 
	`ıršt
(
LINE_CPU
, 0, "Core i7 (32nm)");

990 
tsc_šv¬ŸbË
 = 1;

991 
imc_ty³
 = 0x0002;

992 
off
 = 14;

994 
l1_ÿche
 = 24;

995 
	`ıršt
(
LINE_CPU
, 0, "Atom (0.045)");

996 
off
 = 12;

1000 ià(
l2_ÿche
 == 1024) {

1001 
	`ıršt
(
LINE_CPU
, 0, "Celeron M (0.09)");

1003 
	`ıršt
(
LINE_CPU
, 0, "Pentium M (0.09)");

1005 
off
 = 16;

1008 ià(((
ıu_id
.
ext
 >> 16) & 0xF) != 0) {

1009 
tsc_šv¬ŸbË
 = 1;

1010 
imc_ty³
 = 0x0001;

1011 
	`ıršt
(
LINE_CPU
, 0, "Intel Core i5/i7");

1012 
off
 = 16;

1014 
	`ıršt
(
LINE_CPU
, 0, "Intel Core");

1015 
off
 = 10;

1019 ià(
l2_ÿche
 == 1024) {

1020 
	`ıršt
(
LINE_CPU
, 0, "Pentium E");

1021 
off
 = 9;

1023 
	`ıršt
(
LINE_CPU
, 0, "Intel Core 2");

1024 
off
 = 12;

1026 
tsc_šv¬ŸbË
 = 1;

1031 
ıu_id
.
mod–
) {

1034 ià(
l2_ÿche
 == 128) {

1035 
	`ıršt
(
LINE_CPU
, 0, "Celeron (0.18)");

1036 
off
 = 14;

1037 } ià(
ıu_id
.
pwrÿp
 == 0x0B) {

1038 
	`ıršt
(
LINE_CPU
, 0, "Xeon DP (0.18)");

1039 
off
 = 14;

1040 } ià(
ıu_id
.
pwrÿp
 == 0x0C) {

1041 
	`ıršt
(
LINE_CPU
, 0, "Xeon MP (0.18)");

1042 
off
 = 14;

1044 
	`ıršt
(
LINE_CPU
, 0, "Pentium 4 (0.18)");

1045 
off
 = 16;

1049 ià(
l2_ÿche
 == 128) {

1050 
	`ıršt
(
LINE_CPU
, 0, "Celeron (0.13)");

1051 
off
 = 14;

1052 } ià(
ıu_id
.
pwrÿp
 == 0x0B) {

1053 
	`ıršt
(
LINE_CPU
, 0, "Xeon DP (0.13)");

1054 
off
 = 14;

1055 } ià(
ıu_id
.
pwrÿp
 == 0x0C) {

1056 
	`ıršt
(
LINE_CPU
, 0, "Xeon MP (0.13)");

1057 
off
 = 14;

1059 
	`ıršt
(
LINE_CPU
, 0, "Pentium 4 (0.13)");

1060 
off
 = 16;

1065 ià(
l2_ÿche
 == 256) {

1066 
	`ıršt
(
LINE_CPU
, 0, "Celeron (0.09)");

1067 
off
 = 14;

1068 } ià(
ıu_id
.
pwrÿp
 == 0x0B) {

1069 
	`ıršt
(
LINE_CPU
, 0, "Xeon DP (0.09)");

1070 
off
 = 14;

1071 } ià(
ıu_id
.
pwrÿp
 == 0x0C) {

1072 
	`ıršt
(
LINE_CPU
, 0, "Xeon MP (0.09)");

1073 
off
 = 14;

1074 } ià((
ıu_id
.
¡•
 =ğ0x4 || cpu_id.¡• =ğ0x7è&& cpu_id.
mod–
 == 0x4) {

1075 
	`ıršt
(
LINE_CPU
, 0, "Pentium D (0.09)");

1076 
off
 = 16;

1078 
	`ıršt
(
LINE_CPU
, 0, "Pentium 4 (0.09)");

1079 
off
 = 16;

1083 
	`ıršt
(
LINE_CPU
, 0, "Pentium D (65nm)");

1084 
off
 = 16;

1087 
	`ıršt
(
LINE_CPU
, 0, "Unknown Intel");

1088 
off
 = 13;

1098 iàĞ
ıu_id
.
v’d_id
[1] == 'e' ) {

1099 
l1_ÿche
 = 
ıu_id
.
ÿche_šfo
[3] + cpu_id.cache_info[7];

1100 
l2_ÿche
 = 
ıu_id
.
ÿche_šfo
[11];

1101 
ıu_id
.
ty³
){

1103 
	`ıršt
(
LINE_CPU
, 0, "Centaur 5x86");

1104 
off
 = 12;

1107 
ıu_id
.
mod–
){

1109 ià(
ıu_id
.
¡•
 < 8) {

1110 
	`ıršt
(
LINE_CPU
, 0, "VIA C3 Samuel2");

1111 
off
 = 14;

1113 
	`ıršt
(
LINE_CPU
, 0, "VIA C3 Eden");

1114 
off
 = 11;

1118 
	`ıršt
(
LINE_CPU
, 0, "VIA C7 (C5J)");

1119 
l1_ÿche
 = 64;

1120 
l2_ÿche
 = 128;

1121 
off
 = 16;

1124 
	`ıršt
(
LINE_CPU
, 0, "VIA C7 (C5R)");

1125 
l1_ÿche
 = 64;

1126 
l2_ÿche
 = 128;

1127 
off
 = 12;

1130 
	`ıršt
(
LINE_CPU
, 0, "VIA Isaiah (CN)");

1131 
l1_ÿche
 = 64;

1132 
l2_ÿche
 = 1024;

1133 
off
 = 15;

1138 
ıu_id
.
ty³
) {

1140 
ıu_id
.
mod–
) {

1142 
	`ıršt
(
LINE_CPU
, 0, "Cyrix 6x86MX/MII");

1143 
off
 = 16;

1146 
	`ıršt
(
LINE_CPU
, 0, "Cyrix GXm");

1147 
off
 = 9;

1153 
ıu_id
.
mod–
) {

1155 
	`ıršt
(
LINE_CPU
, 0, "Cyrix III");

1156 
off
 = 9;

1159 ià(
ıu_id
.
¡•
 < 8) {

1160 
	`ıršt
(
LINE_CPU
, 0, "VIA C3 Samuel2");

1161 
off
 = 14;

1163 
	`ıršt
(
LINE_CPU
, 0, "VIA C3 Ezra-T");

1164 
off
 = 13;

1168 
	`ıršt
(
LINE_CPU
, 0, "VIA C3 Ezra-T");

1169 
off
 = 13;

1172 
	`ıršt
(
LINE_CPU
, 0, "VIA C3 Nehemiah");

1173 
off
 = 15;

1177 
l1_ÿche
 = 64;

1178 
l2_ÿche
 = 64;

1186 
off
 = 3;

1188 
ıu_id
.
ty³
) {

1190 
	`ıršt
(
LINE_CPU
, 0, "586");

1193 
	`ıršt
(
LINE_CPU
, 0, "686");

1201 ià((
¥“d
 = 
	`ıu¥“d
()) > 0) {

1202 ià(
¥“d
 < 1000000-50) {

1203 
¥“d
 += 50;

1204 
	`ıršt
(
LINE_CPU
, 
off
, " . MHz");

1205 
	`d´št
(
LINE_CPU
, 
off
+1, 
¥“d
/1000, 3, 1);

1206 
	`d´št
(
LINE_CPU
, 
off
+5, (
¥“d
/100)%10, 1, 0);

1208 
¥“d
 += 500;

1209 
	`ıršt
(
LINE_CPU
, 
off
, " MHz");

1210 
	`d´št
(
LINE_CPU
, 
off
, 
¥“d
/1000, 5, 0);

1212 
extşock
 = 
¥“d
;

1218 ià(
l1_ÿche
) {

1219 
	`ıršt
(
LINE_CPU
+1, 0, "L1 Cache: K ");

1220 
	`d´št
(
LINE_CPU
+1, 11, 
l1_ÿche
, 3, 0);

1221 ià((
¥“d
=
	`mem¥“d
((
ulÚg
)
	`m­pšg
(0x100), (
l1_ÿche
 / 4è* 1024, 200, 
MS_COPY
))) {

1222 
	`ıršt
(
LINE_CPU
+1, 16, " MB/s");

1223 
	`d´št
(
LINE_CPU
+1, 16, 
¥“d
, 6, 0);

1231 ià(
l2_ÿche
) {

1232 
	`ıršt
(
LINE_CPU
+2, 0, "L2 Cache: K ");

1233 
	`d´št
(
LINE_CPU
+2, 10, 
l2_ÿche
, 4, 0);

1234 
	`d´št
(
LINE_CPU
+2, 10, 
l2_ÿche
, 4, 0);

1236 ià(
l2_ÿche
 < 
l1_ÿche
) {

1237 
i
 = 
l1_ÿche
 / 4 + 
l2_ÿche
 / 4;

1239 
i
 = 
l1_ÿche
;

1241 ià((
¥“d
=
	`mem¥“d
((
ulÚg
)
	`m­pšg
(0x100), 
i
*1024, 200, 
MS_COPY
))) {

1242 
	`ıršt
(
LINE_CPU
+2, 16, " MB/s");

1243 
	`d´št
(
LINE_CPU
+2, 16, 
¥“d
, 6, 0);

1251 ià(
l3_ÿche
) {

1252 
	`ıršt
(
LINE_CPU
+3, 0, "L3 Cache: K ");

1253 
	`d´št
(
LINE_CPU
+3, 10, 
l3_ÿche
, 4, 0);

1254 
	`d´št
(
LINE_CPU
+3, 10, 
l3_ÿche
, 4, 0);

1256 
i
 = 
l2_ÿche
*2;

1258 ià((
¥“d
=
	`mem¥“d
((
ulÚg
)
	`m­pšg
(0x100), 
i
*1024, 150, 
MS_COPY
))) {

1259 
	`ıršt
(
LINE_CPU
+3, 16, " MB/s");

1260 
	`d´št
(
LINE_CPU
+3, 16, 
¥“d
, 6, 0);

1267 
i
 = (
l3_ÿche
 + 
l2_ÿche
 + 
l1_ÿche
) * 5;

1270 ià((1 + (
i
 * 2)è> (
v
->
¶im_uµ”
 << 2)) {

1271 
i
 = ((
v
->
¶im_uµ”
 <<2) - 1) / 2;

1273 if((
¥“d
 = 
	`mem¥“d
((
ulÚg
)
	`m­pšg
(0x100), 
i
*1024, 50, 
MS_COPY
))) {

1274 
	`ıršt
(
LINE_CPU
+4, 16, " MB/s");

1275 
	`d´št
(
LINE_CPU
+4, 16, 
¥“d
, 6, 0);

1279 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
v
->
¡¬
),"=d" (v->
¡¬th
));

1280 
v
->
¢­l
 = v->
¡¬
;

1281 
v
->
¢­h
 = v->
¡¬th
;

1282 
v
->
rdtsc
 = 1;

1283 ià(
l1_ÿche
 == 0) {†1_cache = 66; }

1284 ià(
l2_ÿche
 =ğ0è{ 
l1_ÿche
 = 666; }

1285 
	}
}

1288 
	$ÿch—bË
()

1290 
ulÚg
 
¥“d
, 
p¥“d
;

1291 
ulÚg
 
·ddr
, 
mem_tİ
, 
ÿched
;

1293 
mem_tİ
 = 
v
->
pm­
[v->
m£gs
 - 1].
’d
;

1294 
ÿched
 = 
v
->
‹¡_·ges
;

1295 
p¥“d
 = 0;

1296 
·ddr
=0x200;…add¸<ğ
mem_tİ
 - 64;…addr+=0x400) {

1297 
i
;

1298 
found
;

1300 
found
 = 0;

1301 
i
 = 0; i < 
v
->
m£gs
; i++) {

1302 ià((
v
->
pm­
[
i
].
¡¬t
 >ğ
·ddr
) &&

1303 (
v
->
pm­
[
i
].
’d
 <ğ(
·ddr
 + 32))) {

1304 
found
 = 1;

1308 ià(!
found
) {

1312 
	`m­_·ge
(
·ddr
);

1313 
¥“d
 = 
	`mem¥“d
((
ulÚg
)
	`m­pšg
(
·ddr
), 32*4096, 1, 
MS_READ
);

1314 ià(
p¥“d
) {

1315 ià(
¥“d
 < 
p¥“d
) {

1316 
ÿched
 -= 32;

1318 
p¥“d
 = (
ulÚg
)(()
¥“d
 * 0.7);

1321 
	`­ršt
(
LINE_INFO
, 
COL_CACHE_TOP
, 
ÿched
);

1323 
	`m­_·ge
(0);

1324 
	`m­_·ge
(0x80000);

1325 
	}
}

1331 
	#TICKS
 59659

	)

1334 
	$ıu¥“d
()

1336 
loİs
;

1339 
	`outb
((
	`šb
(0x61) & ~0x02) | 0x01, 0x61);

1340 
	`outb
(0xb0, 0x43);

1341 
	`outb
(
TICKS
 & 0xff, 0x42);

1342 
	`outb
(
TICKS
 >> 8, 0x42);

1344 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
¡_low
),"=d" (
¡_high
));

1346 
loİs
 = 0;

1348 
loİs
++;

1349 } (
	`šb
(0x61) & 0x20) == 0);

1351 
asm
 
	`__vŞ©e__
 (

1355 :"÷" (
’d_low
), "=d" (
’d_high
)

1359 ià(
loİs
 < 4 || 
’d_low
 < 50000) {

1363 if(
tsc_šv¬ŸbË
){ 
’d_low
 = 
	`cÜ»ù_tsc
(end_low); }

1365 
v
->
şks_m£c
 = 
’d_low
/50;

1366 (
v
->
şks_m£c
);

1367 
	}
}

1371 
ulÚg
 
	$mem¥“d
(
ulÚg
 
¤c
, ulÚg 
Ën
, 
™”
, 
ty³
)

1373 
ulÚg
 
d¡
;

1374 
ulÚg
 
wËn
;

1375 
i
;

1377 
d¡
 = 
¤c
 + 
Ën
;

1378 
wËn
 = 
Ën
 / 4;

1381 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
¡_low
),"=d" (
¡_high
));

1382 
i
=0; i<
™”
; i++) {

1383 
asm
 
	`__vŞ©e__
 (

1390 :: "g" (
¤c
), "g" (
d¡
), "g" (0)

1394 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
ÿl_low
),"=d" (
ÿl_high
));

1397 
asm
 
	`__vŞ©e__
 (

1400 :"÷" (
ÿl_low
), "=d" (
ÿl_high
)

1401 :"g" (
¡_low
), "g" (
¡_high
),

1402 "0" (
ÿl_low
), "1" (
ÿl_high
)

1407 
ty³
) {

1408 
MS_COPY
:

1410 
asm
 
	`__vŞ©e__
 (

1417 :: "g" (
¤c
), "g" (
d¡
), "g" (
wËn
)

1420 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
¡_low
),"=d" (
¡_high
));

1421 
i
=0; i<
™”
; i++) {

1422 
asm
 
	`__vŞ©e__
 (

1429 :: "g" (
¤c
), "g" (
d¡
), "g" (
wËn
)

1433 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
’d_low
),"=d" (
’d_high
));

1435 
MS_WRITE
:

1436 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
¡_low
),"=d" (
¡_high
));

1437 
i
=0; i<
™”
; i++) {

1438 
asm
 
	`__vŞ©e__
 (

1444 :: "g" (
wËn
), "g" (
d¡
), "g" (0)

1448 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
’d_low
),"=d" (
’d_high
));

1450 
MS_READ
:

1451 
asm
 
	`__vŞ©e__
 (

1458 :: "g" (
¤c
), "g" (
wËn
)

1461 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
¡_low
),"=d" (
¡_high
));

1462 
i
=0; i<
™”
; i++) {

1463 
asm
 
	`__vŞ©e__
 (

1470 :: "g" (
¤c
), "g" (
wËn
)

1474 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
’d_low
),"=d" (
’d_high
));

1479 
asm
 
	`__vŞ©e__
 (

1482 :"÷" (
’d_low
), "=d" (
’d_high
)

1483 :"g" (
¡_low
), "g" (
¡_high
),

1484 "0" (
’d_low
), "1" (
’d_high
)

1487 
asm
 
	`__vŞ©e__
 (

1490 :"÷" (
’d_low
), "=d" (
’d_high
)

1491 :"g" (
ÿl_low
), "g" (
ÿl_high
),

1492 "0" (
’d_low
), "1" (
’d_high
)

1496 ià(
’d_high
) {

1501 ià(
ty³
 =ğ
MS_COPY
) {

1502 
’d_low
 /= 2;

1506 
’d_low
 /ğ
Ën
;

1507 
’d_low
 *= 1024;

1508 
’d_low
 /ğ
™”
;

1509 ià(
’d_low
 == 0) {

1513 if(
tsc_šv¬ŸbË
){ 
’d_low
 = 
	`cÜ»ù_tsc
(end_low); }

1516 ((
v
->
şks_m£c
)/
’d_low
);

1517 
	}
}

1519 
ulÚg
 
	$cÜ»ù_tsc
(
ulÚg
 
–_Üg
)

1522 
cÛf_now
, 
cÛf_max
;

1523 
m¤_lo
, 
m¤_hi
, 
is_xe
;

1525 
	`rdm¤
(0x198, 
m¤_lo
, 
m¤_hi
);

1526 
is_xe
 = (
m¤_lo
 >> 31) & 0x1;

1528 if(
is_xe
){

1529 
	`rdm¤
(0x198, 
m¤_lo
, 
m¤_hi
);

1530 
cÛf_max
 = ((
m¤_hi
 >> 8) & 0x1F);

1531 ià((
m¤_hi
 >> 14è& 0x1è{ 
cÛf_max
 = coef_max + 0.5f; }

1533 
	`rdm¤
(0x17, 
m¤_lo
, 
m¤_hi
);

1534 
cÛf_max
 = ((
m¤_lo
 >> 8) & 0x1F);

1535 ià((
m¤_lo
 >> 14è& 0x1è{ 
cÛf_max
 = coef_max + 0.5f; }

1538 if((
ıu_id
.
ã©u»_æag
 >> 7) & 1) {

1539 
	`rdm¤
(0x198, 
m¤_lo
, 
m¤_hi
);

1540 
cÛf_now
 = ((
m¤_lo
 >> 8) & 0x1F);

1541 ià((
m¤_lo
 >> 14è& 0x1è{ 
cÛf_now
 = coef_now + 0.5f; }

1543 
	`rdm¤
(0x2A, 
m¤_lo
, 
m¤_hi
);

1544 
cÛf_now
 = (
m¤_lo
 >> 22) & 0x1F;

1547 if(
cÛf_max
 && 
cÛf_now
è{ 
–_Üg
 = (
ulÚg
)(el_org * coef_now / coef_max); }

1549  
–_Üg
;

1551 
	}
}

	@io.h

1 #iâdeà
_ASM_IO_H


2 
	#_ASM_IO_H


	)

17 #ifdeà
SLOW_IO_BY_JUMPING


18 
	#__SLOW_DOWN_IO
 
__asm__
 
	`__vŞ©e__
("jm°1f\n1:\tjm°1f\n1:")

	)

20 
	#__SLOW_DOWN_IO
 
__asm__
 
	`__vŞ©e__
("outb %®,$0x80")

	)

23 #ifdeà
REALLY_SLOW_IO


24 
	#SLOW_DOWN_IO
 { 
__SLOW_DOWN_IO
; __SLOW_DOWN_IO; __SLOW_DOWN_IO; __SLOW_DOWN_IO; }

	)

26 
	#SLOW_DOWN_IO
 
__SLOW_DOWN_IO


	)

33 
	#__OUT1
(
s
,
x
) \

34 
šlše
 
__out
##
	`s
(
x
 
v®ue
, 
pÜt
è{

	)

36 
	#__OUT2
(
s
,
s1
,
s2
) \

37 
__asm__
 
	`__vŞ©e__
 ("out" # " %" 
s1
 "0,%" 
s2
 "1"

	)

39 
	#__OUT
(
s
,
s1
,
x
) \

40 
	`__OUT1
(
s
,
x
è
	`__OUT2
(s,
s1
,"w"è: : "a" (
v®ue
), "d" (
pÜt
)); } \

41 
	`__OUT1
(
s
##
c
,
x
è
	`__OUT2
(s,
s1
,""è: : "a" (
v®ue
), "id" (
pÜt
)); } \

42 
	`__OUT1
(
s
##
_p
,
x
è
	`__OUT2
(s,
s1
,"w"è: : "a" (
v®ue
), "d" (
pÜt
)); 
SLOW_DOWN_IO
; } \

43 
	`__OUT1
(
s
##
c_p
,
x
è
	`__OUT2
(s,
s1
,""è: : "a" (
v®ue
), "id" (
pÜt
)); 
SLOW_DOWN_IO
; }

	)

45 
	#__IN1
(
s
) \

46 
šlše
 
RETURN_TYPE
 
__š
##
	`s
(
pÜt
è{ RETURN_TYPE 
_v
;

	)

48 
	#__IN2
(
s
,
s1
,
s2
) \

49 
__asm__
 
	`__vŞ©e__
 ("š" # " %" 
s2
 "1,%" 
s1
 "0"

	)

51 
	#__IN
(
s
,
s1
,
i
...) \

52 
	`__IN1
(
s
è
	`__IN2
(s,
s1
,"w"è: "÷" (
_v
è: "d" (
pÜt
è,##
i
 );  _v; } \

53 
	`__IN1
(
s
##
c
è
	`__IN2
(s,
s1
,""è: "÷" (
_v
è: "id" (
pÜt
è,##
i
 );  _v; } \

54 
	`__IN1
(
s
##
_p
è
	`__IN2
(s,
s1
,"w"è: "÷" (
_v
è: "d" (
pÜt
è,##
i
 ); 
SLOW_DOWN_IO
;  _v; } \

55 
	`__IN1
(
s
##
c_p
è
	`__IN2
(s,
s1
,""è: "÷" (
_v
è: "id" (
pÜt
è,##
i
 ); 
SLOW_DOWN_IO
;  _v; }

	)

57 
	#__OUTS
(
s
) \

58 
šlše
 
outs
##
	`s
(
pÜt
, cÚ¡ * 
addr
, 
couÁ
) \

59 { 
__asm__
 
	`__vŞ©e__
 ("cld ;„ep ; outs" #s \

60 : "=S" (
addr
), "=c" (
couÁ
è: "d" (
pÜt
),"0" (addr),"1" (couÁ)); }

	)

62 
	#RETURN_TYPE
 

	)

64 
__IN
(
b
,"")

65 #undeà
RETURN_TYPE


66 
	#RETURN_TYPE
 

	)

68 
__IN
(
w
,"")

69 #undeà
RETURN_TYPE


70 
	#RETURN_TYPE
 

	)

71 
__IN
(
l
,"")

72 #undeà
RETURN_TYPE


74 
__OUT
(
b
,"b",)

75 
__OUT
(
w
,"w",)

76 
	$__OUT
(
l
,,)

78 
	$__OUTS
(
b
)

79 
	$__OUTS
(
w
)

80 
	$__OUTS
(
l
)

88 
	#outb
(
v®
,
pÜt
) \

89 ((
	`__butš_cÚ¡ªt_p
((
pÜt
)) && (port) < 256) ? \

90 
	`__outbc
((
v®
),(
pÜt
)) : \

91 
	`__outb
((
v®
),(
pÜt
)))

	)

93 
	#šb
(
pÜt
) \

94 ((
	`__butš_cÚ¡ªt_p
((
pÜt
)) && (port) < 256) ? \

95 
	`__šbc
(
pÜt
) : \

96 
	`__šb
(
pÜt
))

	)

99 
	#outw
(
v®
,
pÜt
) \

100 ((
	`__butš_cÚ¡ªt_p
((
pÜt
)) && (port) < 256) ? \

101 
	`__outwc
((
v®
),(
pÜt
)) : \

102 
	`__outw
((
v®
),(
pÜt
)))

	)

104 
	#šw
(
pÜt
) \

105 ((
	`__butš_cÚ¡ªt_p
((
pÜt
)) && (port) < 256) ? \

106 
	`__šwc
(
pÜt
) : \

107 
	`__šw
(
pÜt
))

	)

110 
	#ou
(
v®
,
pÜt
) \

111 ((
	`__butš_cÚ¡ªt_p
((
pÜt
)) && (port) < 256) ? \

112 
	`__ouc
((
v®
),(
pÜt
)) : \

113 
	`__ou
((
v®
),(
pÜt
)))

	)

115 
	#šl
(
pÜt
) \

116 ((
	`__butš_cÚ¡ªt_p
((
pÜt
)) && (port) < 256) ? \

117 
	`__šlc
(
pÜt
) : \

118 
	`__šl
(
pÜt
))

	)

	@jedec_id.h

6 
	s¥d_jedec_mªuçùu»r
 {

7 
	mcÚt_code
;

8 
	mhex_by‹
;

9 *
	mÇme
;

12 
¥d_jedec_mªuçùu»r
 
	gj•106
[] = {

	@lib.c

11 
	~"io.h
"

12 
	~"£rŸl.h
"

13 
	~"‹¡.h
"

14 
	~"cÚfig.h
"

15 
	~"sü“n_bufãr.h
"

16 
	~"smp.h
"

18 
	#NULL
 0

	)

20 
	g¦ock
 = 0, 
	gl¤
 = 0;

21 
	g£rŸl_cÚs
 = 
SERIAL_CONSOLE_DEFAULT
;

23 #ià
SERIAL_TTY
 != 0 && SERIAL_TTY != 1

24 #”rÜ 
Bad
 
SERIAL_TTY
. 
OÆy
 
‰yS0
 
ªd
 
‰yS1
 
¬e
 
suµÜ‹d
.

26 
	g£rŸl_‰y
 = 
SERIAL_TTY
;

27 cÚ¡ 
	g£rŸl_ba£_pÜts
[] = {0x3f8, 0x2f8, 0x3e8, 0x2e8};

29 #ià((115200%
SERIAL_BAUD_RATE
) != 0)

30 #”rÜ 
Bad
  
baud
 
¿‹


32 
	g£rŸl_baud_¿‹
 = 
SERIAL_BAUD_RATE
;

33 
	g£rŸl_·r™y
 = 0;

34 
	g£rŸl_b™s
 = 8;

36 
	gbuf
[18];

38 
	sascii_m­_¡r
 {

39 
	mascii
;

40 
	mkeycode
;

43 *
	gcodes
[] = {

66 
	s”egs
 {

67 
ulÚg
 
	mss
;

68 
ulÚg
 
	mds
;

69 
ulÚg
 
	me¥
;

70 
ulÚg
 
	mebp
;

71 
ulÚg
 
	mesi
;

72 
ulÚg
 
	medi
;

73 
ulÚg
 
	medx
;

74 
ulÚg
 
	mecx
;

75 
ulÚg
 
	mebx
;

76 
ulÚg
 
	m—x
;

77 
ulÚg
 
	mveù
;

78 
ulÚg
 
	mcode
;

79 
ulÚg
 
	me
;

80 
ulÚg
 
	mcs
;

81 
ulÚg
 
	meæag
;

84 
	$memcmp
(cÚ¡ *
s1
, cÚ¡ *
s2
, 
ulÚg
 
couÁ
)

86 cÚ¡ *
¤c1
 = 
s1
, *
¤c2
 = 
s2
;

87 
i
;

88 
i
 = 0; i < 
couÁ
; i++) {

89 ià(
¤c1
[
i
] !ğ
¤c2
[i]) {

90  ()
¤c1
[
i
] - ()
¤c2
[i];

94 
	}
}

96 
	$memıy
 (*
d¡
, *
¤c
, 
Ën
)

98 *
s
 = (*)
¤c
;

99 *
d
 = (*)
d¡
;

100 
i
;

102 ià(
Ën
 <= 0) {

105 
i
 = 0 ; i < 
Ën
; i++) {

106 *
d
++ = *
s
++;

108 
	}
}

109 
	$¡ºcmp
(cÚ¡ *
s1
, cÚ¡ *
s2
, 
ulÚg
 
n
) {

110 sigÃd 
»s
 = 0;

111 
n
) {

112 
»s
 = *
s1
 - *
s2
;

113 ià(
»s
 != 0)

114  
»s
;

115 ià(*
s1
 == '\0')

117 ++
s1
, ++
s2
;

118 --
n
;

120  
»s
;

121 
	}
}

123 *
	$memmove
(*
de¡
, cÚ¡ *
¤c
, 
ulÚg
 
n
)

125 
i
;

126 *
d
 = (*)
de¡
, *
s
 = (*)
¤c
;

129 ià(
de¡
 < 
¤c
) {

130 
i
 = 0; i < 
n
; i++) {

131 
d
[
i
] = 
s
[i];

134 ià(
de¡
 > 
¤c
) {

135 
i
 = 
n
 -1; i >= 0; i--) {

136 
d
[
i
] = 
s
[i];

139  
de¡
;

140 
	}
}

142 
	$touµ”
(
c
)

144 ià(
c
 >= 'a' && c <= 'z')

145  
c
 + 'A' -'a';

147  
c
;

148 
	}
}

150 
	$isdig™
(
c
)

152  
c
 >= '0' && c <= '9';

153 
	}
}

155 
	$isxdig™
(
c
)

157  
	`isdig™
(
c
è|| (
	`touµ”
(cè>ğ'A' &&ouµ”(cè<ğ'F'); 
	}
}

159 
	$sim¶e_¡¹oul
(cÚ¡ *
ı
, **
’dp
, 
ba£
) {

160 
»suÉ
 = 0, 
v®ue
;

162 ià(!
ba£
) {

163 
ba£
 = 10;

164 ià(*
ı
 == '0') {

165 
ba£
 = 8;

166 
ı
++;

167 ià(
	`touµ”
(*
ı
è=ğ'X' && 
	`isxdig™
(cp[1])) {

168 
ı
++;

169 
ba£
 = 16;

172 } ià(
ba£
 == 16) {

173 ià(
ı
[0] =ğ'0' && 
	`touµ”
(cp[1]) == 'X')

174 
ı
 += 2;

176 
	`isxdig™
(*
ı
) &&

177 (
v®ue
 = 
	`isdig™
(*
ı
è? *ı-'0' : 
	`touµ”
(*ı)-'A'+10è< 
ba£
) {

178 
»suÉ
 =„esuÉ*
ba£
 + 
v®ue
;

179 
ı
++;

181 ià(
’dp
)

182 *
’dp
 = (*)
ı
;

183  
»suÉ
;

184 
	}
}

191 
	$süŞl
()

193 
i
, 
j
;

194 *
s
, 
tmp
;

197 ià(
v
->
msg_lše
 < 23) {

198 
v
->
msg_lše
++;

201 
¦ock
) {

202 
	`check_šput
();

204 
i
=
LINE_SCROLL
; i<23; i++) {

205 
s
 = (*)(
SCREEN_ADR
 + ((
i
+1) * 160));

206 
j
=0; j<160; j+=2, 
s
+=2) {

207 *(
s
-160) = *s;

208 
tmp
 = 
	`g‘_sün_buf
(
i
+1, 
j
/2);

209 
	`£t_sün_buf
(
i
, 
j
/2, 
tmp
);

213 
s
 = (*)(
SCREEN_ADR
 + (23 * 160));

214 
j
=0; j<80; j++) {

215 *
s
 = ' ';

216 
	`£t_sün_buf
(23, 
j
, ' ');

217 
s
 += 2;

219 
	`‰y_´št_»giÚ
(
LINE_SCROLL
, 0, 23, 79);

221 
	}
}

226 
	$ş—r_süŞl
()

228 
i
;

229 *
s
;

231 
s
 = (*)(
SCREEN_ADR
+
LINE_HEADER
*160);

232 
i
=0; i<80*(24-
LINE_HEADER
); i++) {

233 *
s
++ = ' ';

234 *
s
++ = 0x17;

236 
	}
}

241 
	$ıršt
(
y
, 
x
, cÚ¡ *
‹xt
)

243 
i
;

244 *
d±r
;

246 
d±r
 = (*)(
SCREEN_ADR
 + (160*
y
è+ (2*
x
));

247 
i
=0; 
‹xt
[i]; i++) {

248 *
d±r
 = 
‹xt
[
i
];

249 
d±r
 += 2;

251 
	`‰y_´št_lše
(
y
, 
x
, 
‹xt
);

252 
	}
}

254 
	$™ß
(
s
[], 
n
)

256 
i
, 
sign
;

258 if((
sign
 = 
n
) < 0)

259 
n
 = -n;

260 
i
=0;

262 
s
[
i
++] = 
n
 % 10 + '0';

263 } (
n
 /= 10) > 0);

264 if(
sign
 < 0)

265 
s
[
i
++] = '-';

266 
s
[
i
] = '\0';

267 
	`»v”£
(
s
);

268 
	}
}

270 
	$»v”£
(
s
[])

272 
c
, 
i
, 
j
;

273 
j
 = 0; 
s
[j] != 0; j++)

276 
i
=0, 
j
 = j - 1; i < j; i++, j--) {

277 
c
 = 
s
[
i
];

278 
s
[
i
] = s[
j
];

279 
s
[
j
] = 
c
;

281 
	}
}

286 
	$­ršt
(
y
, 
x
, 
ulÚg
 
·ge
)

289 ià((
·ge
 << 2) < 9999) {

290 
	`d´št
(
y
, 
x
, 
·ge
 << 2, 4, 0);

291 
	`ıršt
(
y
, 
x
+4, "K");

293 ià((
·ge
 >>8) < 9999) {

294 
	`d´št
(
y
, 
x
, (
·ge
 + (1 << 7)) >> 8, 4, 0);

295 
	`ıršt
(
y
, 
x
+4, "M");

297 ià((
·ge
 >>18) < 9999) {

298 
	`d´št
(
y
, 
x
, (
·ge
 + (1 << 17)) >> 18, 4, 0);

299 
	`ıršt
(
y
, 
x
+4, "G");

302 
	`d´št
(
y
, 
x
, (
·ge
 + (1 << 27)) >> 28, 4, 0);

303 
	`ıršt
(
y
, 
x
+4, "T");

305 
	}
}

310 
	$d´št
(
y
, 
x
, 
ulÚg
 
v®
, 
Ën
, 
right
)

312 
ulÚg
 
j
, 
k
;

313 
i
, 
æag
=0;

315 ià(
v®
 > 999999999 || 
Ën
 > 9) {

318 
i
=0, 
j
=1; i<
Ën
-1; i++) {

319 
j
 *= 10;

321 ià(!
right
) {

322 
i
=0; 
j
>0; j/=10) {

323 
k
 = 
v®
/
j
;

324 ià(
k
 > 9) {

325 
j
 *= 100;

328 ià(
æag
 || 
k
 || 
j
 == 1) {

329 
buf
[
i
++] = 
k
 + '0';

330 
æag
++;

332 
buf
[
i
++] = ' ';

334 
v®
 -ğ
k
 * 
j
;

337 
i
=0; i<
Ën
; 
j
/=10) {

338 ià(
j
) {

339 
k
 = 
v®
/
j
;

340 ià(
k
 > 9) {

341 
j
 *= 100;

342 
Ën
++;

345 ià(
k
 =ğ0 && 
æag
 == 0) {

348 
buf
[
i
++] = 
k
 + '0';

349 
v®
 -ğ
k
 * 
j
;

351 ià(
æag
 =ğ0 && 
i
 < 
Ën
-1) {

352 
buf
[
i
++] = '0';

354 
buf
[
i
++] = ' ';

357 
æag
++;

360 
buf
[
i
] = 0;

361 
	`ıršt
(
y
,
x
,
buf
);

362 
	}
}

368 
	$g‘num
(
ulÚg
 
v®
)

370 
Ën
 = 0;

371 
i
 = 1;

373 
i
 <ğ
v®
)

375 
Ën
++;

376 
i
 *= 10;

379  
Ën
;

381 
	}
}

386 
	$h´št2
(
y
,
x
, 
v®
, 
dig™s
)

388 
j
;

389 
i
, 
idx
, 
æag
 = 0;

391 
i
=0, 
idx
=0; i<8; i++) {

392 
j
 = 
v®
 >> (28 - (4 * 
i
));

393 
j
 &= 0xf;

394 ià(
j
 < 10) {

395 ià(
æag
 || 
j
 || 
i
 == 7) {

396 
buf
[
idx
++] = 
j
 + '0';

397 
æag
++;

399 
buf
[
idx
++] = '0';

402 
buf
[
idx
++] = 
j
 + 'a' - 10;

403 
æag
++;

406 ià(
dig™s
 > 8) {

407 
dig™s
 = 8;

409 ià(
æag
 > 
dig™s
) {

410 
dig™s
 = 
æag
;

412 
buf
[
idx
] = 0;

413 
	`ıršt
(
y
,
x
,
buf
 + (
idx
 - 
dig™s
));

414 
	}
}

419 
	$h´št3
(
y
,
x
, 
v®
, 
dig™s
)

421 
j
;

422 
i
, 
idx
, 
æag
 = 0;

425 
i
=0, 
idx
=0; i<
dig™s
; i++) {

426 
j
 = 0xà& 
v®
;

427 
v®
 /= 16;

429 ià(
j
 < 10) {

430 ià(
æag
 || 
j
 || 
i
 == 7) {

431 
buf
[
dig™s
 - ++
idx
] = 
j
 + '0';

432 
æag
++;

434 
buf
[
dig™s
 - ++
idx
] = '0';

437 
buf
[
dig™s
 - ++
idx
] = 
j
 + 'a' - 10;

438 
æag
++;

441 
buf
[
idx
] = 0;

442 
	`ıršt
(
y
,
x
,
buf
);

443 
	}
}

448 
	$h´št
(
y
, 
x
, 
v®
)

450  
	`h´št2
(
y
, 
x
, 
v®
, 8);

451 
	}
}

456 
	$x´št
(
y
,
x
, 
ulÚg
 
v®
)

458 
ulÚg
 
j
;

460 
j
 = (
v®
 & 0xffc00000) >> 20;

461 
	`d´št
(
y
, 
x
, 
j
, 4, 0);

462 
	`ıršt
(
y
, 
x
+4, "m");

463 
j
 = (
v®
 & 0xffc00) >> 10;

464 
	`d´št
(
y
, 
x
+5, 
j
, 4, 0);

465 
	`ıršt
(
y
, 
x
+9, "k");

466 
j
 = 
v®
 & 0x3ff;

467 
	`d´št
(
y
, 
x
+10, 
j
, 4, 0);

468 
	}
}

471 
	$š‹r
(
”egs
 *
Œ­_»gs
)

473 
i
, 
lše
;

474 *
µ
;

475 
ulÚg
 
add»ss
 = 0;

478 ià(
Œ­_»gs
->
veù
 == 14) {

479 
	`__asm__
("movÈ%%ü2,%0":"ô" (
add»ss
));

481 #ifdeà
PARITY_MEM


484 ià(
Œ­_»gs
->
veù
 == 2) {

485 
	`·r™y_”r
(
Œ­_»gs
->
edi
,¿p_»gs->
esi
);

491 
µ
=(*)(
SCREEN_ADR
+(2*80*(
LINE_SCROLL
-2)));

492 
i
=0; i<2*80*(24-
LINE_SCROLL
-2); i++, 
µ
+=2) {

493 *
µ
 = ' ';

495 
lše
 = 
LINE_SCROLL
-2;

497 
	`ıršt
(
lše
, 0, "Unexpected Interrupt - Halting");

498 
	`ıršt
(
lše
+2, 0, " Type: ");

499 ià(
Œ­_»gs
->
veù
 <= 19) {

500 
	`ıršt
(
lše
+2, 7, 
codes
[
Œ­_»gs
->
veù
]);

502 
	`h´št
(
lše
+2, 7, 
Œ­_»gs
->
veù
);

504 
	`ıršt
(
lše
+3, 0, " PC: ");

505 
	`h´št
(
lše
+3, 7, 
Œ­_»gs
->
e
);

506 
	`ıršt
(
lše
+4, 0, " CS: ");

507 
	`h´št
(
lše
+4, 7, 
Œ­_»gs
->
cs
);

508 
	`ıršt
(
lše
+5, 0, "Eflag: ");

509 
	`h´št
(
lše
+5, 7, 
Œ­_»gs
->
eæag
);

510 
	`ıršt
(
lše
+6, 0, " Code: ");

511 
	`h´št
(
lše
+6, 7, 
Œ­_»gs
->
code
);

512 ià(
Œ­_»gs
->
veù
 == 14) {

514 
	`ıršt
(
lše
+7, 0, " Addr: ");

515 
	`h´št
(
lše
+7, 7, 
add»ss
);

518 
	`ıršt
(
lše
+2, 20, "eax: ");

519 
	`h´št
(
lše
+2, 25, 
Œ­_»gs
->
—x
);

520 
	`ıršt
(
lše
+3, 20, "ebx: ");

521 
	`h´št
(
lše
+3, 25, 
Œ­_»gs
->
ebx
);

522 
	`ıršt
(
lše
+4, 20, "ecx: ");

523 
	`h´št
(
lše
+4, 25, 
Œ­_»gs
->
ecx
);

524 
	`ıršt
(
lše
+5, 20, "edx: ");

525 
	`h´št
(
lše
+5, 25, 
Œ­_»gs
->
edx
);

526 
	`ıršt
(
lše
+6, 20, "edi: ");

527 
	`h´št
(
lše
+6, 25, 
Œ­_»gs
->
edi
);

528 
	`ıršt
(
lše
+7, 20, "esi: ");

529 
	`h´št
(
lše
+7, 25, 
Œ­_»gs
->
esi
);

530 
	`ıršt
(
lše
+8, 20, "ebp: ");

531 
	`h´št
(
lše
+8, 25, 
Œ­_»gs
->
ebp
);

532 
	`ıršt
(
lše
+9, 20, "esp: ");

533 
	`h´št
(
lše
+9, 25, 
Œ­_»gs
->
e¥
);

534 
	`ıršt
(
lše
+7, 0, " DS: ");

535 
	`h´št
(
lše
+7, 7, 
Œ­_»gs
->
ds
);

536 
	`ıršt
(
lše
+8, 0, " SS: ");

537 
	`h´št
(
lše
+8, 7, 
Œ­_»gs
->
ss
);

538 
	`ıršt
(
lše
+1, 38, "Stack:");

539 
i
=0; i<12; i++) {

540 
	`h´št
(
lše
+2+
i
, 38, 
Œ­_»gs
->
e¥
+(4*i));

541 
	`h´št
(
lše
+2+
i
, 47, *(
ulÚg
*)(
Œ­_»gs
->
e¥
+(4*i)));

542 
	`h´št
(
lše
+2+
i
, 57, 
Œ­_»gs
->
e¥
+(4*(i+12)));

543 
	`h´št
(
lše
+2+
i
, 66, *(
ulÚg
*)(
Œ­_»gs
->
e¥
+(4*(i+12))));

546 
	`ıršt
(
lše
+11, 0, "CS:EIP: ");

547 
µ
 = (*)
Œ­_»gs
->
e
;

548 
i
 = 0; i < 10; i++) {

549 
	`h´št2
(
lše
+11, 8+(3*
i
), 
µ
[i], 2);

553 
	`check_šput
();

555 
	}
}

557 
	$£t_ÿche
(
v®
)

559 
ıu_id’t
 
ıu_id
;

561 ià((
ıu_id
.
ıuid
 < 1è&& (ıu_id.
ty³
 == 3)) {

562 
	`ıršt
(
LINE_INFO
, 
COL_CACHE
, "none");

565 
v®
) {

567 
	`ÿche_off
();

568 
	`ıršt
(
LINE_INFO
, 
COL_CACHE
, "off");

571 
	`ÿche_Ú
();

572 
	`ıršt
(
LINE_INFO
, 
COL_CACHE
, " on");

575 
	}
}

577 
	$g‘_key
() {

578 
c
;

580 
c
 = 
	`šb
(0x64);

581 ià((
c
 & 1) == 0) {

582 ià(
£rŸl_cÚs
) {

583 
com¡©
;

584 
com¡©
 = 
	`£rŸl_echo_šb
(
UART_LSR
);

585 ià(
com¡©
 & 
UART_LSR_DR
) {

586 
c
 = 
	`£rŸl_echo_šb
(
UART_RX
);

591  (
	`ascii_to_keycode
(
c
));

596 
c
 = 
	`šb
(0x60);

597 ((
c
));

598 
	}
}

600 
	$check_šput
()

602 
c
;

604 ià((
c
 = 
	`g‘_key
())) {

605 
c
 & 0x7f) {

608 
	`ıršt
(
LINE_RANGE
, 
COL_MID
+23, "Halting... ");

612 
	`outb
(0xfe,0x64);

616 
	`g‘_cÚfig
();

620 
¦ock
 = 0;

621 
	`foÙ”
();

625 
¦ock
 = 1;

626 
	`foÙ”
();

630 
	`‰y_´št_sü“n
();

634 
	}
}

636 
	$foÙ”
()

638 
	`ıršt
(24, 0, "(ESC)Reboot (c)configuration (SP)scroll_lock (CR)scroll_unlock");

639 ià(
¦ock
) {

640 
	`ıršt
(24, 74, "LOCKED");

642 
	`ıršt
(24, 74, " ");

644 
	}
}

646 
ulÚg
 
	$g‘v®
(
x
, 
y
, 
»suÉ_shiá
)

648 
v®
;

649 
dÚe
;

650 
c
;

651 
i
, 
n
;

652 
ba£
;

653 
shiá
;

654 
buf
[16];

656 
i
 = 0; i < (
buf
)/(buf[0]); i++ ) {

657 
buf
[
i
] = ' ';

659 
buf
[(buf)/(buf[0]) -1] = '\0';

661 
	`wa™_keyup
();

662 
dÚe
 = 0;

663 
n
 = 0;

664 
ba£
 = 10;

665 !
dÚe
) {

667 
c
 = 
	`g‘_key
();

668 
c
) {

670 
	`‰y_´št_sü“n
();

674 if(
n
è
dÚe
 = 1;

676 0x19: 
buf
[
n
] = 'p'; ;

677 0x22: 
buf
[
n
] = 'g'; ;

678 0x32: 
buf
[
n
] = 'm'; ;

679 0x25: 
buf
[
n
] = 'k'; ;

682 ià(
n
 =ğ1 && (
buf
[0] == '0')) {

683 
buf
[
n
] = 'x';

687 ià(
n
 > 0) {

688 
n
 -= 1;

689 
buf
[
n
] = ' ';

693 0x0B: ià(
ba£
 >ğ1è
buf
[
n
] = '0'; ;

694 0x02: ià(
ba£
 >ğ2è
buf
[
n
] = '1'; ;

695 0x03: ià(
ba£
 >ğ3è
buf
[
n
] = '2'; ;

696 0x04: ià(
ba£
 >ğ4è
buf
[
n
] = '3'; ;

697 0x05: ià(
ba£
 >ğ5è
buf
[
n
] = '4'; ;

698 0x06: ià(
ba£
 >ğ6è
buf
[
n
] = '5'; ;

699 0x07: ià(
ba£
 >ğ7è
buf
[
n
] = '6'; ;

700 0x08: ià(
ba£
 >ğ8è
buf
[
n
] = '7'; ;

701 0x09: ià(
ba£
 >ğ9è
buf
[
n
] = '8'; ;

702 0x0A: ià(
ba£
 >ğ10è
buf
[
n
] = '9'; ;

703 0x1e: ià(
ba£
 >ğ11è
buf
[
n
] = 'a'; ;

704 0x30: ià(
ba£
 >ğ12è
buf
[
n
] = 'b'; ;

705 0x2e: ià(
ba£
 >ğ13è
buf
[
n
] = 'c'; ;

706 0x20: ià(
ba£
 >ğ14è
buf
[
n
] = 'd'; ;

707 0x12: ià(
ba£
 >ğ15è
buf
[
n
] = 'e'; ;

708 0x21: ià(
ba£
 >ğ16è
buf
[
n
] = 'f'; ;

713 ià(
n
 > 0 && (

714 (
buf
[
n
-1] == 'p') || (buf[n-1] == 'g') ||

715 (
buf
[
n
-1] == 'm') || (buf[n-1] == 'k'))) {

716 
buf
[
n
] = ' ';

719 ià(
buf
[
n
] != ' ') {

720 
n
++;

722 
buf
[
n
] = ' ';

724 
	`ıršt
(
x
, 
y
, 
buf
);

727 
ba£
 = 10;

728 ià((
buf
[0] == '0') && (buf[1] == 'x')) {

729 
ba£
 = 16;

731 ià(
buf
[0] == '0') {

732 
ba£
 = 8;

736 
shiá
 = 0;

737 
buf
[
n
-1]) {

738 'g': 
shiá
 = 30; ;

739 'm': 
shiá
 = 20; ;

740 'p': 
shiá
 = 12; ;

741 'k': 
shiá
 = 10; ;

743 
shiá
 -ğ
»suÉ_shiá
;

746 
v®
 = 
	`sim¶e_¡¹oul
(
buf
, 
NULL
, 
ba£
);

747 ià(
shiá
 > 0) {

748 ià(
shiá
 >= 32) {

749 
v®
 = 0xffffffff;

751 
v®
 <<ğ
shiá
;

754 ià(-
shiá
 >= 32) {

755 
v®
 = 0;

758 
v®
 >>ğ-
shiá
;

761  
v®
;

762 
	}
}

764 
	$‰y´št
(
y
, 
x
, cÚ¡ *
p
)

766 
sx
[3];

767 
sy
[3];

769 
sx
[0]='\0';

770 
sy
[0]='\0';

771 
x
++; 
y
++;

772 
	`™ß
(
sx
, 
x
);

773 
	`™ß
(
sy
, 
y
);

774 
	`£rŸl_echo_´št
("[");

775 
	`£rŸl_echo_´št
(
sy
);

776 
	`£rŸl_echo_´št
(";");

777 
	`£rŸl_echo_´št
(
sx
);

778 
	`£rŸl_echo_´št
("H");

779 
	`£rŸl_echo_´št
(
p
);

780 
	}
}

783 
	$£rŸl_echo_š™
()

785 
com¡©
, 
hi
, 
lo
, 
£rŸl_div
;

786 
lü
;

789 
com¡©
 = 
	`£rŸl_echo_šb
(
UART_LCR
);

790 
	`£rŸl_echo_outb
(
com¡©
 | 
UART_LCR_DLAB
, 
UART_LCR
);

791 
hi
 = 
	`£rŸl_echo_šb
(
UART_DLM
);

792 
lo
 = 
	`£rŸl_echo_šb
(
UART_DLL
);

793 
	`£rŸl_echo_outb
(
com¡©
, 
UART_LCR
);

796 
lü
 = 
£rŸl_·r™y
 | (
£rŸl_b™s
 - 5);

797 
	`£rŸl_echo_outb
(
lü
, 
UART_LCR
);

798 
£rŸl_div
 = 115200 / 
£rŸl_baud_¿‹
;

799 
	`£rŸl_echo_outb
(0x80|
lü
, 
UART_LCR
);

800 
	`£rŸl_echo_outb
(
£rŸl_div
 & 0xff, 
UART_DLL
);

801 
	`£rŸl_echo_outb
((
£rŸl_div
 >> 8è& 0xff, 
UART_DLM
);

802 
	`£rŸl_echo_outb
(
lü
, 
UART_LCR
);

807 
com¡©
 = 
	`£rŸl_echo_šb
(
UART_LSR
);

808 
com¡©
 = 
	`£rŸl_echo_šb
(
UART_RX
);

809 
	`£rŸl_echo_outb
(0x00, 
UART_IER
);

811 
	`ş—r_sü“n_buf
();

814 
	}
}

816 
	$£rŸl_echo_´št
(cÚ¡ *
p
)

818 ià(!
£rŸl_cÚs
) {

822 *
p
) {

823 
WAIT_FOR_XMITR
;

826 
	`£rŸl_echo_outb
(*
p
, 
UART_TX
);

827 if(*
p
==10) {

828 
WAIT_FOR_XMITR
;

829 
	`£rŸl_echo_outb
(13, 
UART_TX
);

831 
p
++;

833 
	}
}

842 
ascii_m­_¡r
 
	g£r_m­
[] =

995 
	$ascii_to_keycode
 (
š
)

997 
ascii_m­_¡r
 *
p
;

998 
p
 = 
£r_m­
;…->
ascii
;…++) {

999 ià(
š
 ==
p
->
ascii
)

1000  
p
->
keycode
;

1003 
	}
}

1010 
	$wa™_keyup
( ) {

1013 ià((
	`g‘_key
() & 0x80) != 0) {

1023 ià(
£rŸl_cÚs
) {

1027 
	}
}

1039 
	$£rŸl_cÚsŞe_£tup
(*
·¿m
)

1041 *
İtiÚ
, *
’d
;

1042 
‰y
;

1043 
baud_¿‹
;

1044 
·r™y
, 
b™s
;

1046 ià(
	`¡ºcmp
(
·¿m
, "ttyS", 4))

1049 
·¿m
 += 4;

1051 
‰y
 = 
	`sim¶e_¡¹oul
(
·¿m
, &
İtiÚ
, 10);

1053 ià(
İtiÚ
 =ğ
·¿m
)

1056 ià(
‰y
 > 3)

1059 ià(*
İtiÚ
 == '\0' || *option == ' ')

1060 
§ve_‰y
;

1062 ià(*
İtiÚ
 != ',')

1066 
İtiÚ
++;

1067 
baud_¿‹
 = 
	`sim¶e_¡¹oul
(
İtiÚ
, &
’d
, 10);

1069 ià(
’d
 =ğ
İtiÚ
)

1072 ià(
baud_¿‹
 == 0 || (115200 % baud_rate) != 0)

1075 ià(*
’d
 == '\0' || *end == ' ')

1076 
§ve_baud_¿‹
;

1078 
	`touµ”
(*
’d
)) {

1080 
·r™y
 = 0;

1083 
·r™y
 = 
UART_LCR_PARITY
;

1086 
·r™y
 = 
UART_LCR_PARITY
 | 
UART_LCR_EPAR
;

1093 
’d
++;

1094 ià(*
’d
 == '\0' || *end == ' ')

1095 
§ve_·r™y
;

1098 ià(*
’d
 < '7' || *end > '8')

1101 
b™s
 = *
’d
 - '0';

1103 
’d
++;

1105 ià(*
’d
 != '\0' && *end != ' ')

1108 
£rŸl_b™s
 = 
b™s
;

1109 
§ve_·r™y
:

1110 
£rŸl_·r™y
 = 
·r™y
;

1111 
§ve_baud_¿‹
:

1112 
£rŸl_baud_¿‹
 = (è
baud_¿‹
;

1113 
§ve_‰y
:

1114 
£rŸl_‰y
 = (è
‰y
;

1115 
£rŸl_cÚs
 = 1;

1116 
	}
}

1119 #ifdeà
LP


1120 
	#DATA
 0x00

	)

1121 
	#STATUS
 0x01

	)

1122 
	#CONTROL
 0x02

	)

1124 
	#LP_PBUSY
 0x80

	)

1125 
	#LP_PERRORP
 0x08

	)

1127 
	#LP_PSELECP
 0x08

	)

1128 
	#LP_PINITP
 0x04

	)

1129 
	#LP_PSTROBE
 0x01

	)

1131 
	#DELAY
 0x10c6ul

	)

1133 
	$Í_wa™
(
ulÚg
 
xloİs
)

1135 
d0
;

1136 
	`__asm__
("mull %0"

1137 :"=d" (
xloİs
), "=&a" (
d0
)

1138 :"1" (
xloİs
),"0" (
cu¼’t_ıu_d©a
.
loİs_³r_£c
));

1139 
	`__d–ay
(
xloİs
);

1140 
	}
}

1141 
	$__d–ay
(
ulÚg
 
loİs
)

1143 
d0
;

1144 
__asm__
 
	`__vŞ©e__
(

1150 :"=&a" (
d0
)

1151 :"0" (
loİs
));

1152 
	}
}

1154 
	$put_Í
(
c
, 
pÜt
)

1156 
¡©us
;

1160 
¡©us
 = 
	`šb
(
	`STATUS
(
pÜt
));

1161 ià(
¡©us
 & 
LP_PERRORP
) {

1162 ià(
¡©us
 & 
LP_PBUSY
) {

1168 
	`outb
(
d
, 
	`DATA
(
c
));

1169 
	`Í_wa™
(
DELAY
);

1170 
	`outb
((
LP_PSELECP
 | 
LP_PINITP
 | 
LP_PSTROBE
), 
	`CONTROL
(
pÜt
));

1171 
	`Í_wa™
(
DELAY
);

1172 
	`outb
((
LP_PSELECP
 | 
LP_PINITP
), 
	`CONTROL
(
pÜt
));

1173 
	`Í_wa™
(
DELAY
);

1174 
	}
}

	@linuxbios.c

1 
	~"lšuxbios_bËs.h
"

2 
	~"‹¡.h
"

4 
	$_compu‹_csum
(*
addr
, 
Ëngth
)

6 
ušt16_t
 *
±r
;

7 
sum
;

8 
Ën
;

9 
Ïddr
;

11 
Ïddr
 = ()
addr
;

12 
sum
 = 0;

13 ià(
Ïddr
 & 1) {

14 
ušt16_t
 
bufãr
;

15 *
±r
;

20 
bufãr
 = 0;

21 
±r
 = 
addr
;

22 
	`memmove
(&
bufãr
, 
±r
, 1);

23 
sum
 +ğ
bufãr
;

24 ià(
sum
 > 0xFFFF)

25 
sum
 -= 0xFFFF;

26 
Ëngth
 -= 1;

27 
addr
 = 
±r
 +1;

30 
Ën
 = 
Ëngth
 >> 1;

31 
±r
 = 
addr
;

32 
Ën
--) {

33 
sum
 +ğ*(
±r
++);

34 ià(
sum
 > 0xFFFF)

35 
sum
 -= 0xFFFF;

37 
addr
 = 
±r
;

38 ià(
Ëngth
 & 1) {

39 
ušt16_t
 
bufãr
;

40 *
±r
;

45 
bufãr
 = 0;

46 
±r
 = 
addr
;

47 
	`memmove
(&
bufãr
, 
±r
, 1);

48 
sum
 +ğ
bufãr
;

49 ià(
sum
 > 0xFFFF)

50 
sum
 -= 0xFFFF;

52  (~
sum
) & 0xFFFF;

54 
	}
}

56 
	#fÜ_—ch_lb»c
(
h—d
, 
»c
) \

57 
»c
 = (
lb_»cÜd
 *)(((*)
h—d
) + (*head)); \

58 (((*)
»c
è< (((*)
h—d
è+ (*h—dè+ h—d->
bË_by‹s
)) && \

59 (
»c
->
size
 >= 1) && \

60 ((((*)
»c
è+„ec->
size
è<ğ(((*)
h—d
è+ (*h—dè+ h—d->
bË_by‹s
)); \

61 
»c
 = (
lb_»cÜd
 *)(((*ìecè+„ec->
size
))

	)

64 
	$couÁ_lb_»cÜds
(
lb_h—d”
 *
h—d
)

66 
lb_»cÜd
 *
»c
;

67 
couÁ
;

68 
couÁ
 = 0;

69 
	`fÜ_—ch_lb»c
(
h—d
, 
»c
) {

70 
couÁ
++;

72  
couÁ
;

73 
	}
}

75 
lb_h—d”
 * 
	$__fšd_lb_bË
(
¡¬t
, 
’d
)

77 
addr
;

79 
addr
 = 
¡¬t
;‡dd¸< 
’d
;‡ddr += 16) {

80 
lb_h—d”
 *
h—d
 = (lb_h—d” *)
addr
;

81 
lb_»cÜd
 *
»cs
 = (lb_»cÜd *)(
addr
 + (*
h—d
));

82 ià(
	`memcmp
(
h—d
->
sigÇtu»
, "LBIO", 4) != 0)

84 ià(
h—d
->
h—d”_by‹s
 != (*head))

86 ià(
	`_compu‹_csum
((*)
h—d
, (*head)) != 0)

88 ià(
	`_compu‹_csum
((*)
»cs
, 
h—d
->
bË_by‹s
)

89 !ğ
h—d
->
bË_checksum
)

91 ià(
	`couÁ_lb_»cÜds
(
h—d
è!ğh—d->
bË_’Œ›s
)

93  
h—d
;

96 
	}
}

98 
lb_h—d”
 * 
	$fšd_lb_bË
()

100 
lb_h—d”
 *
h—d
;

101 
h—d
 = 0;

102 ià(!
h—d
) {

104 
h—d
 = 
	`__fšd_lb_bË
(0x00000, 0x1000);

106 ià(!
h—d
) {

108 
h—d
 = 
	`__fšd_lb_bË
(0xf0000, 0x100000);

110  
h—d
;

111 
	}
}

113 
	$qu”y_lšuxbios
()

115 
lb_h—d”
 *
h—d
;

116 
lb_»cÜd
 *
»c
;

117 
lb_memÜy
 *
mem
;

118 
lb_fÜw¬d
 *
fÜw¬d
;

119 
i
, 
’Œ›s
;

121 
h—d
 = 
	`fšd_lb_bË
();

122 ià(!
h—d
) {

127 
»c
 = (
lb_»cÜd
 *)(((*)
h—d
) + (*head));

128 ià(
»c
->
g
 =ğ
LB_TAG_FORWARD
) {

129 
fÜw¬d
 = (
lb_fÜw¬d
 *)
»c
;

130 
h—d
 = (
lb_h—d”
 *)()(
fÜw¬d
->forward);

131 ià(!
h—d
) {  0; }

134 
mem
 = 0;

135 
	`fÜ_—ch_lb»c
(
h—d
, 
»c
) {

136 ià(
»c
->
g
 =ğ
LB_TAG_MEMORY
) {

137 
mem
 = (
lb_memÜy
 *)
»c
;

141 ià(!
mem
) {

144 
’Œ›s
 = (
mem
->
size
 - (*mem))/(mem->
m­
[0]);

145 ià(
’Œ›s
 == 0)

147 
mem_šfo
.
e820_Ä
 = 0;

148 
i
 = 0; i < 
’Œ›s
; i++) {

149 
¡¬t
;

150 
size
;

151 
ty³
;

152 ià(
i
 >ğ
E820MAX
) {

155 
¡¬t
 = 
mem
->
m­
[
i
].start;

156 
size
 = 
mem
->
m­
[
i
].size;

157 
ty³
 = (
mem
->
m­
[
i
].ty³ =ğ
LB_MEM_RAM
)?
E820_RAM
: 
E820_RESERVED
;

158 
mem_šfo
.
e820
[mem_šfo.
e820_Ä
].
addr
 = 
¡¬t
;

159 
mem_šfo
.
e820
[mem_šfo.
e820_Ä
].
size
 = size;

160 
mem_šfo
.
e820
[mem_šfo.
e820_Ä
].
ty³
 =ype;

161 
mem_šfo
.
e820_Ä
++;

164 
	}
}

	@linuxbios_tables.h

1 #iâdeà
LINUXBIOS_TABLES_H


2 
	#LINUXBIOS_TABLES_H


	)

4 
	~"¡dšt.h
"

35 
	slb_h—d”


37 
ušt8_t
 
	msigÇtu»
[4];

38 
ušt32_t
 
	mh—d”_by‹s
;

39 
ušt32_t
 
	mh—d”_checksum
;

40 
ušt32_t
 
	mbË_by‹s
;

41 
ušt32_t
 
	mbË_checksum
;

42 
ušt32_t
 
	mbË_’Œ›s
;

51 
	slb_»cÜd
 {

52 
ušt32_t
 
	mg
;

53 
ušt32_t
 
	msize
;

56 
	#LB_TAG_UNUSED
 0x0000

	)

58 
	#LB_TAG_MEMORY
 0x0001

	)

59 
	#LB_TAG_FORWARD
 0x0011

	)

61 
	slb_memÜy_¿nge
 {

62 
ušt64_t
 
	m¡¬t
;

63 
ušt64_t
 
	msize
;

64 
ušt32_t
 
	mty³
;

65 
	#LB_MEM_RAM
 1

	)

66 
	#LB_MEM_RESERVED
 2

	)

70 
	slb_memÜy
 {

71 
ušt32_t
 
	mg
;

72 
ušt32_t
 
	msize
;

73 
lb_memÜy_¿nge
 
	mm­
[0];

76 
	#LB_TAG_HWRPB
 0x0002

	)

77 
	slb_hw½b
 {

78 
ušt32_t
 
	mg
;

79 
ušt32_t
 
	msize
;

80 
ušt64_t
 
	mhw½b
;

83 
	slb_fÜw¬d
 {

84 
ušt32_t
 
	mg
;

85 
ušt32_t
 
	msize
;

86 
ušt64_t
 
	mfÜw¬d
;

	@main.c

11 
	~"‹¡.h
"

12 
	~"defs.h
"

13 
	~"cÚfig.h
"

14 #undeà
TEST_TIMES


15 
	#DEFTESTS
 9

	)

17 
bz”o
();

19 cÚ¡ 
t£q
 
	gt£q
[] = {

30 {0, 0, 0, 0, 
NULL
}

33 
	gfœ¡time
 = 0;

34 
	gcmdlše_·r£d
 = 0;

36 
v¬s
 
	gv¬ŸbËs
 = {};

37 
v¬s
 * cÚ¡ 
	gv
 = &
v¬ŸbËs
;

39 vŞ©
ulÚg
 *
	gp
 = 0;

40 
ulÚg
 
	gp1
 = 0, 
	gp2
 = 0, 
	gp0
 = 0;

41 
	g£gs
 = 0, 
	gba
 = 0;

42 
	g‹¡_ticks
;

43 
	gÁicks
;

44 
ulÚg
 
	ghigh_‹¡_adr
 = 0x200000;

46 
	gwšdow
 = 0;

47 
	gc_™”
;

48 
pm­
 
	gwšdows
[] =

101 #ià(
LOW_TEST_ADR
 > (640*1024))

102 #”rÜ 
LOW_TEST_ADR
 
mu¡
 
be
 
b–ow
 640
K


105 
fšd_ticks_fÜ_‹¡
(
ch
, 
‹¡
);

106 
compu‹_£gm’ts
(
wš
);

107 
fšd_ticks_fÜ_·ss
();

109 
	$__run_©
(
addr
)

112 
	`memmove
((*)
addr
, &
_¡¬t
, 
_’d
 - _start);

114 
p
 = (
ulÚg
 *)(
addr
 + 
¡¬tup_32
 - 
_¡¬t
);

115 *
p
;

116 
	}
}

118 
	grun_©_addr
 = 0xffffffff;

119 
	$run_©
(
addr
)

121 
¡¬t
;

122 
Ën
;

124 
run_©_addr
 = 
addr
;

126 
¡¬t
 = (è&
_¡¬t
;

127 
Ën
 = 
_’d
 - 
_¡¬t
;

128 iàĞ((
¡¬t
 < 
addr
è&& ((¡¬ˆ+ 
Ën
) >=‡ddr)) ||

129 ((
addr
 < 
¡¬t
è&& (×dd¸+ 
Ën
) >= start))) {

131 ià(
addr
 + 
Ën
 < 
high_‹¡_adr
) {

132 
	`__run_©
(
high_‹¡_adr
);

134 ià(
¡¬t
 + 
Ën
 < 
addr
) {

135 
	`__run_©
(
LOW_TEST_ADR
);

138 
	`__run_©
(
run_©_addr
);

139 
	}
}

142 
	#MK_PTR
(
£g
,
off
è((*)((()(£gè<< 4è+ (off)))

	)

143 
	#OLD_CL_MAGIC_ADDR
 ((*è
	`MK_PTR
(
INITSEG
,0x20))

	)

144 
	#OLD_CL_MAGIC
 0xA33F

	)

145 
	#OLD_CL_OFFSET_ADDR
 ((*è
	`MK_PTR
(
INITSEG
,0x22))

	)

147 
	$·r£_commªd_lše
()

149 *
cmdlše
;

151 ià(
cmdlše_·r£d
)

154 ià(*
OLD_CL_MAGIC_ADDR
 !ğ
OLD_CL_MAGIC
)

157 
off£t
 = *
OLD_CL_OFFSET_ADDR
;

158 
cmdlše
 = 
	`MK_PTR
(
INITSEG
, 
off£t
);

161 *
cmdlše
 == ' ')

162 
cmdlše
++;

164 *
cmdlše
) {

165 ià(!
	`¡ºcmp
(
cmdlše
, "console=", 8)) {

166 
cmdlše
 += 8;

167 
	`£rŸl_cÚsŞe_£tup
(
cmdlše
);

171 *
cmdlše
 && *cmdline != ' ')

172 
cmdlše
++;

173 *
cmdlše
 == ' ')

174 
cmdlše
++;

177 
cmdlše_·r£d
 = 1;

178 
	}
}

181 
	$do_‹¡
()

183 
i
 = 0, 
j
 = 0;

184 
chunks
;

185 
lo
, 
hi
;

187 
	`·r£_commªd_lše
();

190 ià(
run_©_addr
 =ğ()&
_¡¬t
) {

191 
run_©_addr
 = 0xffffffff;

192 } ià(
run_©_addr
 != 0xffffffff) {

193 
	`__run_©
(
run_©_addr
);

197 ià(
fœ¡time
 == 0) {

198 ià((
ulÚg
)&
_¡¬t
 !ğ
LOW_TEST_ADR
) {

199 
	`»¡¬t
();

202 
	`š™
();

204 
	`fšd_ticks_fÜ_·ss
();

206 
wšdows
[0].
¡¬t
 =

207 Ğ
LOW_TEST_ADR
 + (
_’d
 - 
_¡¬t
) + 4095) >> 12;

210 ià(
v
->
pm­
[v->
m£gs
-1].
’d
 > 0x1100) {

211 
high_‹¡_adr
 = 0x01000000;

213 
wšdows
[1].
’d
 = (
high_‹¡_adr
 >> 12);

214 
fœ¡time
 = 1;

216 
ba
 = 0;

219 
	`compu‹_£gm’ts
(
wšdow
);

220 ià(
£gs
 == 0) {

221 
sk_wšdow
;

224 ià(
	`m­_·ge
(
v
->
m­
[0].
pba£_addr
) < 0) {

225 
sk_wšdow
;

228 ià((
ulÚg
)&
_¡¬t
 > 
LOW_TEST_ADR
) {

230 
v
->
m­
[0].
¡¬t
 = 
	`m­pšg
(v->
¶im_low”
);

232 #ifdeà
USB_WAR


236 ià((
ulÚg
)
v
->
m­
[0].
¡¬t
 < 0x500) {

237 
v
->
m­
[0].
¡¬t
 = (
ulÚg
*)0x500;

241 
	`ıršt
(
LINE_RANGE
, 
COL_MID
+28, " Relocated");

243 
	`ıršt
(
LINE_RANGE
, 
COL_MID
+28, " ");

247 
lo
 = 
	`·ge_of
(
v
->
m­
[0].
¡¬t
);

248 
hi
 = 
	`·ge_of
(
v
->
m­
[
£gs
 -1].
’d
);

249 
	`­ršt
(
LINE_RANGE
, 
COL_MID
+9, 
lo
);

250 
	`ıršt
(
LINE_RANGE
, 
COL_MID
+14, " - ");

251 
	`­ršt
(
LINE_RANGE
, 
COL_MID
+17, 
hi
);

252 
	`­ršt
(
LINE_RANGE
, 
COL_MID
+23, 
v
->
£Ëùed_·ges
);

255 #ifdeà
TEST_TIMES


257 
ulÚg
 
l
, 
h
, 
t
;

259 
asm
 
	`__vŞ©e__
 (

263 :"÷" (
l
), "=d" (
h
)

264 :"b" (
v
->
¢­l
), "c" (v->
¢­h
)

267 
	`ıršt
(20, 5, ": :");

268 
t
 = 
h
 * (()0xfffffffà/ 
v
->
şks_m£c
) / 1000;

269 
t
 +ğ(
l
 / 
v
->
şks_m£c
) / 1000;

270 
i
 = 
t
 % 60;

271 
	`d´št
(20, 10, 
i
%10, 1, 0);

272 
	`d´št
(20, 9, 
i
/10, 1, 0);

273 
t
 /= 60;

274 
i
 = 
t
 % 60;

275 
	`d´št
(20, +7, 
i
 % 10, 1, 0);

276 
	`d´št
(20, +6, 
i
 / 10, 1, 0);

277 
t
 /= 60;

278 
	`d´št
(20, 0, 
t
, 5, 0);

280 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
v
->
¢­l
),"=d" (v->
¢­h
));

285 ià(
v
->
‹¡£l
 >= 0) {

286 
v
->
‹¡
 = v->
‹¡£l
;

289 ià(
v
->
·ss
 == 0) {

290 
c_™”
 = 
t£q
[
v
->
‹¡
].
™”
/2;

292 
c_™”
 = 
t£q
[
v
->
‹¡
].
™”
;

295 
	`d´št
(
LINE_TST
, 
COL_MID
+6, 
v
->
‹¡
, 2, 1);

296 
	`ıršt
(
LINE_TST
, 
COL_MID
+9, 
t£q
[
v
->
‹¡
].
msg
);

297 
	`£t_ÿche
(
t£q
[
v
->
‹¡
].
ÿche
);

300 
chunks
 = 0;

301 
i
 = 0; i < 
£gs
; i++) {

302 
Ën
;

303 
Ën
 = 
v
->
m­
[
i
].
’d
 - v->m­[i].
¡¬t
;

304 
chunks
 +ğ(
Ën
 + 
SPINSZ
 -1)/SPINSZ;

306 
‹¡_ticks
 = 
	`fšd_ticks_fÜ_‹¡
(
chunks
, 
v
->
‹¡
);

307 
Áicks
 = 0;

308 
v
->
Œ
 = 0;

309 
	`ıršt
(1, 
COL_MID
+8, " ");

310 
t£q
[
v
->
‹¡
].
·t
) {

314 
p1
 = 0;

315 
p2
 = ~
p1
;

316 
	`movšv1
(
c_™”
,
p1
,
p2
);

317 
BAILOUT
;

320 
p2
 = 
p1
;

321 
p1
 = ~
p2
;

322 
	`movšv1
(
c_™”
,
p1
,
p2
);

323 
BAILOUT
;

327 
p0
 = 0x80;

328 
i
=0; i<8; i++, 
p0
=p0>>1) {

329 
p1
 = 
p0
 | (p0<<8) | (p0<<16) | (p0<<24);

330 
p2
 = ~
p1
;

331 
	`movšv1
(
c_™”
,
p1
,
p2
);

332 
BAILOUT
;

335 
p2
 = 
p1
;

336 
p1
 = ~
p2
;

337 
	`movšv1
(
c_™”
,
p1
,
p2
);

338 
BAILOUT


343 
i
=0, 
p1
=1;…1;…1=p1<<1, i++) {

344 
	`movšv32
(
c_™”
,
p1
, 1, 0x80000000, 0, 
i
);

345 
BAILOUT


346 
	`movšv32
(
c_™”
,~
p1
, 0xfffffffe,

347 0x7fffffff, 1, 
i
);

348 
BAILOUT


353 
p1
=0;

354 
i
=0; i<
MOD_SZ
; i++) {

355 
p2
 = ~
p1
;

356 
	`modt¡
(
i
, 
c_™”
, 
p1
, 
p2
);

357 
BAILOUT


360 
p2
 = 
p1
;

361 
p1
 = ~
p2
;

362 
	`modt¡
(
i
, 
c_™”
, 
p1
,
p2
);

363 
BAILOUT


368 
p0
 = 0x80;

369 
j
=0; j<8; j++, 
p0
=p0>>1) {

370 
p1
 = 
p0
 | (p0<<8) | (p0<<16) | (p0<<24);

371 
i
=0; i<
MOD_SZ
; i++) {

372 
p2
 = ~
p1
;

373 
	`modt¡
(
i
, 
c_™”
, 
p1
, 
p2
);

374 
BAILOUT


377 
p2
 = 
p1
;

378 
p1
 = ~
p2
;

379 
	`modt¡
(
i
, 
c_™”
, 
p1
, 
p2
);

380 
BAILOUT


385 
	`addr_t¡1
();

386 
BAILOUT
;

390 
	`addr_t¡2
();

391 
BAILOUT
;

395 
	`block_move
(
c_™”
);

396 
BAILOUT
;

399 ià(
wšdow
 == 0 ) {

400 
	`b™_çde
();

402 
BAILOUT
;

405 
i
=0; i < 
c_™”
; i++) {

406 
	`movšvr
();

407 
BAILOUT
;

411 
i
=0; i < 
c_™”
; i++) {

412 
p1
 = 
	`¿nd
();

413 
p2
 = ~
p1
;

414 
	`movšv1
(2,
p1
,
p2
);

415 
BAILOUT
;

420 
j
=0; j<
c_™”
; j++) {

421 
p1
 = 
	`¿nd
();

422 
i
=0; i<
MOD_SZ
; i++) {

423 
p2
 = ~
p1
;

424 
	`modt¡
(
i
, 2, 
p1
, 
p2
);

425 
BAILOUT


428 
p2
 = 
p1
;

429 
p1
 = ~
p2
;

430 
	`modt¡
(
i
, 2, 
p1
, 
p2
);

431 
BAILOUT


436 
sk_wšdow
:

437 ià(
ba
) {

438 
ba_‹¡
;

441 
	`·gšg_off
();

442 
	`£t_ÿche
(1);

443 
wšdow
++;

444 ià(
wšdow
 >ğ(
wšdows
)/(windows[0])) {

445 
wšdow
 = 0;

448 
	`ıršt
(
LINE_PAT
, 
COL_PAT
, " ");

449 ià(
wšdow
 != 0) {

455 ià(
wšdows
[
wšdow
].
¡¬t
 <

456 ((
ulÚg
)&
_¡¬t
 + (
_’d
 - _start)) >> 12) {

457 ià(
v
->
pm­
[v->
m£gs
-1].
’d
 >

458 (((
high_‹¡_adr
 + (
_’d
 - 
_¡¬t
)) >> 12)+1)) {

462 
	`run_©
(
high_‹¡_adr
);

465 
sk_wšdow
;

469 
	`run_©
(
LOW_TEST_ADR
);

476 
sk_‹¡
:

477 
v
->
‹¡
++;

478 
ba_‹¡
:

482 
	`·gšg_off
();

483 
	`£t_ÿche
(1);

484 
	`check_šput
();

485 
wšdow
 = 0;

486 
	`ıršt
(
LINE_PAT
, 
COL_PAT
-3, " ");

488 ià(
v
->
‹¡
 >ğ9 || v->
‹¡£l
 >= 0) {

489 
v
->
·ss
++;

490 
	`d´št
(
LINE_INFO
, 
COL_PASS
, 
v
->
·ss
, 5, 0);

491 
v
->
‹¡
 = 0;

492 
v
->
tÙ®_ticks
 = 0;

493 
v
->
µŒ
 = 0;

494 
	`ıršt
(0, 
COL_MID
+8,

496 ià(
v
->
ecouÁ
 =ğ0 && v->
‹¡£l
 < 0) {

497 
	`ıršt
(
LINE_MSG
+5, 0,

499 if(
BEEP_END_NO_ERROR
) {

500 
	`b“p
(1000);

501 
	`b“p
(2000);

502 
	`b“p
(1000);

503 
	`b“p
(2000);

509 
	`run_©
(
LOW_TEST_ADR
);

511 
	}
}

513 
	$»¡¬t
()

515 
i
;

516 vŞ©*
µ
;

519 
fœ¡time
 = 0;

520 
v
->
‹¡
 = 0;

521 
v
->
·ss
 = 0;

522 
v
->
msg_lše
 = 0;

523 
v
->
ecouÁ
 = 0;

524 
v
->
ecc_ecouÁ
 = 0;

527 
i
=0, 
µ
=(*)(
SCREEN_ADR
+0); i<80*24; i++,…p+=2) {

528 *
µ
 = ' ';

530 
	`run_©
(
LOW_TEST_ADR
);

531 
	}
}

533 
	$fšd_ticks_fÜ_·ss
()

535 
i
, 
j
, 
chunks
;

537 
v
->
µŒ
 = 0;

540 
chunks
 = 0;

541 
j
 = 0; j < (
wšdows
)/(windows[0]); j++) {

542 
	`compu‹_£gm’ts
(
j
);

543 
i
 = 0; i < 
£gs
; i++) {

544 
Ën
;

545 
Ën
 = 
v
->
m­
[
i
].
’d
 - v->m­[i].
¡¬t
;

546 
chunks
 +ğ(
Ën
 + 
SPINSZ
 -1)/SPINSZ;

549 
	`compu‹_£gm’ts
(
wšdow
);

550 
wšdow
 = 0;

551 
v
->
·ss_ticks
=0, 
i
=0; ((i<
DEFTESTS
è&& (DEFTESTS !ğ
NULL
)); i++) {

554 ià(
v
->
‹¡£l
 >= 0) {

555 ià(
i
 !ğ
v
->
‹¡£l
) {

559 
v
->
·ss_ticks
 +ğ
	`fšd_ticks_fÜ_‹¡
(
chunks
, 
i
);

561 
	}
}

564 
	$fšd_ticks_fÜ_‹¡
(
ch
, 
‹¡
)

566 
ticks
=0, 
c
;

570 ià(
v
->
·ss
 =ğ0 && 
FIRST_PASS_HALF_ITERATIONS
) {

571 
c
 = 
t£q
[
‹¡
].
™”
/2;

573 
c
 = 
t£q
[
‹¡
].
™”
;

576 
t£q
[
‹¡
].
·t
) {

578 
ticks
 = 2 + 4 * 
c
;

581 
ticks
 = 24 + 24 * 
c
;

584 
ticks
 = (1 + 
c
 * 2) * 80;

587 
ticks
 = (2 + 
c
) * 40;

590 
ticks
 = (2 + 
c
) * 40 * 8;

593 
ticks
 = 4;

596 
ticks
 = 2;

599 
ticks
 = 2 + 
c
;

602 
ticks
 = 1;

605 
ticks
 = 3 * 
c
;

608 
ticks
 = 
c
 + 4 * c;

611 
ticks
 = 4 * 40 * 
c
;

615  
ticks
*
ch
;

616 
	}
}

618 
	$compu‹_£gm’ts
(
wš
)

620 
w¡¬t
, 
w’d
;

621 
i
;

624 
w¡¬t
 = 
wšdows
[
wš
].
¡¬t
;

625 
w’d
 = 
wšdows
[
wš
].
’d
;

626 
£gs
 = 0;

629 ià(
w¡¬t
 < 
v
->
¶im_low”
) {

630 
w¡¬t
 = 
v
->
¶im_low”
;

632 ià(
w’d
 > 
v
->
¶im_uµ”
) {

633 
w’d
 = 
v
->
¶im_uµ”
;

635 ià(
w¡¬t
 >ğ
w’d
) {

639 
i
=0; i< 
v
->
m£gs
; i++) {

640 
¡¬t
, 
’d
;

641 
¡¬t
 = 
v
->
pm­
[
i
].start;

642 
’d
 = 
v
->
pm­
[
i
].end;

643 ià(
¡¬t
 <ğ
w¡¬t
) {

644 
¡¬t
 = 
w¡¬t
;

646 ià(
’d
 >ğ
w’d
) {

647 
’d
 = 
w’d
;

650 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 0, " (");

651 
	`h´št
(
LINE_SCROLL
+(2*
i
), 2, 
¡¬t
);

652 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 10, ", ");

653 
	`h´št
(
LINE_SCROLL
+(2*
i
), 12, 
’d
);

654 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 20, ") ");

656 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 22, "r(");

657 
	`h´št
(
LINE_SCROLL
+(2*
i
), 24, 
w¡¬t
);

658 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 32, ", ");

659 
	`h´št
(
LINE_SCROLL
+(2*
i
), 34, 
w’d
);

660 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 42, ") ");

662 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 44, "p(");

663 
	`h´št
(
LINE_SCROLL
+(2*
i
), 46, 
v
->
¶im_low”
);

664 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 54, ", ");

665 
	`h´št
(
LINE_SCROLL
+(2*
i
), 56, 
v
->
¶im_uµ”
);

666 
	`ıršt
(
LINE_SCROLL
+(2*
i
), 64, ") ");

668 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 0, "w(");

669 
	`h´št
(
LINE_SCROLL
+(2*
i
+1), 2, 
wšdows
[
wš
].
¡¬t
);

670 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 10, ", ");

671 
	`h´št
(
LINE_SCROLL
+(2*
i
+1), 12, 
wšdows
[
wš
].
’d
);

672 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 20, ") ");

674 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 22, "m(");

675 
	`h´št
(
LINE_SCROLL
+(2*
i
+1), 24, 
v
->
pm­
[i].
¡¬t
);

676 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 32, ", ");

677 
	`h´št
(
LINE_SCROLL
+(2*
i
+1), 34, 
v
->
pm­
[i].
’d
);

678 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 42, ") ");

680 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 44, "i=");

681 
	`h´št
(
LINE_SCROLL
+(2*
i
+1), 46, i);

683 
	`ıršt
(
LINE_SCROLL
+(2*
i
+2), 0,

686 
	`ıršt
(
LINE_SCROLL
+(2*
i
+3), 0,

690 ià((
¡¬t
 < 
’d
è&& (¡¬ˆ< 
w’d
è&& (’d > 
w¡¬t
)) {

691 
v
->
m­
[
£gs
].
pba£_addr
 = 
¡¬t
;

692 
v
->
m­
[
£gs
].
¡¬t
 = 
	`m­pšg
(start);

693 
v
->
m­
[
£gs
].
’d
 = 
	`em­pšg
(end);

695 
	`ıršt
(
LINE_SCROLL
+(2*
i
+1), 54, " sg: ");

696 
	`h´št
(
LINE_SCROLL
+(2*
i
+1), 61, 
sg
);

698 
£gs
++;

701  (
£gs
);

702 
	}
}

	@memsize.c

7 
	~"‹¡.h
"

8 
	~"defs.h
"

9 
	~"cÚfig.h
"

11 
	ge820_Ä
;

12 
	gmemsz_mode
 = 
SZ_MODE_BIOS
;

13 
	gfœmw¬e
 = 
FIRMWARE_UNKNOWN
;

15 
ulÚg
 
	g®t_mem_k
;

16 
ulÚg
 
	gext_mem_k
;

17 
e820’Œy
 
	ge820
[
E820MAX
];

19 
ulÚg
 
p1
, 
p2
;

20 vŞ©
ulÚg
 *
p
;

22 
sÜt_pm­
();

23 
check_¿m
();

24 
memsize_bios
();

25 
memsize_820
();

26 
memsize_801
();

27 
§n™ize_e820_m­
(
e820’Œy
 *
Üig_m­
,

28 
e820’Œy
 *
Ãw_bios
, 
Şd_Ä
);

29 
memsize_lšuxbios
();

30 
memsize_´obe
();

31 
check_¿m
();

36 
	$mem_size
()

38 
i
;

39 
v
->
»£rved_·ges
 = 0;

40 
v
->
‹¡_·ges
 = 0;

45 ià(
e820_Ä
 =ğ0 && 
®t_mem_k
 =ğ0 && 
ext_mem_k
 == 0) {

46 
ext_mem_k
 = 
mem_šfo
.
e88_mem_k
;

47 
®t_mem_k
 = 
mem_šfo
.
e801_mem_k
;

48 
e820_Ä
 = 
mem_šfo
.e820_nr;

49 
i
=0; i< 
mem_šfo
.
e820_Ä
; i++) {

50 
e820
[
i
].
addr
 = 
mem_šfo
.e820[i].addr;

51 
e820
[
i
].
size
 = 
mem_šfo
.e820[i].size;

52 
e820
[
i
].
ty³
 = 
mem_šfo
.e820[i].type;

56 
memsz_mode
) {

57 
SZ_MODE_BIOS
:

59 
	`memsize_bios
();

61 
SZ_MODE_PROBE
:

63 
	`memsize_´obe
();

64 
	`ıršt
(
LINE_INFO
, 
COL_MMAP
, "Probed");

68 
	`sÜt_pm­
();

69 
v
->
¶im_low”
 = 0;

70 
v
->
¶im_uµ”
 = v->
pm­
[v->
m£gs
-1].
’d
;

72 
	`adj_mem
();

73 
	`­ršt
(
LINE_INFO
, 
COL_RESERVED
, 
v
->
»£rved_·ges
);

74 
	}
}

76 
	$memsize_bios
()

78 ià(
fœmw¬e
 =ğ
FIRMWARE_PCBIOS
) {

79 
	`memsize_820
();

81 ià(
fœmw¬e
 =ğ
FIRMWARE_LINUXBIOS
) {

82 
	`memsize_lšuxbios
();

84 
	}
}

86 
	$sÜt_pm­
()

88 
i
, 
j
;

92 
i
 = 0; i < 
v
->
m£gs
; i++) {

94 
j
 = 
i
 -1; j >= 0; j--) {

95 ià(
v
->
pm­
[
i
].
¡¬t
 > v->pm­[
j
].start) {

96 
j
++;

101 ià(
i
 !ğ
j
) {

102 
pm­
 
‹mp
;

103 
‹mp
 = 
v
->
pm­
[
i
];

104 
	`memmove
(&
v
->
pm­
[
j
], &v->pmap[j+1],

105 (
i
 -
j
)* (
‹mp
));

106 
v
->
pm­
[
j
] = 
‹mp
;

109 
	}
}

110 
	$memsize_lšuxbios
()

112 
i
, 
n
;

114 
n
 = 0;

115 
i
=0; i < 
e820_Ä
; i++) {

116 
’d
;

117 ià(
e820
[
i
].
ty³
 !ğ
E820_RAM
) {

120 
’d
 = 
e820
[
i
].
addr
;

121 
’d
 +ğ
e820
[
i
].
size
;

122 
v
->
pm­
[
n
].
¡¬t
 = (
e820
[
i
].
addr
 + 4095) >> 12;

123 
v
->
pm­
[
n
].
’d
 =ƒnd >> 12;

124 
v
->
‹¡_·ges
 +ğv->
pm­
[
n
].
’d
 - v->pm­[n].
¡¬t
;

125 
n
++;

127 
v
->
m£gs
 = 
n
;

128 
	`ıršt
(
LINE_INFO
, 
COL_MMAP
, "LxBIOS");

129 
	}
}

130 
	$memsize_820
()

132 
i
, 
n
, 
Ä
;

133 
e820’Œy
 
nm
[
E820MAX
];

136 
Ä
 = 
	`§n™ize_e820_m­
(
e820
, 
nm
, 
e820_Ä
);

139 ià(
Ä
 < 1 ||‚¸> 
E820MAX
) {

140 
	`memsize_801
();

145 
n
 = 0;

146 
i
=0; i<
Ä
; i++) {

147 ià(
nm
[
i
].
ty³
 =ğ
E820_RAM
 ||‚m[i].ty³ =ğ
E820_ACPI
) {

148 
¡¬t
;

149 
’d
;

150 
¡¬t
 = 
nm
[
i
].
addr
;

151 
’d
 = 
¡¬t
 + 
nm
[
i
].
size
;

154 ià(
¡¬t
 > 
RES_START
 && s¹ < 
RES_END
) {

155 ià(
’d
 < 
RES_END
) {

158 
¡¬t
 = 
RES_END
;

160 ià(
’d
 > 
RES_START
 &&ƒnd < 
RES_END
) {

161 
’d
 = 
RES_START
;

163 
v
->
pm­
[
n
].
¡¬t
 = (start + 4095) >> 12;

164 
v
->
pm­
[
n
].
’d
 =ƒnd >> 12;

165 
v
->
‹¡_·ges
 +ğv->
pm­
[
n
].
’d
 - v->pm­[n].
¡¬t
;

166 
n
++;

167 } ià(
nm
[
i
].
ty³
 =ğ
E820_NVS
) {

168 
v
->
»£rved_·ges
 +ğ
nm
[
i
].
size
 >> 12;

171 
v
->
m£gs
 = 
n
;

172 
	`ıršt
(
LINE_INFO
, 
COL_MMAP
, "ƒ820");

173 
	}
}

175 
	$memsize_801
()

177 
ulÚg
 
mem_size
;

182 ià(
®t_mem_k
 < 
ext_mem_k
) {

183 
mem_size
 = 
ext_mem_k
;

184 
	`ıršt
(
LINE_INFO
, 
COL_MMAP
, "ƒ88");

186 
mem_size
 = 
®t_mem_k
;

187 
	`ıršt
(
LINE_INFO
, 
COL_MMAP
, "ƒ801");

190 
v
->
pm­
[0].
¡¬t
 = 0;

191 
v
->
pm­
[0].
’d
 = 
RES_START
 >> 12;

192 
v
->
‹¡_·ges
 = 
RES_START
 >> 12;

195 
v
->
pm­
[1].
¡¬t
 = (
RES_END
 + 4095) >> 12;

196 
v
->
pm­
[1].
’d
 = (
mem_size
 + 1024) >> 2;

197 
v
->
‹¡_·ges
 +ğ
mem_size
 >> 2;

198 
v
->
m£gs
 = 2;

199 
	}
}

208 
	$§n™ize_e820_m­
(
e820’Œy
 *
Üig_m­
, e820’Œy *
Ãw_bios
,

209 
Şd_Ä
)

211 
	schªge_memb”
 {

212 
e820’Œy
 *
pbios
;

213 
addr
;

215 
chªge_memb”
 
chªge_pošt_li¡
[2*
E820MAX
];

216 
chªge_memb”
 *
chªge_pošt
[2*
E820MAX
];

217 
e820’Œy
 *
ov”Ïp_li¡
[
E820MAX
];

218 
e820’Œy
 
biosm­
[
E820MAX
];

219 
chªge_memb”
 *
chªge_tmp
;

220 
ulÚg
 
cu¼’t_ty³
, 
Ï¡_ty³
;

221 
Ï¡_addr
;

222 
chgidx
, 
¡l_chªgšg
;

223 
ov”Ïp_’Œ›s
;

224 
Ãw_bios_’Œy
;

225 
i
;

262 
i
=0; i<
Şd_Ä
; i++) {

263 
biosm­
[
i
].
addr
 = 
Üig_m­
[i].addr;

264 
biosm­
[
i
].
size
 = 
Üig_m­
[i].size;

265 
biosm­
[
i
].
ty³
 = 
Üig_m­
[i].type;

269 
i
=0; i<
Şd_Ä
; i++) {

270 ià(
biosm­
[
i
].
addr
 + biosm­[i].
size
 < biosmap[i].addr)

275 
i
=0; i < 2*
Şd_Ä
; i++)

276 
chªge_pošt
[
i
] = &
chªge_pošt_li¡
[i];

279 
chgidx
 = 0;

280 
i
=0; i < 
Şd_Ä
; i++) {

281 
chªge_pošt
[
chgidx
]->
addr
 = 
biosm­
[
i
].addr;

282 
chªge_pošt
[
chgidx
++]->
pbios
 = &
biosm­
[
i
];

283 
chªge_pošt
[
chgidx
]->
addr
 = 
biosm­
[
i
].add¸+ biosm­[i].
size
;

284 
chªge_pošt
[
chgidx
++]->
pbios
 = &
biosm­
[
i
];

288 
¡l_chªgšg
 = 1;

289 
¡l_chªgšg
) {

290 
¡l_chªgšg
 = 0;

291 
i
=1; i < 2*
Şd_Ä
; i++) {

294 ià((
chªge_pošt
[
i
]->
addr
 < change_point[i-1]->addr) ||

295 ((
chªge_pošt
[
i
]->
addr
 == change_point[i-1]->addr) &&

296 (
chªge_pošt
[
i
]->
addr
 =ğchªge_pošt[i]->
pbios
->addr) &&

297 (
chªge_pošt
[
i
-1]->
addr
 !ğchªge_pošt[i-1]->
pbios
->addr))

300 
chªge_tmp
 = 
chªge_pošt
[
i
];

301 
chªge_pošt
[
i
] = change_point[i-1];

302 
chªge_pošt
[
i
-1] = 
chªge_tmp
;

303 
¡l_chªgšg
=1;

309 
ov”Ïp_’Œ›s
=0;

310 
Ãw_bios_’Œy
=0;

311 
Ï¡_ty³
 = 0;

312 
Ï¡_addr
 = 0;

314 
chgidx
=0; chgidx < 2*
Şd_Ä
; chgidx++)

317 ià(
chªge_pošt
[
chgidx
]->
addr
 =ğchªge_pošt[chgidx]->
pbios
->addr)

320 
ov”Ïp_li¡
[
ov”Ïp_’Œ›s
++]=
chªge_pošt
[
chgidx
]->
pbios
;

325 
i
=0; i<
ov”Ïp_’Œ›s
; i++)

327 ià(
ov”Ïp_li¡
[
i
] =ğ
chªge_pošt
[
chgidx
]->
pbios
)

328 
ov”Ïp_li¡
[
i
] = ov”Ïp_li¡[
ov”Ïp_’Œ›s
-1];

330 
ov”Ïp_’Œ›s
--;

334 
cu¼’t_ty³
 = 0;

335 
i
=0; i<
ov”Ïp_’Œ›s
; i++)

336 ià(
ov”Ïp_li¡
[
i
]->
ty³
 > 
cu¼’t_ty³
)

337 
cu¼’t_ty³
 = 
ov”Ïp_li¡
[
i
]->
ty³
;

339 ià(
cu¼’t_ty³
 !ğ
Ï¡_ty³
) {

340 ià(
Ï¡_ty³
 != 0) {

341 
Ãw_bios
[
Ãw_bios_’Œy
].
size
 =

342 
chªge_pošt
[
chgidx
]->
addr
 - 
Ï¡_addr
;

344 ià(
Ãw_bios
[
Ãw_bios_’Œy
].
size
 != 0)

345 ià(++
Ãw_bios_’Œy
 >ğ
E820MAX
)

348 ià(
cu¼’t_ty³
 != 0) {

349 
Ãw_bios
[
Ãw_bios_’Œy
].
addr
 = 
chªge_pošt
[
chgidx
]->addr;

350 
Ãw_bios
[
Ãw_bios_’Œy
].
ty³
 = 
cu¼’t_ty³
;

351 
Ï¡_addr
=
chªge_pošt
[
chgidx
]->
addr
;

353 
Ï¡_ty³
 = 
cu¼’t_ty³
;

356 (
Ãw_bios_’Œy
);

357 
	}
}

359 
	$memsize_´obe
()

361 
i
, 
n
;

362 
ulÚg
 
m_lim
;

363 
magic
 = 0x1234569;

368 
p1
 = (
ulÚg
)&
magic
;

369 
m_lim
 = 0xfffffffc;

370 
p2
 = 0x100000;…2;…2 <<= 1) {

371 
p
 = (
ulÚg
 *)(
p1
 + 
p2
);

372 ià(*
p
 == 0x1234569) {

373 
m_lim
 = --
p2
;

379 
	`£t_ÿche
(1);

383 
i
 = 0;

384 
v
->
pm­
[
i
].
¡¬t
 = ((
ulÚg
)&
_’d
 + (1 << 12) - 1) >> 12;

385 
p
 = (
ulÚg
 *)(
v
->
pm­
[
i
].
¡¬t
 << 12);

389 (
ulÚg
)
p
 < 
m_lim
 && (ulÚgí >ğ(ulÚg)&
_’d
) {

393 ià((
ulÚg
)
p
 < 
RES_END
 && (ulÚgí >ğ
RES_START
) {

394 
v
->
pm­
[
i
].
’d
 = 
RES_START
 >> 12;

395 
v
->
‹¡_·ges
 +ğ(v->
pm­
[
i
].
’d
 - v->pm­[i].
¡¬t
);

396 
p
 = (
ulÚg
 *)
RES_END
;

397 
i
++;

398 
v
->
pm­
[
i
].
¡¬t
 = 0;

399 
f¡¬t
;

402 ià(
	`check_¿m
() == 0) {

404 
v
->
pm­
[
i
].
’d
 = ((
ulÚg
)
p
) >> 12;

405 
v
->
‹¡_·ges
 +ğ(v->
pm­
[
i
].
’d
 - v->pm­[i].
¡¬t
);

406 
i
++;

407 
v
->
pm­
[
i
].
¡¬t
 = 0;

408 
f¡¬t
:

413 
n
 = 32768 >> 2;

414 (
ulÚg
)
p
 < 
m_lim
 && (ulÚgí >ğ(ulÚg)&
_’d
) {

417 ià((
ulÚg
)
p
 < 
RES_END
 &&

418 (
ulÚg
)
p
 >ğ
RES_START
) {

419 
p
 = (
ulÚg
 *)
RES_END
;

421 ià(
	`check_¿m
() == 1) {

423 
v
->
pm­
[
i
].
¡¬t
 = (
ulÚg
)
p
 >> 12;

429 ià(--
n
 <= 0) {

430 
p
 = (
ulÚg
 *)
m_lim
;

433 
p
 += 0x1000;

436 
p
 += 0x1000;

441 ià(
v
->
pm­
[
i
].
¡¬t
) {

442 
v
->
pm­
[
i
].
’d
 = 
m_lim
 >> 12;

443 
v
->
‹¡_·ges
 +ğ(v->
pm­
[
i
].
’d
 - v->pm­[i].
¡¬t
);

444 
i
++;

446 
v
->
m£gs
 = 
i
;

447 
	}
}

454 
	$check_¿m
()

456 
s
;

458 
p1
 = *
p
;

461 *
p
 = ~
p1
;

462 
p2
 = *
p
;

463 
s
 = 0;

466 ià((0xfà& 
p1
è!ğ(0xfà& 
p2
)) {

467 
s
++;

469 ià((0xff00 & 
p1
è!ğ(0xff00 & 
p2
)) {

470 
s
++;

472 ià((0xff0000 & 
p1
è!ğ(0xff0000 & 
p2
)) {

473 
s
++;

475 ià((0xff000000 & 
p1
è!ğ(0xff000000 & 
p2
)) {

476 
s
++;

478 ià(
s
 == 4) {

484 
	}
}

	@msr.h

1 #iâdeà
__ASM_MSR_H


2 
	#__ASM_MSR_H


	)

10 
	#rdm¤
(
m¤
,
v®1
,
v®2
) \

11 
__asm__
 
	`__vŞ©e__
("rdmsr" \

12 : "÷" (
v®1
), "=d" (
v®2
) \

13 : "c" (
m¤
))

	)

15 
	#wrm¤
(
m¤
,
v®1
,
v®2
) \

16 
__asm__
 
	`__vŞ©e__
("wrmsr" \

18 : "c" (
m¤
), "a" (
v®1
), "d" (
v®2
))

	)

20 
	#rdtsc
(
low
,
high
) \

21 
__asm__
 
	`__vŞ©e__
("rdtsc" : "÷" (
low
), "=d" (
high
))

	)

23 
	#rdtsş
(
low
) \

24 
__asm__
 
	`__vŞ©e__
("rdtsc" : "÷" (
low
è: : "edx")

	)

26 
	#rdtsşl
(
v®
) \

27 
__asm__
 
	`__vŞ©e__
("rdtsc" : "=A" (
v®
))

	)

29 
	#wr™e_tsc
(
v®1
,
v®2
è
	`wrm¤
(0x10, v®1, v®2)

	)

31 
	#rdpmc
(
couÁ”
,
low
,
high
) \

32 
__asm__
 
	`__vŞ©e__
("rdpmc" \

33 : "÷" (
low
), "=d" (
high
) \

34 : "c" (
couÁ”
))

	)

38 
	#MSR_IA32_P5_MC_ADDR
 0

	)

39 
	#MSR_IA32_P5_MC_TYPE
 1

	)

40 
	#MSR_IA32_PLATFORM_ID
 0x17

	)

41 
	#MSR_IA32_EBL_CR_POWERON
 0x2a

	)

43 
	#MSR_IA32_APICBASE
 0x1b

	)

44 
	#MSR_IA32_APICBASE_BSP
 (1<<8)

	)

45 
	#MSR_IA32_APICBASE_ENABLE
 (1<<11)

	)

46 
	#MSR_IA32_APICBASE_BASE
 (0xfffff<<12)

	)

48 
	#MSR_IA32_UCODE_WRITE
 0x79

	)

49 
	#MSR_IA32_UCODE_REV
 0x8b

	)

51 
	#MSR_IA32_BBL_CR_CTL
 0x119

	)

53 
	#MSR_IA32_MCG_CAP
 0x179

	)

54 
	#MSR_IA32_MCG_STATUS
 0x17a

	)

55 
	#MSR_IA32_MCG_CTL
 0x17b

	)

57 
	#MSR_IA32_THERM_CONTROL
 0x19a

	)

58 
	#MSR_IA32_THERM_INTERRUPT
 0x19b

	)

59 
	#MSR_IA32_THERM_STATUS
 0x19c

	)

60 
	#MSR_IA32_MISC_ENABLE
 0x1a0

	)

62 
	#MSR_IA32_DEBUGCTLMSR
 0x1d9

	)

63 
	#MSR_IA32_LASTBRANCHFROMIP
 0x1db

	)

64 
	#MSR_IA32_LASTBRANCHTOIP
 0x1dc

	)

65 
	#MSR_IA32_LASTINTFROMIP
 0x1dd

	)

66 
	#MSR_IA32_LASTINTTOIP
 0x1de

	)

68 
	#MSR_IA32_MC0_CTL
 0x400

	)

69 
	#MSR_IA32_MC0_STATUS
 0x401

	)

70 
	#MSR_IA32_MC0_ADDR
 0x402

	)

71 
	#MSR_IA32_MC0_MISC
 0x403

	)

73 
	#MSR_P6_PERFCTR0
 0xc1

	)

74 
	#MSR_P6_PERFCTR1
 0xc2

	)

75 
	#MSR_P6_EVNTSEL0
 0x186

	)

76 
	#MSR_P6_EVNTSEL1
 0x187

	)

78 
	#MSR_IA32_PERF_STATUS
 0x198

	)

79 
	#MSR_IA32_PERF_CTL
 0x199

	)

82 
	#MSR_K6_EFER
 0xC0000080

	)

83 
	#MSR_K6_STAR
 0xC0000081

	)

84 
	#MSR_K6_WHCR
 0xC0000082

	)

85 
	#MSR_K6_UWCCR
 0xC0000085

	)

86 
	#MSR_K6_EPMR
 0xC0000086

	)

87 
	#MSR_K6_PSOR
 0xC0000087

	)

88 
	#MSR_K6_PFIR
 0xC0000088

	)

90 
	#MSR_K7_EVNTSEL0
 0xC0010000

	)

91 
	#MSR_K7_PERFCTR0
 0xC0010004

	)

92 
	#MSR_K7_HWCR
 0xC0010015

	)

93 
	#MSR_K7_CLK_CTL
 0xC001001b

	)

94 
	#MSR_K7_FID_VID_CTL
 0xC0010041

	)

95 
	#MSR_K7_VID_STATUS
 0xC0010042

	)

98 
	#MSR_IDT_FCR1
 0x107

	)

99 
	#MSR_IDT_FCR2
 0x108

	)

100 
	#MSR_IDT_FCR3
 0x109

	)

101 
	#MSR_IDT_FCR4
 0x10a

	)

103 
	#MSR_IDT_MCR0
 0x110

	)

104 
	#MSR_IDT_MCR1
 0x111

	)

105 
	#MSR_IDT_MCR2
 0x112

	)

106 
	#MSR_IDT_MCR3
 0x113

	)

107 
	#MSR_IDT_MCR4
 0x114

	)

108 
	#MSR_IDT_MCR5
 0x115

	)

109 
	#MSR_IDT_MCR6
 0x116

	)

110 
	#MSR_IDT_MCR7
 0x117

	)

111 
	#MSR_IDT_MCR_CTRL
 0x120

	)

114 
	#MSR_VIA_FCR
 0x1107

	)

115 
	#MSR_VIA_LONGHAUL
 0x110a

	)

116 
	#MSR_VIA_BCR2
 0x1147

	)

119 
	#MSR_TMTA_LONGRUN_CTRL
 0x80868010

	)

120 
	#MSR_TMTA_LONGRUN_FLAGS
 0x80868011

	)

121 
	#MSR_TMTA_LRTI_READOUT
 0x80868018

	)

122 
	#MSR_TMTA_LRTI_VOLT_MHZ
 0x8086801a

	)

	@patn.c

16 
	~"‹¡.h
"

22 
	#DEFAULT_MASK
 ((~0Lè<< 2)

	)

35 
	#COMBINE_MASK
(
a
,
b
,
c
,
d
è(× & b & c & dè| (~¨& b & ~ø& d))

	)

39 
	$combše
 (
ulÚg
 
adr1
, ulÚg 
mask1
, ulÚg 
adr2
, ulÚg 
mask2
,

40 
ulÚg
 *
adr
, ulÚg *
mask
) {

42 *
mask
 = 
	`COMBINE_MASK
 (
adr1
, 
mask1
, 
adr2
, 
mask2
);

44 *
adr
 = 
adr1
 | 
adr2
;

45 *
adr
 &ğ*
mask
;

46 
	}
}

50 
ulÚg
 
	$add»s£s
 (
ulÚg
 
mask
) {

51 
ulÚg
 
ùr
=1;

52 
i
=32;

53 
i
-- > 0) {

54 ià(! (
mask
 & 1)) {

55 
ùr
 += ctr;

57 
mask
 >>= 1;

59  
ùr
;

60 
	}
}

65 
ulÚg
 
	$combico¡
 (
ulÚg
 
adr1
, ulÚg 
mask1
, ulÚg 
adr2
, ulÚg 
mask2
) {

66 
ulÚg
 
co¡1
=
	`add»s£s
 (
mask1
);

67 
ulÚg
 
tmp
, 
mask
;

68 
	`combše
 (
adr1
, 
mask1
, 
adr2
, 
mask2
, &
tmp
, &
mask
);

69  
	`add»s£s
 (
mask
è- 
co¡1
;

70 
	}
}

75 
	$ch—pšdex
 (
ulÚg
 
adr1
, ulÚg 
mask1
, ulÚg 
mšco¡
) {

76 
i
=
v
->
num·Š
;

77 
idx
=-1;

78 
i
-- > 0) {

79 
ulÚg
 
tmpco¡
=
	`combico¡
(
v
->
·Š
[
i
].
adr
, v->·Š[i].
mask
, 
adr1
, 
mask1
);

80 ià(
tmpco¡
 < 
mšco¡
) {

81 
mšco¡
=
tmpco¡
;

82 
idx
=
i
;

85  
idx
;

86 
	}
}

91 
	$»loÿ‹idx
 (
idx
) {

92 
ulÚg
 
adr
 =
v
->
·Š
[
idx
].adr;

93 
ulÚg
 
mask
=
v
->
·Š
[
idx
].mask;

94 
Ãw
;

95 
v
->
·Š
[
idx
].
adr
 ^= ~0L;

96 
Ãw
=
	`ch—pšdex
 (
adr
, 
mask
, 1+
	`add»s£s
 (mask));

97 
v
->
·Š
[
idx
].
adr
 =‡dr;

98  
Ãw
;

99 
	}
}

105 
	$»loÿ‹ifä“
 (
idx
) {

106 
Ãwidx
=
	`»loÿ‹idx
 (
idx
);

107 ià(
Ãwidx
>=0) {

108 
ulÚg
 
ÿdr
, 
cmask
;

109 
	`combše
 (
v
->
·Š
 [
Ãwidx
].
adr
, v->·Š[Ãwidx].
mask
,

110 
v
->
·Š
 [ 
idx
].
adr
, v->·Š[ idx].
mask
,

111 &
ÿdr
, &
cmask
);

112 
v
->
·Š
[
Ãwidx
].
adr
 =
ÿdr
;

113 
v
->
·Š
[
Ãwidx
].
mask
=
cmask
;

114 ià(
idx
 < --
v
->
num·Š
) {

115 
v
->
·Š
[
idx
].
adr
 =v->·Š[v->
num·Š
].adr;

116 
v
->
·Š
[
idx
].
mask
=v->·Š[v->
num·Š
].mask;

118 
	`»loÿ‹ifä“
 (
Ãwidx
);

120 
	}
}

125 
	$š£¹add»ss
 (
ulÚg
 
adr
) {

126 ià(
	`ch—pšdex
 (
adr
, 
DEFAULT_MASK
, 1L) != -1)

129 ià(
v
->
num·Š
 < 
BADRAM_MAXPATNS
) {

130 
v
->
·Š
[v->
num·Š
].
adr
 =adr;

131 
v
->
·Š
[v->
num·Š
].
mask
=
DEFAULT_MASK
;

132 
v
->
num·Š
++;

133 
	`»loÿ‹ifä“
 (
v
->
num·Š
-1);

135 
idx
=
	`ch—pšdex
 (
adr
, 
DEFAULT_MASK
, ~0L);

136 
ulÚg
 
ÿdr
, 
cmask
;

137 
	`combše
 (
v
->
·Š
 [
idx
].
adr
, v->·Š[idx].
mask
,

138 
adr
, 
DEFAULT_MASK
, &
ÿdr
, &
cmask
);

139 
v
->
·Š
[
idx
].
adr
 =
ÿdr
;

140 
v
->
·Š
[
idx
].
mask
=
cmask
;

141 
	`»loÿ‹ifä“
 (
idx
);

144 
	}
}

	@pci.c

11 
	~"io.h
"

12 
	~"pci.h
"

13 
	~"‹¡.h
"

15 
	#PCI_CONF_TYPE_NONE
 0

	)

16 
	#PCI_CONF_TYPE_1
 1

	)

17 
	#PCI_CONF_TYPE_2
 2

	)

19 
ıu_id’t
 
ıu_id
;

21 
	gpci_cÚf_ty³
 = 
PCI_CONF_TYPE_NONE
;

23 
	#PCI_CONF1_ADDRESS
(
bus
, 
dev
, 
â
, 
»g
) \

24 (0x80000000 | (
bus
 << 16è| (
dev
 << 11è| (
â
 << 8è| (
»g
 & ~3))

	)

26 
	#PCI_CONF2_ADDRESS
(
dev
, 
»g
è()(0xC000 | (dev << 8è|„eg)

	)

28 
	#PCI_CONF3_ADDRESS
(
bus
, 
dev
, 
â
, 
»g
) \

29 (0x80000000 | (((
»g
 >> 8è& 0xFè<< 24è| (
bus
 << 16è| ((
dev
 & 0x1Fè<< 11è| (
â
 << 8è| (»g & 0xFF))

	)

31 
	$pci_cÚf_»ad
(
bus
, 
dev
, 
â
, 
»g
, 
Ën
, *
v®ue
)

33 
»suÉ
;

35 ià(!
v®ue
 || (
bus
 > 255è|| (
dev
 > 31è|| (
â
 > 7è|| (
»g
 > 255 && 
pci_cÚf_ty³
 !ğ
PCI_CONF_TYPE_1
))

38 
»suÉ
 = -1;

39 
pci_cÚf_ty³
) {

40 
PCI_CONF_TYPE_1
:

41 if(
»g
 < 256){

42 
	`ou
(
	`PCI_CONF1_ADDRESS
(
bus
, 
dev
, 
â
, 
»g
), 0xCF8);

44 
	`ou
(
	`PCI_CONF3_ADDRESS
(
bus
, 
dev
, 
â
, 
»g
), 0xCF8);

46 
Ën
) {

47 1: *
v®ue
 = 
	`šb
(0xCFC + (
»g
 & 3)); 
»suÉ
 = 0; ;

48 2: *
v®ue
 = 
	`šw
(0xCFC + (
»g
 & 2)); 
»suÉ
 = 0; ;

49 4: *
v®ue
 = 
	`šl
(0xCFC); 
»suÉ
 = 0; ;

52 
PCI_CONF_TYPE_2
:

53 
	`outb
(0xF0 | (
â
 << 1), 0xCF8);

54 
	`outb
(
bus
, 0xCFA);

56 
Ën
) {

57 1: *
v®ue
 = 
	`šb
(
	`PCI_CONF2_ADDRESS
(
dev
, 
»g
)); 
»suÉ
 = 0; ;

58 2: *
v®ue
 = 
	`šw
(
	`PCI_CONF2_ADDRESS
(
dev
, 
»g
)); 
»suÉ
 = 0; ;

59 4: *
v®ue
 = 
	`šl
(
	`PCI_CONF2_ADDRESS
(
dev
, 
»g
)); 
»suÉ
 = 0; ;

61 
	`outb
(0, 0xCF8);

64  
»suÉ
;

65 
	}
}

67 
	$pci_cÚf_wr™e
(
bus
, 
dev
, 
â
, 
»g
, 
Ën
, 
v®ue
)

69 
»suÉ
;

71 ià((
bus
 > 255è|| (
dev
 > 31è|| (
â
 > 7è|| (
»g
 > 255))

74 
»suÉ
 = -1;

75 
pci_cÚf_ty³
) {

76 
PCI_CONF_TYPE_1
:

77 
	`ou
(
	`PCI_CONF1_ADDRESS
(
bus
, 
dev
, 
â
, 
»g
), 0xCF8);

78 
Ën
) {

79 1: 
	`outb
(
v®ue
, 0xCFC + (
»g
 & 3)); 
»suÉ
 = 0; ;

80 2: 
	`outw
(
v®ue
, 0xCFC + (
»g
 & 2)); 
»suÉ
 = 0; ;

81 4: 
	`ou
(
v®ue
, 0xCFC); 
»suÉ
 = 0; ;

84 
PCI_CONF_TYPE_2
:

85 
	`outb
(0xF0 | (
â
 << 1), 0xCF8);

86 
	`outb
(
bus
, 0xCFA);

88 
Ën
) {

89 1: 
	`outb
(
v®ue
, 
	`PCI_CONF2_ADDRESS
(
dev
, 
»g
)); 
»suÉ
 = 0; ;

90 2: 
	`outw
(
v®ue
, 
	`PCI_CONF2_ADDRESS
(
dev
, 
»g
)); 
»suÉ
 = 0; ;

91 4: 
	`ou
(
v®ue
, 
	`PCI_CONF2_ADDRESS
(
dev
, 
»g
)); 
»suÉ
 = 0; ;

93 
	`outb
(0, 0xCF8);

96  
»suÉ
;

97 
	}
}

99 
	$pci_§n™y_check
()

101 
v®ue
;

102 
»suÉ
;

108 
»suÉ
 = 
	`pci_cÚf_»ad
(0, 0, 0, 
PCI_CLASS_DEVICE
, 2, &
v®ue
);

109 ià(
»suÉ
 == 0) {

110 
»suÉ
 = -1;

111 ià(
v®ue
 =ğ
PCI_CLASS_BRIDGE_HOST
) {

112 
»suÉ
 = 0;

115  
»suÉ
;

116 
	}
}

118 
	$pci_check_dœeù
()

120 
tmpCFB
;

121 
tmpCF8
;

123 ià(
ıu_id
.
v’d_id
[0] =ğ'A' && cpu_id.
ty³
 == 15) {

124 
pci_cÚf_ty³
 = 
PCI_CONF_TYPE_1
;

128 
pci_cÚf_ty³
 = 
PCI_CONF_TYPE_1
;

129 
tmpCFB
 = 
	`šb
(0xCFB);

130 
	`outb
(0x01, 0xCFB);

131 
tmpCF8
 = 
	`šl
(0xCF8);

132 
	`ou
(0x80000000, 0xCF8);

133 ià((
	`šl
(0xCF8è=ğ0x80000000è&& (
	`pci_§n™y_check
() == 0)) {

134 
	`ou
(
tmpCF8
, 0xCF8);

135 
	`outb
(
tmpCFB
, 0xCFB);

138 
	`ou
(
tmpCF8
, 0xCF8);

141 
pci_cÚf_ty³
 = 
PCI_CONF_TYPE_2
;

142 
	`outb
(0x00, 0xCFB);

143 
	`outb
(0x00, 0xCF8);

144 
	`outb
(0x00, 0xCFA);

145 ià(
	`šb
(0xCF8è=ğ0x00 && inb(0xCFAè=ğ0x00 && (
	`pci_§n™y_check
() == 0)) {

146 
	`outb
(
tmpCFB
, 0xCFB);

150 
	`outb
(
tmpCFB
, 0xCFB);

153 
pci_cÚf_ty³
 = 
PCI_CONF_TYPE_NONE
;

157 
	}
}

159 
	$pci_š™
()

161 
»suÉ
;

165 
»suÉ
 = 
	`pci_check_dœeù
();

166  
»suÉ
;

167 
	}
}

	@pci.h

1 #iâdeà
MEMTEST_PCI_H


2 
	#MEMTEST_PCI_H


	)

4 
pci_cÚf_»ad
(
bus
, 
dev
, 
â
, 
»g
,

5 
Ën
, *
v®ue
);

6 
pci_cÚf_wr™e
(
bus
, 
dev
, 
â
, 
»g
,

7 
Ën
, 
v®ue
);

8 
pci_š™
();

15 
	#PCI_VENDOR_ID
 0x00

	)

16 
	#PCI_DEVICE_ID
 0x02

	)

17 
	#PCI_COMMAND
 0x04

	)

18 
	#PCI_COMMAND_IO
 0x1

	)

19 
	#PCI_COMMAND_MEMORY
 0x2

	)

20 
	#PCI_COMMAND_MASTER
 0x4

	)

21 
	#PCI_COMMAND_SPECIAL
 0x8

	)

22 
	#PCI_COMMAND_INVALIDATE
 0x10

	)

23 
	#PCI_COMMAND_VGA_PALETTE
 0x20

	)

24 
	#PCI_COMMAND_PARITY
 0x40

	)

25 
	#PCI_COMMAND_WAIT
 0x80

	)

26 
	#PCI_COMMAND_SERR
 0x100

	)

27 
	#PCI_COMMAND_FAST_BACK
 0x200

	)

29 
	#PCI_STATUS
 0x06

	)

30 
	#PCI_STATUS_CAP_LIST
 0x10

	)

31 
	#PCI_STATUS_66MHZ
 0x20

	)

32 
	#PCI_STATUS_UDF
 0x40

	)

33 
	#PCI_STATUS_FAST_BACK
 0x80

	)

34 
	#PCI_STATUS_PARITY
 0x100

	)

35 
	#PCI_STATUS_DEVSEL_MASK
 0x600

	)

36 
	#PCI_STATUS_DEVSEL_FAST
 0x000

	)

37 
	#PCI_STATUS_DEVSEL_MEDIUM
 0x200

	)

38 
	#PCI_STATUS_DEVSEL_SLOW
 0x400

	)

39 
	#PCI_STATUS_SIG_TARGET_ABORT
 0x800

	)

40 
	#PCI_STATUS_REC_TARGET_ABORT
 0x1000

	)

41 
	#PCI_STATUS_REC_MASTER_ABORT
 0x2000

	)

42 
	#PCI_STATUS_SIG_SYSTEM_ERROR
 0x4000

	)

43 
	#PCI_STATUS_DETECTED_PARITY
 0x8000

	)

45 
	#PCI_CLASS_REVISION
 0x08

	)

47 
	#PCI_REVISION_ID
 0x08

	)

48 
	#PCI_CLASS_PROG
 0x09

	)

49 
	#PCI_CLASS_DEVICE
 0x0¨

	)

51 
	#PCI_CACHE_LINE_SIZE
 0x0ø

	)

52 
	#PCI_LATENCY_TIMER
 0x0d

	)

53 
	#PCI_HEADER_TYPE
 0x0

	)

54 
	#PCI_HEADER_TYPE_NORMAL
 0

	)

55 
	#PCI_HEADER_TYPE_BRIDGE
 1

	)

56 
	#PCI_HEADER_TYPE_CARDBUS
 2

	)

58 
	#PCI_BIST
 0x0à

	)

59 
	#PCI_BIST_CODE_MASK
 0x0à

	)

60 
	#PCI_BIST_START
 0x40

	)

61 
	#PCI_BIST_CAPABLE
 0x80

	)

69 
	#PCI_BASE_ADDRESS_0
 0x10

	)

70 
	#PCI_BASE_ADDRESS_1
 0x14

	)

71 
	#PCI_BASE_ADDRESS_2
 0x18

	)

72 
	#PCI_BASE_ADDRESS_3
 0x1ø

	)

73 
	#PCI_BASE_ADDRESS_4
 0x20

	)

74 
	#PCI_BASE_ADDRESS_5
 0x24

	)

75 
	#PCI_BASE_ADDRESS_SPACE
 0x01

	)

76 
	#PCI_BASE_ADDRESS_SPACE_IO
 0x01

	)

77 
	#PCI_BASE_ADDRESS_SPACE_MEMORY
 0x00

	)

78 
	#PCI_BASE_ADDRESS_MEM_TYPE_MASK
 0x06

	)

79 
	#PCI_BASE_ADDRESS_MEM_TYPE_32
 0x00

	)

80 
	#PCI_BASE_ADDRESS_MEM_TYPE_1M
 0x02

	)

81 
	#PCI_BASE_ADDRESS_MEM_TYPE_64
 0x04

	)

82 
	#PCI_BASE_ADDRESS_MEM_PREFETCH
 0x08

	)

83 
	#PCI_BASE_ADDRESS_MEM_MASK
 (~0x0fUL)

	)

84 
	#PCI_BASE_ADDRESS_IO_MASK
 (~0x03UL)

	)

89 
	#PCI_CLASS_NOT_DEFINED
 0x0000

	)

90 
	#PCI_CLASS_NOT_DEFINED_VGA
 0x0001

	)

92 
	#PCI_BASE_CLASS_BRIDGE
 0x06

	)

93 
	#PCI_CLASS_BRIDGE_HOST
 0x0600

	)

	@random.c

6 
¿nd
( );

7 
¿nd_£ed
( , );

10 
	#¿nd_æßt
 (()
	`¿nd
(è/ 4294967296.0)

	)

12 
	gSEED_X
 = 521288629;

13 
	gSEED_Y
 = 362436069;

16 
	$¿nd
 ()

18 
a
 = 18000, 
b
 = 30903;

20 
SEED_X
 = 
a
*(SEED_X&65535) + (SEED_X>>16);

21 
SEED_Y
 = 
b
*(SEED_Y&65535) + (SEED_Y>>16);

23  ((
SEED_X
<<16è+ (
SEED_Y
&65535));

24 
	}
}

27 
	$¿nd_£ed
Ğ
£ed1
, 
£ed2
 )

29 ià(
£ed1
è
SEED_X
 = seed1;

30 ià(
£ed2
è
SEED_Y
 = seed2;

31 
	}
}

	@reloc.c

1 
	~<¡ddef.h
>

2 
	~"¡dšt.h
"

3 
	~"–f.h
"

4 
	~<¡ršg.h
>

6 
	#__ELF_NATIVE_CLASS
 32

	)

7 
	#ELF_MACHINE_NO_RELA
 1

	)

12 
	#ElfW
(
ty³
è
	`_ElfW
 (
Elf
, 
__ELF_NATIVE_CLASS
,y³)

	)

13 
	#_ElfW
(
e
,
w
,
t
è
	`_ElfW_1
 (e, w, 
_
##t)

	)

14 
	#_ElfW_1
(
e
,
w
,
t
èe##w##
	)
t

17 
	#ELFW
(
ty³
è
	`_ElfW
 (
ELF
, 
__ELF_NATIVE_CLASS
,y³)

	)

19 
	#as£¹
(
ex´
è((è0)

	)

23 
	#RTLD_BOOTSTRAP


	)

25 
	slšk_m­


27 
ElfW
(
Addr
è
	ml_addr
;

28 
ElfW
(
Addr
è
	mÎ_addr
;

29 
ElfW
(
Dyn
è*
	ml_ld
;

39 
ElfW
(
Dyn
è*
	ml_šfo
[
DT_NUM
 + 
DT_PROCNUM
 + 
DT_EXTRANUM
];

46 
šlše
 
Elf32_Addr
 
__©Œibu‹__
 ((
unu£d
))

47 
	$–f_machše_dyÇmic
 ()

49 
Elf32_Addr
 *
gÙ
 
	`asm
 ("%ebx");

50  *
gÙ
;

51 
	}
}

54 
šlše
 
Elf32_Addr
 
__©Œibu‹__
 ((
unu£d
))

55 
	$–f_machše_lßd_add»ss
 ()

57 
Elf32_Addr
 
addr
;

58 
asm
 volatile ("leal _start@GOTOFF(%%ebx), %0\n"

59 : "ô" (
addr
) : : "cc");

60  
addr
;

61 
	}
}

65 
šlše
 

66 
	$–f_machše_»l
 (
lšk_m­
 *
m­
, cÚ¡ 
Elf32_R–
 *
»loc
,

67 cÚ¡ 
Elf32_Sym
 *
sym
, 
Elf32_Addr
 *cÚ¡ 
»loc_addr
)

69 
Elf32_Addr
 
ls_addr
, 
s_addr
;

70 
Elf32_Addr
 
v®ue
;

71 ià(
	`ELF32_R_TYPE
 (
»loc
->
r_šfo
è=ğ
R_386_RELATIVE
)

73 *
»loc_addr
 +ğ
m­
->
l_addr
 - m­->
Î_addr
;

76 ià(
	`ELF32_R_TYPE
(
»loc
->
r_šfo
è=ğ
R_386_NONE
) {

79 
v®ue
 = 
sym
->
¡_v®ue
;

81 
ls_addr
 = 
sym
->
¡_shndx
 =ğ
SHN_UNDEF
 ? 0 : 
m­
->
Î_addr
;

82 
s_addr
 = 
sym
->
¡_shndx
 =ğ
SHN_UNDEF
 ? 0 : 
m­
->
l_addr
;

84 
	`ELF32_R_TYPE
 (
»loc
->
r_šfo
))

86 
R_386_COPY
:

89 *
de¡
, *
¤c
;

90 
i
;

91 
de¡
 = (*)
»loc_addr
;

92 
¤c
 = (*)(
v®ue
 + 
s_addr
);

93 
i
 = 0; i < 
sym
->
¡_size
; i++) {

94 
de¡
[
i
] = 
¤c
[i];

98 
R_386_GLOB_DAT
:

99 *
»loc_addr
 = 
s_addr
 + 
v®ue
;

101 
R_386_JMP_SLOT
:

102 *
»loc_addr
 = 
s_addr
 + 
v®ue
;

104 
R_386_32
:

105 ià(
m­
->
Î_addr
 == 0) {

106 *
»loc_addr
 +ğ
v®ue
;

108 *
»loc_addr
 +ğ
s_addr
 - 
ls_addr
;

110 
R_386_PC32
:

111 ià(
m­
->
Î_addr
 == 0) {

112 *
»loc_addr
 +ğ
v®ue
 - 
»loc
->
r_off£t
;

114 *
»loc_addr
 +ğ(
s_addr
 - 
m­
->
l_addr
è- (
ls_addr
 - m­->
Î_addr
);

117 
	`as£¹
 (! "unexpected dynamic„elocype");

120 
	}
}

124 
šlše
 
__©Œibu‹__
 ((
unu£d
))

125 
–f_g‘_dyÇmic_šfo
(
ElfW
(
Dyn
è*
dyn
, 
	$ElfW
(
Addr
è
l_addr
,

126 
	`ElfW
(
Dyn
è*
šfo
[
DT_NUM
 + 
DT_PROCNUM
 + 
DT_EXTRANUM
])

128 ià(! 
dyn
)

131 
dyn
->
d_g
 !ğ
DT_NULL
)

133 ià(
dyn
->
d_g
 < 
DT_NUM
)

134 
šfo
[
dyn
->
d_g
] = dyn;

135 ià(
dyn
->
d_g
 >ğ
DT_LOPROC
 &&

136 
dyn
->
d_g
 < 
DT_LOPROC
 + 
DT_PROCNUM
)

137 
šfo
[
dyn
->
d_g
 - 
DT_LOPROC
 + 
DT_NUM
] = dyn;

138 ià((
Elf32_WÜd
è
	`DT_EXTRATAGIDX
 (
dyn
->
d_g
è< 
DT_EXTRANUM
)

139 
šfo
[
	`DT_EXTRATAGIDX
 (
dyn
->
d_g
è+ 
DT_NUM
 + 
DT_PROCNUM


140 ] = 
dyn
;

142 
	`as£¹
 (! "bad dynamicag");

143 ++
dyn
;

146 ià(
šfo
[
DT_PLTGOT
] !ğ
NULL
)

147 
šfo
[
DT_PLTGOT
]->
d_un
.
d_±r
 +ğ
l_addr
;

148 ià(
šfo
[
DT_STRTAB
] !ğ
NULL
)

149 
šfo
[
DT_STRTAB
]->
d_un
.
d_±r
 +ğ
l_addr
;

150 ià(
šfo
[
DT_SYMTAB
] !ğ
NULL
)

151 
šfo
[
DT_SYMTAB
]->
d_un
.
d_±r
 +ğ
l_addr
;

152 #ià! 
ELF_MACHINE_NO_RELA


153 ià(
šfo
[
DT_RELA
] !ğ
NULL
)

155 
	`as£¹
 (
šfo
[
DT_RELAENT
]->
d_un
.
d_v®
 =ğ (
	`ElfW
(
R–a
)));

156 
šfo
[
DT_RELA
]->
d_un
.
d_±r
 +ğ
l_addr
;

159 #ià! 
ELF_MACHINE_NO_REL


160 ià(
šfo
[
DT_REL
] !ğ
NULL
)

162 
	`as£¹
 (
šfo
[
DT_RELENT
]->
d_un
.
d_v®
 =ğ (
	`ElfW
(
R–
)));

163 
šfo
[
DT_REL
]->
d_un
.
d_±r
 +ğ
l_addr
;

166 ià(
šfo
[
DT_PLTREL
] !ğ
NULL
)

168 #ià
ELF_MACHINE_NO_RELA


169 
	`as£¹
 (
šfo
[
DT_PLTREL
]->
d_un
.
d_v®
 =ğ
DT_REL
);

170 #–ià
ELF_MACHINE_NO_REL


171 
	`as£¹
 (
šfo
[
DT_PLTREL
]->
d_un
.
d_v®
 =ğ
DT_RELA
);

173 
	`as£¹
 (
šfo
[
DT_PLTREL
]->
d_un
.
d_v®
 =ğ
DT_REL


174 || 
šfo
[
DT_PLTREL
]->
d_un
.
d_v®
 =ğ
DT_RELA
);

177 ià(
šfo
[
DT_JMPREL
] !ğ
NULL
)

178 
šfo
[
DT_JMPREL
]->
d_un
.
d_±r
 +ğ
l_addr
;

179 
	}
}

188 
šlše
 

189 
–f_dyÇmic_do_»l
 (
lšk_m­
 *
m­
,

190 
	$ElfW
(
Addr
è
»Ïddr
, 
	$ElfW
(
Addr
è
»lsize
)

192 cÚ¡ 
	`ElfW
(
R–
è*
r
 = (cÚ¡ *è
»Ïddr
;

193 cÚ¡ 
	`ElfW
(
R–
è*
’d
 = (cÚ¡ *è(
»Ïddr
 + 
»lsize
);

195 cÚ¡ 
	`ElfW
(
Sym
è*cÚ¡ 
symb
 =

196 (cÚ¡ *è
m­
->
l_šfo
[
DT_SYMTAB
]->
d_un
.
d_±r
;

198 ; 
r
 < 
’d
; ++r) {

199 
	`–f_machše_»l
 (
m­
, 
r
, &
symb
[
	`ELFW
(
R_SYM
èÔ->
r_šfo
)],

200 (*è(
m­
->
l_addr
 + 
r
->
r_off£t
));

202 
	}
}

205 
	$_dl_¡¬t
()

207 
Elf32_Addr
 
Ï¡_lßd_add»ss
 = 0;

208 
lšk_m­
 
m­
;

209 
size_t
 
út
;

215 
út
 = 0; cÁ < (
m­
.
l_šfo
) / (map.l_info[0]); ++cnt) {

216 
m­
.
l_šfo
[
út
] = 0;

220 
m­
.
Î_addr
 = 
Ï¡_lßd_add»ss
;

223 
Ï¡_lßd_add»ss
 = 
m­
.
l_addr
 = 
	`–f_machše_lßd_add»ss
();

226 
m­
.
l_ld
 = (*)m­.
l_addr
 + 
	`–f_machše_dyÇmic
();

228 
	`–f_g‘_dyÇmic_šfo
 (
m­
.
l_ld
, m­.
l_addr
 - m­.
Î_addr
, m­.
l_šfo
);

233 #ià!
ELF_MACHINE_NO_REL


234 
	`–f_dyÇmic_do_»l
(&
m­
,

235 
m­
.
l_šfo
[
DT_REL
]->
d_un
.
d_±r
,

236 
m­
.
l_šfo
[
DT_RELSZ
]->
d_un
.
d_v®
);

237 ià(
m­
.
l_šfo
[
DT_PLTREL
]->
d_un
.
d_v®
 =ğ
DT_REL
) {

238 
	`–f_dyÇmic_do_»l
(&
m­
,

239 
m­
.
l_šfo
[
DT_JMPREL
]->
d_un
.
d_±r
,

240 
m­
.
l_šfo
[
DT_PLTRELSZ
]->
d_un
.
d_v®
);

244 #ià!
ELF_MACHINE_NO_RELA


245 
	`–f_dyÇmic_do_»Ï
(&
m­
,

246 
m­
.
l_šfo
[
DT_RELA
]->
d_un
.
d_±r
,

247 
m­
.
l_šfo
[
DT_RELASZ
]->
d_un
.
d_v®
);

248 ià(
m­
.
l_šfo
[
DT_PLTREL
]->
d_un
.
d_v®
 =ğ
DT_RELA
) {

249 
	`–f_dyÇmic_do_»Ï
(&
m­
,

250 
m­
.
l_šfo
[
DT_JMPREL
]->
d_un
.
d_±r
,

251 
m­
.
l_šfo
[
DT_PLTRELSZ
]->
d_un
.
d_v®
);

262 
	}
}

	@screen_buffer.c

13 
	~"‹¡.h
"

14 
	~"sü“n_bufãr.h
"

17 
	#SCREEN_X
 80

	)

18 
	#SCREEN_Y
 25

	)

19 
	#Y_SIZE
 
SCREEN_Y


	)

24 
	#X_SIZE
 
SCREEN_X
+1

	)

26 
	gsü“n_buf
[
Y_SIZE
][
X_SIZE
];

28 #ifdeà
SCRN_DEBUG


30 *
	g·ddšg
 = "12345678901234567890123456789012345678901234567890123456789012345678901234567890";

32 
	#CHECK_BOUNDS
(
y
,
x
èdØ{ià(y < 0 || 
Y_SIZE
 <ğy || x < 0 || 
X_SIZE
 <ğxè
	`´št_”rÜ
("ouˆoàšdex");}0)

	)

36 
	#CHECK_BOUNDS
(
y
,
x
)

	)

41 
	$g‘_sün_buf
(cÚ¡ 
y
,

42 cÚ¡ 
x
)

44 
	`CHECK_BOUNDS
(
y
,
x
);

45  
sü“n_buf
[
y
][
x
];

46 
	}
}

50 
	$£t_sün_buf
(cÚ¡ 
y
,

51 cÚ¡ 
x
,

52 cÚ¡ 
v®
)

54 
	`CHECK_BOUNDS
(
y
,
x
);

55 
sü“n_buf
[
y
][
x
] = 
v®
;

56 
	}
}

58 
	$ş—r_sü“n_buf
()

60 
y
, 
x
;

62 
y
=0; y < 
SCREEN_Y
; ++y){

63 
x
=0; x < 
SCREEN_X
; ++x){

64 
	`CHECK_BOUNDS
(
y
,
x
);

65 
sü“n_buf
[
y
][
x
] = ' ';

67 
	`CHECK_BOUNDS
(
y
,
SCREEN_X
);

68 
sü“n_buf
[
y
][
SCREEN_X
] = '\0';

70 
	}
}

72 
	$‰y_´št_»giÚ
(cÚ¡ 
pi_tİ
,

73 cÚ¡ 
pi_Ëá
,

74 cÚ¡ 
pi_bÙtom
,

75 cÚ¡ 
pi_right
)

77 
y
;

78 
tmp
;

80 
y
=
pi_tİ
; y < 
pi_bÙtom
; ++y){

81 
	`CHECK_BOUNDS
(
y
, 
pi_right
);

83 
tmp
 = 
sü“n_buf
[
y
][
pi_right
];

84 
sü“n_buf
[
y
][
pi_right
] = '\0';

86 
	`CHECK_BOUNDS
(
y
, 
pi_Ëá
);

87 
	`‰y´št
(
y
, 
pi_Ëá
, &(
sü“n_buf
[y][pi_left]));

89 
sü“n_buf
[
y
][
pi_right
] = 
tmp
;

91 
	}
}

93 
	$‰y_´št_lše
(

94 
y
, 
x
, cÚ¡ *
‹xt
)

96 ; *
‹xt
 && (
x
 < 
SCREEN_X
); x++,ext++) {

97 ià(*
‹xt
 !ğ
sü“n_buf
[
y
][
x
]) {

102 ià(*
‹xt
 == '\0') {

105 
	`‰y´št
(
y
, 
x
, 
‹xt
);

106 ; *
‹xt
 && (
x
 < 
SCREEN_X
); x++,ext++) {

107 
sü“n_buf
[
y
][
x
] = *
‹xt
;

109 
	}
}

112 
	$‰y_´št_sü“n
()

114 #ifdeà
SCRN_DEBUG


115 
i
;

117 
i
=0; i < 
SCREEN_Y
; ++i)

118 
	`‰y´št
(
i
,0, 
·ddšg
);

121 
	`‰y_´št_»giÚ
(0, 0, 
SCREEN_Y
, 
SCREEN_X
);

122 
	}
}

124 
	$´št_”rÜ
(*
p¡r
)

127 #ifdeà
SCRN_DEBUG


128 
	`‰y´št
(0,0, 
·ddšg
);

131 
	`‰y´št
(0,35, 
p¡r
);

134 
	}
}

	@screen_buffer.h

13 #iâdeà
SCREEN_BUFFER_H_1D10F83B_INCLUDED


14 
	#SCREEN_BUFFER_H_1D10F83B_INCLUDED


	)

16 
	~"cÚfig.h
"

18 
g‘_sün_buf
(cÚ¡ 
y
, cÚ¡ 
x
);

19 
£t_sün_buf
(cÚ¡ 
y
, cÚ¡ 
x
, cÚ¡ 
v®
);

20 
ş—r_sü“n_buf
();

21 
‰y_´št_»giÚ
(cÚ¡ 
pi_tİ
,cÚ¡ 
pi_Ëá
, cÚ¡ 
pi_bÙtom
,cÚ¡ 
pi_right
);

22 
‰y_´št_lše
(
y
, 
x
, cÚ¡ *
‹xt
);

23 
‰y_´št_sü“n
();

24 
´št_”rÜ
(*
p¡r
);

	@serial.h

14 #iâdeà
_LINUX_SERIAL_REG_H


15 
	#_LINUX_SERIAL_REG_H


	)

17 
	#UART_RX
 0

	)

18 
	#UART_TX
 0

	)

19 
	#UART_DLL
 0

	)

20 
	#UART_DLM
 1

	)

21 
	#UART_IER
 1

	)

22 
	#UART_IIR
 2

	)

23 
	#UART_FCR
 2

	)

24 
	#UART_EFR
 2

	)

26 
	#UART_LCR
 3

	)

27 
	#UART_MCR
 4

	)

28 
	#UART_LSR
 5

	)

29 
	#UART_MSR
 6

	)

30 
	#UART_SCR
 7

	)

38 
	#UART_FCR_ENABLE_FIFO
 0x01

	)

39 
	#UART_FCR_CLEAR_RCVR
 0x02

	)

40 
	#UART_FCR_CLEAR_XMIT
 0x04

	)

41 
	#UART_FCR_DMA_SELECT
 0x08

	)

42 
	#UART_FCR_TRIGGER_MASK
 0xC0

	)

43 
	#UART_FCR_TRIGGER_1
 0x00

	)

44 
	#UART_FCR_TRIGGER_4
 0x40

	)

45 
	#UART_FCR_TRIGGER_8
 0x80

	)

46 
	#UART_FCR_TRIGGER_14
 0xC0

	)

48 
	#UART_FCR6_R_TRIGGER_8
 0x00

	)

49 
	#UART_FCR6_R_TRIGGER_16
 0x40

	)

50 
	#UART_FCR6_R_TRIGGER_24
 0x80

	)

51 
	#UART_FCR6_R_TRIGGER_28
 0xC0

	)

52 
	#UART_FCR6_T_TRIGGER_16
 0x00

	)

53 
	#UART_FCR6_T_TRIGGER_8
 0x10

	)

54 
	#UART_FCR6_T_TRIGGER_24
 0x20

	)

55 
	#UART_FCR6_T_TRIGGER_30
 0x30

	)

63 
	#UART_LCR_DLAB
 0x80

	)

64 
	#UART_LCR_SBC
 0x40

	)

65 
	#UART_LCR_SPAR
 0x20

	)

66 
	#UART_LCR_EPAR
 0x10

	)

67 
	#UART_LCR_PARITY
 0x08

	)

68 
	#UART_LCR_STOP
 0x04

	)

69 
	#UART_LCR_WLEN5
 0x00

	)

70 
	#UART_LCR_WLEN6
 0x01

	)

71 
	#UART_LCR_WLEN7
 0x02

	)

72 
	#UART_LCR_WLEN8
 0x03

	)

77 
	#UART_LSR_TEMT
 0x40

	)

78 
	#UART_LSR_THRE
 0x20

	)

79 
	#UART_LSR_BI
 0x10

	)

80 
	#UART_LSR_FE
 0x08

	)

81 
	#UART_LSR_PE
 0x04

	)

82 
	#UART_LSR_OE
 0x02

	)

83 
	#UART_LSR_DR
 0x01

	)

88 
	#UART_IIR_NO_INT
 0x01

	)

89 
	#UART_IIR_ID
 0x06

	)

91 
	#UART_IIR_MSI
 0x00

	)

92 
	#UART_IIR_THRI
 0x02

	)

93 
	#UART_IIR_RDI
 0x04

	)

94 
	#UART_IIR_RLSI
 0x06

	)

99 
	#UART_IER_MSI
 0x08

	)

100 
	#UART_IER_RLSI
 0x04

	)

101 
	#UART_IER_THRI
 0x02

	)

102 
	#UART_IER_RDI
 0x01

	)

107 
	#UART_MCR_LOOP
 0x10

	)

108 
	#UART_MCR_OUT2
 0x08

	)

109 
	#UART_MCR_OUT1
 0x04

	)

110 
	#UART_MCR_RTS
 0x02

	)

111 
	#UART_MCR_DTR
 0x01

	)

116 
	#UART_MSR_DCD
 0x80

	)

117 
	#UART_MSR_RI
 0x40

	)

118 
	#UART_MSR_DSR
 0x20

	)

119 
	#UART_MSR_CTS
 0x10

	)

120 
	#UART_MSR_DDCD
 0x08

	)

121 
	#UART_MSR_TERI
 0x04

	)

122 
	#UART_MSR_DDSR
 0x02

	)

123 
	#UART_MSR_DCTS
 0x01

	)

124 
	#UART_MSR_ANY_DELTA
 0x0F

	)

130 
	#UART_EFR_CTS
 0x80

	)

131 
	#UART_EFR_RTS
 0x40

	)

132 
	#UART_EFR_SCD
 0x20

	)

133 
	#UART_EFR_ENI
 0x10

	)

138 
	~"io.h
"

139 
	#£rŸl_echo_outb
(
v
,
a
è
	`outb
((v),×)+
£rŸl_ba£_pÜts
[
£rŸl_‰y
])

	)

140 
	#£rŸl_echo_šb
(
a
è
	`šb
(×)+
£rŸl_ba£_pÜts
[
£rŸl_‰y
])

	)

141 
	#BOTH_EMPTY
 (
UART_LSR_TEMT
 | 
UART_LSR_THRE
)

	)

143 
	#WAIT_FOR_XMITR
 \

145 
l¤
 = 
	`£rŸl_echo_šb
(
UART_LSR
); \

146 } (
l¤
 & 
BOTH_EMPTY
è!ğBOTH_EMPTY)

	)

149 
šlše
 
	$£rŸl_echo
(
ch
)

151 
l¤
;

152 
WAIT_FOR_XMITR
;

153 
	`£rŸl_echo_outb
(
ch
, 
UART_TX
);

154 
	}
}

155 
šlše
 
	$£rŸl_debug
(
ch
)

157 
	`£rŸl_echo
(
ch
);

158 
	`£rŸl_echo
('\r');

159 
	`£rŸl_echo
('\n');

160 
	}
}

	@smp.c

13 
	~"¡ddef.h
"

14 
	~"smp.h
"

15 
	~"ıuid.h
"

16 
	~"‹¡.h
"

17 
	#DELAY_FACTOR
 1

	)

18 
memıy
(*
d¡
, *
¤c
 , 
Ën
);

19 
‹¡_¡¬t
();

22 
boŞ
 
	m¡¬‹d
;

23 } 
	t­_šfo_t
;

25 vŞ©
­ic_»gi¡”_t
 *
	gAPIC
 = 
NULL
;

26 
	gnumb”_of_ıus
 = 1;

28 
	gıu_num_to_­ic_id
[
MAX_CPUS
];

29 vŞ©
­_šfo_t
 
	gAP
[
MAX_CPUS
];

31 
ušt8_t


32 
	$checksum
(
ušt8_t
 *
d©a
, 
Ën
)

34 
ušt32_t
 
sum
 = 0;

35 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

36 
d©a
 < 
’d
) {

37 
sum
 +ğ*
d©a
;

38 
d©a
++;

40  (
ušt8_t
)(
sum
 % 0x100);

41 
	}
}

44 
boŞ


45 
	$»ad_mp_cÚfig_bË
(
ušŒ_t
 
addr
)

47 
mp_cÚfig_bË_h—d”_t
 *
mpc
 = (mp_cÚfig_bË_h—d”_t*)
addr
;

48 
ušt8_t
 *
b_’Œy_±r
;

49 
ušt8_t
 *
mpc_bË_’d
;

50 
num_hy³r_th»ads_³r_cÜe
;

52 ià(
mpc
->
sigÇtu»
 !ğ
MPCSigÇtu»
) {

53  
FALSE
;

55 ià(
	`checksum
((
ušt8_t
*)
mpc
, mpc->
Ëngth
) != 0) {

56  
FALSE
;

64 
APIC
 = (vŞ©
­ic_»gi¡”_t
*)(
ušŒ_t
)
mpc
->
Ïpic_addr
;

66 
b_’Œy_±r
 = ((
ušt8_t
*)
mpc
è+ (
mp_cÚfig_bË_h—d”_t
);

67 
mpc_bË_’d
 = ((
ušt8_t
*)
mpc
è+ mpc->
Ëngth
;

68 
b_’Œy_±r
 < 
mpc_bË_’d
) {

69 *
b_’Œy_±r
) {

70 
MP_PROCESSOR
: {

71 
mp_´oûssÜ_’Œy_t
 *
³
 = (mp_´oûssÜ_’Œy_t*)
b_’Œy_±r
;

73 ià(
³
->
ıu_æag
 & 
CPU_BOOTPROCESSOR
) {

75 
ıu_num_to_­ic_id
[0] = 
³
->
­ic_id
;

76 } ià(
numb”_of_ıus
 < 
MAX_CPUS
) {

77 
ıu_num_to_­ic_id
[
numb”_of_ıus
] = 
³
->
­ic_id
;

78 
numb”_of_ıus
++;

80 ià(
num_hy³r_th»ads_³r_cÜe
 > 1 ) {

81 
ıu_num_to_­ic_id
[
numb”_of_ıus
] = 
³
->
­ic_id
 | 1;

82 
numb”_of_ıus
++;

86 ià((
³
->
­ic_v”
 & 0xf0) != 0x10) {

92 
b_’Œy_±r
 +ğ(
mp_´oûssÜ_’Œy_t
);

95 
MP_BUS
: {

96 
b_’Œy_±r
 +ğ(
mp_bus_’Œy_t
);

99 
MP_IOAPIC
: {

100 
b_’Œy_±r
 +ğ(
mp_io_­ic_’Œy_t
);

103 
MP_INTSRC
:

104 
b_’Œy_±r
 +ğ(
mp_š‹¼u±_’Œy_t
);

105 
MP_LINTSRC
:

106 
b_’Œy_±r
 +ğ(
mp_loÿl_š‹¼u±_’Œy_t
);

109  
FALSE
;

112  
TRUE
;

113 
	}
}

116 
æßtšg_poš‹r_¡ruù_t
 *

117 
	$sÿn_fÜ_æßtšg_±r_¡ruù
(
ušŒ_t
 
addr
, 
ušt32_t
 
Ëngth
)

119 
æßtšg_poš‹r_¡ruù_t
 *
å
;

120 
ušŒ_t
 
’d
 = 
addr
 + 
Ëngth
;

123 
å
 = (
æßtšg_poš‹r_¡ruù_t
*)
addr
;

124 (
ušŒ_t
)
å
 < 
’d
) {

125 ià(
å
->
sigÇtu»
 =ğ
FPSigÇtu»
) {

126 ià(
å
->
Ëngth
 =ğ1 && 
	`checksum
((
ušt8_t
*)fp, 16) == 0) {

127  
å
;

130 
å
++;

132  
NULL
;

133 
	}
}

135 
	$PUT_MEM16
(
ušŒ_t
 
addr
, 
ušt16_t
 
v®
)

137 *((vŞ©
ušt16_t
 *)
addr
èğ
v®
;

138 
	}
}

140 
	$PUT_MEM32
(
ušŒ_t
 
addr
, 
ušt32_t
 
v®
)

142 *((vŞ©
ušt32_t
 *)
addr
èğ
v®
;

143 
	}
}

145 
šlše


146 
	$APIC_WRITE
(
»g
, 
ušt32_t
 
v®
)

148 
APIC
[
»g
][0] = 
v®
;

149 
	}
}

151 
šlše
 
ušt32_t


152 
	$APIC_READ
(
»g
)

154  
APIC
[
»g
][0];

155 
	}
}

159 
	$SEND_IPI
(
­ic_id
, 
Œigg”
, 
Ëv–
, 
mode
,

160 
ušt8_t
 
veùÜ
)

162 
ušt32_t
 
v
;

164 
v
 = 
	`APIC_READ
(
APICR_ICRHI
) & 0x00ffffff;

165 
	`APIC_WRITE
(
APICR_ICRHI
, 
v
 | (
­ic_id
 << 24));

167 
v
 = 
	`APIC_READ
(
APICR_ICRLO
) & ~0xcdfff;

168 
v
 |ğ(
APIC_DEST_DEST
 << 
APIC_ICRLO_DEST_OFFSET
)

169 | (
Œigg”
 << 
APIC_ICRLO_TRIGGER_OFFSET
)

170 | (
Ëv–
 << 
APIC_ICRLO_LEVEL_OFFSET
)

171 | (
mode
 << 
APIC_ICRLO_DELMODE_OFFSET
)

172 | (
veùÜ
);

173 
	`APIC_WRITE
(
APICR_ICRLO
, 
v
);

174 
	}
}

178 
	$d–ay
(
us
)

180 
äeq
 = 1000;

181 
ušt64_t
 
cyşes
 = 
us
 * 
äeq
;

182 
ušt64_t
 
t0
 = 
	`RDTSC
();

183 
ušt64_t
 
t1
;

184 vŞ©
k
;

187 
k
 = 0; k < 1000; k++) ;

188 
t1
 = 
	`RDTSC
();

189 } 
t1
 - 
t0
 < 
cyşes
);

190 
	}
}

192 
šlše
 

193 
	$mem£t
 (*
d¡
,

194 
v®ue
,

195 
Ën
)

197 
i
;

198 
i
 = 0 ; i < 
Ën
 ; i++ ) {

199 *((*è
d¡
 + 
i
èğ
v®ue
;

201 
	}
}

203 
	$kick_ıu
(
ıu_num
)

205 
num_si
, 
­ic_id
;

206 
­ic_id
 = 
ıu_num_to_­ic_id
[
ıu_num
];

209 
	`APIC_WRITE
(
APICR_ESR
, 0);

210 
	`APIC_READ
(
APICR_ESR
);

213 
	`SEND_IPI
(
­ic_id
, 
APIC_TRIGGER_LEVEL
, 1, 
APIC_DELMODE_INIT
, 0);

214 
	`d–ay
(100000 / 
DELAY_FACTOR
);

217 
	`SEND_IPI
(
­ic_id
, 
APIC_TRIGGER_LEVEL
, 0, 
APIC_DELMODE_INIT
, 0);

219 
num_si
 = 0;‚um_sipi < 2;‚um_sipi++) {

220 
timeout
;

221 
boŞ
 
£nd_³ndšg
;

222 
”r
;

224 
	`APIC_WRITE
(
APICR_ESR
, 0);

226 
	`SEND_IPI
(
­ic_id
, 0, 0, 
APIC_DELMODE_STARTUP
, (
ušt32_t
)
¡¬tup_32
 >> 12);

228 
timeout
 = 0;

230 
	`d–ay
(10);

231 
timeout
++;

232 
£nd_³ndšg
 = (
	`APIC_READ
(
APICR_ICRLO
è& 
APIC_ICRLO_STATUS_MASK
) != 0;

233 } 
£nd_³ndšg
 && 
timeout
 < 1000);

235 ià(
£nd_³ndšg
) {

239 
	`d–ay
(100000 / 
DELAY_FACTOR
);

241 
”r
 = 
	`APIC_READ
(
APICR_ESR
) & 0xef;

242 ià(
”r
) {

247 
	}
}

251 
	#BOOTCODESTART
 0x9000

	)

252 
	#GDTPOINTERADDR
 0x9100

	)

253 
	#GDTADDR
 0x9110

	)

255 
	$boÙ_­
(
ıu_num
)

257 
num_si
, 
­ic_id
;

258 
ušt8_t
 
gdt
;

259 
ušt8_t
 
_­_ŒampŞše_¡¬t
;

260 
ušt8_t
 
_­_ŒampŞše_´Ùmode
;

261 
Ën
 = &
_­_ŒampŞše_´Ùmode
 - &
_­_ŒampŞše_¡¬t
;

262 
­ic_id
 = 
ıu_num_to_­ic_id
[
ıu_num
];

265 
	`memıy
((
ušt8_t
*)
BOOTCODESTART
, &
_­_ŒampŞše_¡¬t
, 
Ën
);

268 
	`PUT_MEM16
(
BOOTCODESTART
 + 3, 
GDTPOINTERADDR
);

272 
	`PUT_MEM16
(
GDTPOINTERADDR
, 4 * 8);

273 
	`PUT_MEM32
(
GDTPOINTERADDR
 + 2, 
GDTADDR
);

277 
	`memıy
((
ušt8_t
 *)
GDTADDR
, &
gdt
, 32);

280 
	`APIC_WRITE
(
APICR_ESR
, 0);

281 
	`APIC_READ
(
APICR_ESR
);

284 
	`SEND_IPI
(
­ic_id
, 
APIC_TRIGGER_LEVEL
, 1, 
APIC_DELMODE_INIT
, 0);

285 
	`d–ay
(100000 / 
DELAY_FACTOR
);

288 
	`SEND_IPI
(
­ic_id
, 
APIC_TRIGGER_LEVEL
, 0, 
APIC_DELMODE_INIT
, 0);

290 
num_si
 = 0;‚um_sipi < 2;‚um_sipi++) {

291 
timeout
;

292 
boŞ
 
£nd_³ndšg
;

293 
”r
;

295 
	`APIC_WRITE
(
APICR_ESR
, 0);

297 
	`SEND_IPI
(
­ic_id
, 0, 0, 
APIC_DELMODE_STARTUP
, 
BOOTCODESTART
 >> 12);

299 
timeout
 = 0;

301 
	`d–ay
(10);

302 
timeout
++;

303 
£nd_³ndšg
 = (
	`APIC_READ
(
APICR_ICRLO
è& 
APIC_ICRLO_STATUS_MASK
) != 0;

304 } 
£nd_³ndšg
 && 
timeout
 < 1000);

306 ià(
£nd_³ndšg
) {

310 
	`d–ay
(100000 / 
DELAY_FACTOR
);

312 
”r
 = 
	`APIC_READ
(
APICR_ESR
) & 0xef;

313 ià(
”r
) {

318 
	}
}

321 
	$smp_š™_b¥
()

323 
æßtšg_poš‹r_¡ruù_t
 *
å
;

327 
	`ıuid_š™
();

329 
	`mem£t
(&
AP
, 0,  AP);

331 
å
 = 
	`sÿn_fÜ_æßtšg_±r_¡ruù
(0x0, 0x400);

332 ià(
å
 =ğ
NULL
) {

333 
å
 = 
	`sÿn_fÜ_æßtšg_±r_¡ruù
(639*0x400, 0x400);

335 ià(
å
 =ğ
NULL
) {

336 
å
 = 
	`sÿn_fÜ_æßtšg_±r_¡ruù
(0xf0000, 0x10000);

338 ià(
å
 =ğ
NULL
) {

347 
add»ss
 = *(*)0x40E;

348 
add»ss
 <<= 4;

349 ià(
add»ss
) {

350 
å
 = 
	`sÿn_fÜ_æßtšg_±r_¡ruù
(
add»ss
, 0x400);

354 ià(
å
 !ğ
NULL
 && fp->
phys_addr
 != 0) {

355 ià(!
	`»ad_mp_cÚfig_bË
(
å
->
phys_addr
)) {

364 
	}
}

367 
	$smp_š™_­s
()

369 
ıuNum
;

370 
ıuNum
 = 0 ; cpuNum < 
MAX_CPUS
 ; cpuNum++) {

371 
AP
[
ıuNum
].
¡¬‹d
 = 
FALSE
;

373 
	}
}

376 
	$my_­ic_id
()

378  (
APIC
[
APICR_ID
][0]) >> 24;

379 
	}
}

382 
	$smp_­_boÙed
(
ıu_num
)

384 
AP
[
ıu_num
].
¡¬‹d
 = 
TRUE
;

385 
	}
}

388 
	$smp_boÙ_­
(
ıu_num
)

390 
timeout
;

391 
boŞ
 
smp_mode
;

392 
	`boÙ_­
(
ıu_num
);

393 
timeout
 = 0;

395 
	`d–ay
(1000 / 
DELAY_FACTOR
);

396 
timeout
++;

397 } !
AP
[
ıu_num
].
¡¬‹d
 && 
timeout
 < 100000 / 
DELAY_FACTOR
);

399 ià(!
AP
[
ıu_num
].
¡¬‹d
) {

403 
smp_mode
 = 
FALSE
;

405 
	}
}

408 
	$smp_num_ıus
()

410  
numb”_of_ıus
;

411 
	}
}

414 
	$smp_my_ıu_num
()

416 
­icid
 = 
	`my_­ic_id
();

417 
i
;

419 
i
 = 0; i < 
MAX_CPUS
; i++) {

420 ià(
­icid
 =ğ
ıu_num_to_­ic_id
[
i
]) {

424 ià(
i
 =ğ
MAX_CPUS
) {

425 
i
 = 0;

427  
i
;

428 
	}
}

430 vŞ©
¥šlock_t
 
	gb¬r_lk
={1};

431 
	$b¬r›r
(vŞ©*
b¬r
, 
n
)

433 
	`¥š_lock
(&
b¬r_lk
);

434 
b¬r
++;

435 
	`¥š_uÆock
(&
b¬r_lk
);

436 (
ušt32_t
)
b¬r
<
n
);

437 
b¬r
 = 0;

439 
	}
}

	@smp.h

6 #iâdeà
_SMP_H_


7 
	#_SMP_H_


	)

8 
	~"¡dšt.h
"

9 
	~"defs.h
"

10 
	#MAX_CPUS
 16

11 

	)

13 
	#FPSigÇtu»
 ('_' | 'M' << 8 | 'P' << 16 | '_' << 24)

	)

16 
ušt32_t
 
	msigÇtu»
;

17 
ušt32_t
 
	mphys_addr
;

18 
ušt8_t
 
	mËngth
;

19 
ušt8_t
 
	m¥ec_»v
;

20 
ušt8_t
 
	mchecksum
;

21 
ušt8_t
 
	mã©u»
[5];

22 } 
	tæßtšg_poš‹r_¡ruù_t
;

24 
	#MPCSigÇtu»
 ('P' | 'C' << 8 | 'M' << 16 | 'P' << 24)

	)

26 
ušt32_t
 
	msigÇtu»
;

27 
ušt16_t
 
	mËngth
;

28 
ušt8_t
 
	m¥ec_»v
;

29 
ušt8_t
 
	mchecksum
;

30 
	mÛm
[8];

31 
	m´oduùid
[12];

32 
ušt32_t
 
	mÛm_±r
;

33 
ušt16_t
 
	mÛm_size
;

34 
ušt16_t
 
	mÛm_couÁ
;

35 
ušt32_t
 
	mÏpic_addr
;

36 
ušt32_t
 
	m»£rved
;

37 } 
	tmp_cÚfig_bË_h—d”_t
;

41 
	#MP_PROCESSOR
 0

	)

42 
	#MP_BUS
 1

	)

43 
	#MP_IOAPIC
 2

	)

44 
	#MP_INTSRC
 3

	)

45 
	#MP_LINTSRC
 4

	)

48 
ušt8_t
 
	mty³
;

49 
ušt8_t
 
	m­ic_id
;

50 
ušt8_t
 
	m­ic_v”
;

51 
ušt8_t
 
	mıu_æag
;

52 
	#CPU_ENABLED
 1

	)

53 
	#CPU_BOOTPROCESSOR
 2

	)

54 
ušt32_t
 
	mıu_sigÇtu»
;

55 
	#CPU_STEPPING_MASK
 0x0F

	)

56 
	#CPU_MODEL_MASK
 0xF0

	)

57 
	#CPU_FAMILY_MASK
 0xF00

	)

58 
ušt32_t
 
	mã©u»æag
;

59 
ušt32_t
 
	m»£rved
[2];

60 } 
	tmp_´oûssÜ_’Œy_t
;

64 
ušt8_t
 
	mty³
;

65 
ušt8_t
 
	mbusid
;

66 
	mbu¡y³
[6];

67 } 
	tmp_bus_’Œy_t
;

69 
	#BUSTYPE_EISA
 "EISA"

	)

70 
	#BUSTYPE_ISA
 "ISA"

	)

71 
	#BUSTYPE_INTERN
 "INTERN"

	)

72 
	#BUSTYPE_MCA
 "MCA"

	)

73 
	#BUSTYPE_VL
 "VL"

	)

74 
	#BUSTYPE_PCI
 "PCI"

	)

75 
	#BUSTYPE_PCMCIA
 "PCMCIA"

	)

80 
ušt8_t
 
	mty³
;

81 
ušt8_t
 
	m­icid
;

82 
ušt8_t
 
	m­icv”
;

83 
ušt8_t
 
	mæags
;

84 
	#MPC_APIC_USABLE
 0x01

	)

85 
ušt32_t
 
	m­iÿddr
;

86 } 
	tmp_io_­ic_’Œy_t
;

90 
ušt8_t
 
	mty³
;

91 
ušt8_t
 
	mœqty³
;

92 
ušt16_t
 
	mœqæag
;

93 
ušt8_t
 
	m¤cbus
;

94 
ušt8_t
 
	m¤cbusœq
;

95 
ušt8_t
 
	md¡­ic
;

96 
ušt8_t
 
	md¡œq
;

97 } 
	tmp_š‹¼u±_’Œy_t
;

99 
	#MP_INT_VECTORED
 0

	)

100 
	#MP_INT_NMI
 1

	)

101 
	#MP_INT_SMI
 2

	)

102 
	#MP_INT_EXTINT
 3

	)

104 
	#MP_IRQDIR_DEFAULT
 0

	)

105 
	#MP_IRQDIR_HIGH
 1

	)

106 
	#MP_IRQDIR_LOW
 3

	)

110 
ušt8_t
 
	mty³
;

111 
ušt8_t
 
	mœqty³
;

112 
ušt16_t
 
	mœqæag
;

113 
ušt8_t
 
	m¤cbusid
;

114 
ušt8_t
 
	m¤cbusœq
;

115 
ušt8_t
 
	mde¡­ic
;

116 
	#MP_APIC_ALL
 0xFF

	)

117 
ušt8_t
 
	mde¡­işšt
;

118 } 
	tmp_loÿl_š‹¼u±_’Œy_t
;

124 
	#APICR_ID
 0x02

	)

125 
	#APICR_ESR
 0x28

	)

126 
	#APICR_ICRLO
 0x30

	)

127 
	#APICR_ICRHI
 0x31

	)

130 
	#APIC_DEST_DEST
 0

	)

131 
	#APIC_DEST_LOCAL
 1

	)

132 
	#APIC_DEST_ALL_INC
 2

	)

133 
	#APIC_DEST_ALL_EXC
 3

	)

136 
	#APIC_ICRHI_RESERVED
 0x00ffffff

	)

137 
	#APIC_ICRHI_DEST_MASK
 0xff000000

	)

138 
	#APIC_ICRHI_DEST_OFFSET
 24

	)

140 
	#APIC_ICRLO_RESERVED
 0xfff32000

	)

141 
	#APIC_ICRLO_DEST_MASK
 0x000c0000

	)

142 
	#APIC_ICRLO_DEST_OFFSET
 18

	)

143 
	#APIC_ICRLO_TRIGGER_MASK
 0x00008000

	)

144 
	#APIC_ICRLO_TRIGGER_OFFSET
 15

	)

145 
	#APIC_ICRLO_LEVEL_MASK
 0x00004000

	)

146 
	#APIC_ICRLO_LEVEL_OFFSET
 14

	)

147 
	#APIC_ICRLO_STATUS_MASK
 0x00001000

	)

148 
	#APIC_ICRLO_STATUS_OFFSET
 12

	)

149 
	#APIC_ICRLO_DESTMODE_MASK
 0x00000800

	)

150 
	#APIC_ICRLO_DESTMODE_OFFSET
 11

	)

151 
	#APIC_ICRLO_DELMODE_MASK
 0x00000700

	)

152 
	#APIC_ICRLO_DELMODE_OFFSET
 8

	)

153 
	#APIC_ICRLO_VECTOR_MASK
 0x000000ff

	)

154 
	#APIC_ICRLO_VECTOR_OFFSET
 0

	)

157 
	#APIC_TRIGGER_EDGE
 0

	)

158 
	#APIC_TRIGGER_LEVEL
 1

	)

161 
	#APIC_DELMODE_FIXED
 0

	)

162 
	#APIC_DELMODE_LOWEST
 1

	)

163 
	#APIC_DELMODE_SMI
 2

	)

164 
	#APIC_DELMODE_NMI
 4

	)

165 
	#APIC_DELMODE_INIT
 5

	)

166 
	#APIC_DELMODE_STARTUP
 6

	)

167 
	#APIC_DELMODE_EXTINT
 7

	)

168 
ušt32_t
 
	t­ic_»gi¡”_t
[4];

170 vŞ©
­ic_»gi¡”_t
 *
APIC
;

172 
smp_num_ıus
();

173 
smp_my_ıu_num
();

175 
smp_š™_b¥
();

176 
smp_š™_­s
();

178 
smp_boÙ_­
(
ıu_num
);

179 
smp_­_boÙed
(
ıu_num
);

181 
šlše
 

182 
	$__GET_CPUID
(
ax
, 
ušt32_t
 *
»gs
)

184 
__asm__
 
	`__vŞ©e__
("\t"

187 : "÷" (
»gs
[0]), "=D" (regs[1]), "=c" (regs[2]), "=d" (regs[3])

188 : "a" (
ax
)

191 
	}
}

193 
	#GET_CPUID
(
_ax
,
_bx
,
_cx
,
_dx
) { \

194 
ušt32_t
 
»gs
[4]; \

195 
	`__GET_CPUID
(
_ax
,
»gs
); \

196 
_ax
 = 
»gs
[0]; \

197 
_bx
 = 
»gs
[1]; \

198 
_cx
 = 
»gs
[2]; \

199 
_dx
 = 
»gs
[3]; \

200 }

	)

207 
šlše
 
ušt64_t


208 
	$RDTSC
()

210 
ušt64_t
 
tim
;

212 
__asm__
 
	`__vŞ©e__
(

214 : "=A" (
tim
)

217  
tim
;

218 
	}
}

220 
šlše
 
ušt64_t
 
	$__GET_MSR
(
cx
)

222 
ušt64_t
 
m¤
;

224 
__asm__
 
	`__vŞ©e__
(

226 : "=A" (
m¤
)

227 : "c" (
cx
)

230  
m¤
;

231 
	}
}

233 
	#__GCC_OUT
(
s
, 
s2
, 
pÜt
, 
v®
) do { \

234 
	`__asm__
( \

237 : "Nd" (
pÜt
), "a" (
v®
) \

239 } 0)

	)

240 
	#OUTB
(
pÜt
, 
v®
è
	`__GCC_OUT
(
b
, b,…Üt, v®)

	)

243 
	m¦ock
;

244 } 
	t¥šlock_t
;

246 
šlše
 
	$¥š_lock
(vŞ©
¥šlock_t
 *
lock
)

248 
asm
 volatile("\n1:\t"

257 : "+m" (
lock
->
¦ock
) : : "memory");

258 
	}
}

259 
šlše
 
	$¥š_uÆock
(vŞ©
¥šlock_t
 *
lock
)

261 
asm
 vŞ©e("movb $1,%0" : "+m" (
lock
->
¦ock
) :: "memory");

262 
	}
}

	@spd.c

12 
	~"‹¡.h
"

13 
	~"io.h
"

14 
	~"pci.h
"

15 
	~"m¤.h
"

16 
	~"¥d.h
"

17 
	~"sü“n_bufãr.h
"

18 
	~"jedec_id.h
"

20 
	#NULL
 0

	)

22 
	#SMBHSTSTS
 
smbusba£


	)

23 
	#SMBHSTCNT
 
smbusba£
 + 2

	)

24 
	#SMBHSTCMD
 
smbusba£
 + 3

	)

25 
	#SMBHSTADD
 
smbusba£
 + 4

	)

26 
	#SMBHSTDAT
 
smbusba£
 + 5

	)

28 
wa™_keyup
();

30 
	gsmbdev
, 
	gsmbfun
;

31 
	gsmbusba£
;

32 
	g¥d
[256];

33 
	gs
[] = {'/', 0, '-', 0, '\\', 0, '|', 0};

35 
	$ich5_g‘_smb
()

37 
x
;

38 
»suÉ
;

39 
»suÉ
 = 
	`pci_cÚf_»ad
(0, 
smbdev
, 
smbfun
, 0x20, 2, &
x
);

40 ià(
»suÉ
 =ğ0è
smbusba£
 = (è
x
 & 0xFFFE;

41 
	}
}

43 
	$ich5_smb_»ad_by‹
(
adr
, 
cmd
)

45 
l1
, 
h1
, 
l2
, 
h2
;

46 
t
;

47 
	`__outb
(0x1f, 
SMBHSTSTS
);

48 
	`__outb
(0xff, 
SMBHSTDAT
);

49 
	`__šb
(
SMBHSTSTS
) & 0x01);

50 
	`__outb
(
cmd
, 
SMBHSTCMD
);

51 
	`__outb
((
adr
 << 1è| 0x01, 
SMBHSTADD
);

52 
	`__outb
(0x48, 
SMBHSTCNT
);

53 
	`rdtsc
(
l1
, 
h1
);

55 !(
	`__šb
(
SMBHSTSTS
) & 0x02)) {

56 
	`rdtsc
(
l2
, 
h2
);

57 
t
 = ((
h2
 - 
h1
è* 0xfffffffà+ (
l2
 - 
l1
)è/ 
v
->
şks_m£c
;

58 ià(
t
 > 10) ;

60  
	`__šb
(
SMBHSTDAT
);

61 
	}
}

63 
	$ich5_»ad_¥d
(
dimmadr
)

65 
x
;

66 
¥d
[0] = 
	`ich5_smb_»ad_by‹
(0x50 + 
dimmadr
, 0);

67 ià(
¥d
[0] == 0xff)  -1;

68 
x
 = 1; x < 256; x++) {

69 
¥d
[
x
] = 
	`ich5_smb_»ad_by‹
(0x50 + 
dimmadr
, () x);

72 
	}
}

74 
	$us15w_g‘_smb
()

76 
x
;

77 
»suÉ
;

78 
»suÉ
 = 
	`pci_cÚf_»ad
(0, 0x1f, 0, 0x40, 2, &
x
);

79 ià(
»suÉ
 =ğ0è
smbusba£
 = (è
x
 & 0xFFC0;

80 
	}
}

82 
	$us15w_smb_»ad_by‹
(
adr
, 
cmd
)

84 
l1
, 
h1
, 
l2
, 
h2
;

85 
t
;

89 
	`__outb
(0x02, 
smbusba£
 + 0);

90 
	`__outb
(
cmd
, 
smbusba£
 + 5);

91 
	`__outb
(0x07, 
smbusba£
 + 1);

92 
	`__outb
((
adr
 << 1è| 0x01, 
smbusba£
 + 4);

93 
	`__outb
(0x12, 
smbusba£
 + 0);

95 
	`rdtsc
(
l1
, 
h1
);

96 
	`ıršt
(
POP2_Y
, 
POP2_X
 + 16, 
s
 + 
cmd
 % 8);

97 ((
	`__šb
(
smbusba£
 + 1) & 0x01) == 0) ||

98 ((
	`__šb
(
smbusba£
 + 1) & 0x08) != 0)) {

99 
	`rdtsc
(
l2
, 
h2
);

100 
t
 = ((
h2
 - 
h1
è* 0xfffffffà+ (
l2
 - 
l1
)è/ 
v
->
şks_m£c
;

101 ià(
t
 > 10) ;

103  
	`__šb
(
smbusba£
 + 6);

104 
	}
}

106 
	$us15w_»ad_¥d
(
dimmadr
)

108 
x
;

109 
¥d
[0] = 
	`us15w_smb_»ad_by‹
(0x50 + 
dimmadr
, 0);

110 ià(
¥d
[0] == 0xff)  -1;

111 
x
 = 1; x < 256; x++) {

112 
¥d
[
x
] = 
	`us15w_smb_»ad_by‹
(0x50 + 
dimmadr
, () x);

115 
	}
}

117 
	spci_smbus_cÚŒŞËr
 {

118 
	mv’dÜ
;

119 
	mdeviû
;

120 *
	mÇme
;

121 (*
	mg‘_adr
)();

122 (*
	m»ad_¥d
)(
	mdimmadr
);

125 
pci_smbus_cÚŒŞËr
 
	gsmbcÚŒŞËrs
[] = {

126 {0x8086, 0x1C22, "IÁ– P67", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

127 {0x8086, 0x3B30, "IÁ– P55", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

128 {0x8086, 0x3A60, "IÁ– ICH10B", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

129 {0x8086, 0x3A30, "IÁ– ICH10R", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

130 {0x8086, 0x2930, "IÁ– ICH9", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

131 {0x8086, 0x283E, "IÁ– ICH8", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

132 {0x8086, 0x27DA, "IÁ– ICH7", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

133 {0x8086, 0x266A, "IÁ– ICH6", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

134 {0x8086, 0x24D3, "IÁ– ICH5", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

135 {0x8086, 0x24C3, "IÁ– ICH4", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

136 {0x8086, 0x25A4, "IÁ– 6300ESB", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

137 {0x8086, 0x269B, "IÁ– ESB2", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

138 {0x8086, 0x8119, "IÁ– US15W", 
us15w_g‘_smb
, 
us15w_»ad_¥d
},

139 {0x8086, 0x5032, "IÁ– EP80579", 
ich5_g‘_smb
, 
ich5_»ad_¥d
},

140 {0, 0, "", 
NULL
, NULL}

144 
	$fšd_smb_cÚŒŞËr
()

146 
i
 = 0;

147 
v®uev
, 
v®ued
;

148 
smbdev
 = 0; smbdev < 32; smbdev++) {

149 
smbfun
 = 0; smbfun < 8; smbfun++) {

150 
	`pci_cÚf_»ad
(0, 
smbdev
, 
smbfun
, 0, 2, &
v®uev
);

151 ià(
v®uev
 != 0xFFFF) {

152 
i
 = 0; 
smbcÚŒŞËrs
[i].
v’dÜ
 > 0; i++) {

153 ià(
v®uev
 =ğ
smbcÚŒŞËrs
[
i
].
v’dÜ
) {

154 
	`pci_cÚf_»ad
(0, 
smbdev
, 
smbfun
, 2, 2, &
v®ued
);

155 ià(
v®ued
 =ğ
smbcÚŒŞËrs
[
i
].
deviû
) {

156  
i
;

164 
	}
}

168 
	$g‘_¥d_¥ec
()

170 
šdex
;

171 
h
, 
i
, 
j
, 
z
;

172 
k
 = 0;

173 
moduË_size
;

174 
curcŞ
;

175 
‹mp_nbd
;

177 
šdex
 = 
	`fšd_smb_cÚŒŞËr
();

179 ià(
šdex
 == -1)

185 
smbcÚŒŞËrs
[
šdex
].
	`g‘_adr
();

186 
	`ıršt
(
LINE_SPD
-2, 0, "Memory SPD Informations");

187 
	`ıršt
(
LINE_SPD
-1, 0, "-----------------------------------");

189 
j
 = 0; j < 8; j++) {

190 ià(
smbcÚŒŞËrs
[
šdex
].
	`»ad_¥d
(
j
) == 0) {

191 
curcŞ
 = 1;

192 if(
¥d
[2] == 0x0b){

196 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, " - Slot :");

197 
	`d´št
(
LINE_SPD
+
k
, 
curcŞ
+8, k, 1, 0);

199 
moduË_size
 = 
	`g‘_ddr3_moduË_size
(
¥d
[4] & 0xF, spd[8] & 0x7, spd[7] & 0x7, spd[7] >> 3);

200 
‹mp_nbd
 = 
	`g‘num
(
moduË_size
); 
curcŞ
 += 12;

201 
	`d´št
(
LINE_SPD
+
k
, 
curcŞ
, 
moduË_size
, 
‹mp_nbd
, 0); curcol +=emp_nbd;

202 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, " MB"); curcol += 4;

205 
¥d
[12])

209 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "PC3-6400");

210 
curcŞ
 += 8;

213 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "PC3-8500");

214 
curcŞ
 += 8;

217 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "PC3-10600");

218 
curcŞ
 += 9;

221 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "PC3-12800");

222 
curcŞ
 += 9;

225 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "PC3-15000");

226 
curcŞ
 += 9;

229 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "PC3-16000");

230 
curcŞ
 += 9;

234 
curcŞ
++;

237 
¥d
[117] &= 0x0F;

238 
i
 = 0; 
j•106
[i].
cÚt_code
 < 9; i++) {

239 ià(
¥d
[117] =ğ
j•106
[
i
].
cÚt_code
 && spd[118] =ğj•106[i].
hex_by‹
) {

241 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "-"); curcol += 2;

242 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, 
j•106
[
i
].
Çme
);

243 
z
 = 0; 
j•106
[
i
].
Çme
[z] !ğ'\0'; z++è{ 
curcŞ
++; }

244 
curcŞ
++;

246 
h
 = 128; h < 146; h++) {

247 
	`ıršt
(16+
k
, 
curcŞ
, 
	`cÚv”t_hex_to_ch¬
(
¥d
[
h
]));

248 
curcŞ
++;

252 if(
¥d
[176] == 0x0C && spd[177] == 0x4A)

254 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "*XMP*");

260 if(
¥d
[2] == 0x08){

262 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, " - Slot :");

263 
	`d´št
(
LINE_SPD
+
k
, 
curcŞ
+8, k, 1, 0);

265 
moduË_size
 = 
	`g‘_ddr2_moduË_size
(
¥d
[31], spd[5]);

266 
‹mp_nbd
 = 
	`g‘num
(
moduË_size
); 
curcŞ
 += 12;

267 
	`d´št
(
LINE_SPD
+
k
, 
curcŞ
, 
moduË_size
, 
‹mp_nbd
, 0); curcol +=emp_nbd;

268 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, " MB"); curcol += 4;

271 
ddr2_¥“d
, 
by‹1
, 
by‹2
;

273 
by‹1
 = (
¥d
[9] >> 4) * 10;

274 
by‹2
 = 
¥d
[9] & 0xF;

276 
ddr2_¥“d
 = 1 / (
by‹1
 + 
by‹2
) * 10000;

278 
‹mp_nbd
 = 
	`g‘num
(
ddr2_¥“d
);

279 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "DDR2-"); curcol += 5;

280 
	`d´št
(
LINE_SPD
+
k
, 
curcŞ
, 
ddr2_¥“d
, 
‹mp_nbd
, 0); curcol +=emp_nbd;

283 
ccode
 = 0;

285 
i
 = 64; i < 72; i++)

287 if(
¥d
[
i
] =ğ0x7Fè{ 
ccode
++; }

290 
curcŞ
++;

292 
i
 = 0; 
j•106
[i].
cÚt_code
 < 9; i++) {

293 ià(
ccode
 =ğ
j•106
[
i
].
cÚt_code
 && 
¥d
[64+ccode] =ğj•106[i].
hex_by‹
) {

295 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, "-"); curcol += 2;

296 
	`ıršt
(
LINE_SPD
+
k
, 
curcŞ
, 
j•106
[
i
].
Çme
);

297 
z
 = 0; 
j•106
[
i
].
Çme
[z] !ğ'\0'; z++è{ 
curcŞ
++; }

298 
curcŞ
++;

300 
h
 = 73; h < 91; h++) {

301 
	`ıršt
(16+
k
, 
curcŞ
, 
	`cÚv”t_hex_to_ch¬
(
¥d
[
h
]));

302 
curcŞ
++;

309 
k
++;

312 
	}
}

315 
	$show_¥d
()

317 
šdex
;

318 
i
, 
j
;

319 
æag
 = 0;

320 
	`pİ2up
();

321 
	`wa™_keyup
();

322 
šdex
 = 
	`fšd_smb_cÚŒŞËr
();

323 ià(
šdex
 == -1) {

324 
	`ıršt
(
POP2_Y
, 
POP2_X
+1, "SMBus Controller‚ot known");

325 !
	`g‘_key
());

326 
	`wa™_keyup
();

327 
	`pİ2down
();

330 
	`ıršt
(
POP2_Y
, 
POP2_X
+1, "SPD Data: Slot");

331 
smbcÚŒŞËrs
[
šdex
].
	`g‘_adr
();

332 
j
 = 0; j < 16; j++) {

333 ià(
smbcÚŒŞËrs
[
šdex
].
	`»ad_¥d
(
j
) == 0) {

334 
	`d´št
(
POP2_Y
, 
POP2_X
 + 15, 
j
, 2, 0);

335 
i
 = 0; i < 256; i++) {

336 
	`h´št2
(2 + 
POP2_Y
 + 
i
 / 16, 3 + 
POP2_X
 + (˜% 16è* 3, 
¥d
[i], 2);

338 
æag
 = 0;

339 !
æag
) {

340 ià(
	`g‘_key
()è
æag
++;

342 
	`wa™_keyup
();

345 
	`pİ2down
();

346 
	}
}

348 
	$g‘_ddr3_moduË_size
(
sd¿m_ÿ·c™y
, 
´im_bus_width
, 
sd¿m_width
, 
¿nks
)

350 
moduË_size
;

352 
sd¿m_ÿ·c™y
)

355 
moduË_size
 = 256;

358 
moduË_size
 = 512;

362 
moduË_size
 = 1024;

365 
moduË_size
 = 2048;

368 
moduË_size
 = 4096;

371 
moduË_size
 = 8192;

374 
moduË_size
 = 16384;

378 
moduË_size
 /= 8;

380 
´im_bus_width
)

383 
moduË_size
 *= 8;

386 
moduË_size
 *= 16;

389 
moduË_size
 *= 32;

392 
moduË_size
 *= 64;

396 
sd¿m_width
)

399 
moduË_size
 /= 4;

402 
moduË_size
 /= 8;

405 
moduË_size
 /= 16;

408 
moduË_size
 /= 32;

413 
moduË_size
 *ğ(
¿nks
 + 1);

415  
moduË_size
;

416 
	}
}

419 
	$g‘_ddr2_moduË_size
(
¿nk_d’s™y_by‹
, 
¿nk_num_by‹
)

421 
moduË_size
;

423 
¿nk_d’s™y_by‹
)

426 
moduË_size
 = 1024;

429 
moduË_size
 = 2048;

432 
moduË_size
 = 4096;

435 
moduË_size
 = 8192;

438 
moduË_size
 = 16384;

441 
moduË_size
 = 128;

444 
moduË_size
 = 256;

448 
moduË_size
 = 512;

452 
moduË_size
 *ğ(
¿nk_num_by‹
 & 7) + 1;

454  
moduË_size
;

456 
	}
}

459 
	sascii_m­
 {

460 
	mhex_code
;

461 *
	mÇme
;

465 * 
	$cÚv”t_hex_to_ch¬
(
hex_Üg
) {

466 
buf
[2] = " ";

467 ià(
hex_Üg
 >= 0x20 && hex_org < 0x80) {

468 
buf
[0] = 
hex_Üg
;

471 
buf
[0] = ' ';

474  
buf
;

475 
	}
}

	@spd.h

7 
g‘_¥d_¥ec
();

8 
g‘_ddr2_moduË_size
(
¿nk_d’s™y_by‹
, 
¿nk_num_by‹
);

9 
g‘_ddr3_moduË_size
(
sd¿m_ÿ·c™y
, 
´im_bus_width
, 
sd¿m_width
, 
¿nks
);

10 * 
cÚv”t_hex_to_ch¬
(
hex_Üg
);

11 
	#LINE_SPD
 16

	)

	@stdint.h

1 #iâdeà
I386_STDINT_H


2 
	#I386_STDINT_H


	)

5 
	tušt8_t
;

6 sigÃd 
	tšt8_t
;

8 
	tušt16_t
;

9 sigÃd 
	tšt16_t
;

11 
	tušt32_t
;

12 sigÃd 
	tšt32_t
;

14 
	tušt64_t
;

15 sigÃd 
	tšt64_t
;

18 
	tušt_Ëa¡8_t
;

19 sigÃd 
	tšt_Ëa¡8_t
;

21 
	tušt_Ëa¡16_t
;

22 sigÃd 
	tšt_Ëa¡16_t
;

24 
	tušt_Ëa¡32_t
;

25 sigÃd 
	tšt_Ëa¡32_t
;

27 
	tušt_Ëa¡64_t
;

28 sigÃd 
	tšt_Ëa¡64_t
;

31 
	tušt_ç¡8_t
;

32 sigÃd 
	tšt_ç¡8_t
;

34 
	tušt_ç¡16_t
;

35 sigÃd 
	tšt_ç¡16_t
;

37 
	tušt_ç¡32_t
;

38 sigÃd 
	tšt_ç¡32_t
;

40 
	tušt_ç¡64_t
;

41 sigÃd 
	tšt_ç¡64_t
;

44 
	tšŒ_t
;

45 
	tušŒ_t
;

48 
	tštmax_t
;

49 
	tuštmax_t
;

51 
	tboŞ
;

52 #iâdeà
FALSE


53 
	#FALSE
 0

	)

56 #iâdeà
TRUE


57 
	#TRUE
 1

	)

	@test.c

12 
	~"‹¡.h
"

13 
	~"cÚfig.h
"

14 
	~<sys/io.h
>

15 
	~"dmi.h
"

16 
	~<š‰y³s.h
>

18 
£gs
, 
ba
;

19 vŞ©
ulÚg
 *
p
;

20 
ulÚg
 
p1
, 
p2
;

21 
‹¡_ticks
, 
Áicks
;

22 
t£q
seq[];

23 
upd©e_”r_couÁs
();

24 
´št_”r_couÁs
();

25 
pŞl_”rÜs
();

27 
	gecouÁ
 = 0;

29 
šlše
 
ulÚg
 
	$roundup
(
ulÚg
 
v®ue
, ulÚg 
mask
)

31  (
v®ue
 + 
mask
) & ~mask;

32 
	}
}

36 
	$addr_t¡1
()

38 
i
, 
j
, 
k
;

39 vŞ©
ulÚg
 *
±
;

40 vŞ©
ulÚg
 *
’d
;

41 
ulÚg
 
bad
, 
mask
, 
bªk
;

44 
p1
=0, 
j
=0; j<2; j++) {

45 
	`h´št
(
LINE_PAT
, 
COL_PAT
, 
p1
);

48 
p
 = (
ulÚg
 *)
	`roundup
((ulÚg)
v
->
m­
[0].
¡¬t
, 0x1ffff);

49 *
p
 = 
p1
;

52 
p1
 = ~p1;

53 
’d
 = 
v
->
m­
[
£gs
-1].end;

54 
i
=0; i<100; i++) {

55 
mask
 = 4;

57 
±
 = (
ulÚg
 *)((ulÚg)
p
 | 
mask
);

58 ià((
ušŒ_t
)
±
 =ğ(ušŒ_t)
p
) {

59 
mask
 = mask << 1;

62 ià((
ušŒ_t
)
±
 >ğ(ušŒ_t)
’d
) {

65 *
±
 = 
p1
;

66 ià((
ušŒ_t
)(
bad
 = *
p
è!ğ(ušŒ_t)~
p1
) {

67 
	`ad_”r1
((
ulÚg
 *)
p
, (ulÚg *)
mask
,

68 
bad
, ~
p1
);

69 
i
 = 1000;

71 
mask
 = mask << 1;

72 } 
mask
);

74 
	`do_tick
();

75 
BAILR


81 ià(
v
->
pm­
[v->
m£gs
 - 1].
’d
 > (0x800000 >> 12)) {

82 
bªk
 = 0x100000;

84 
bªk
 = 0x40000;

86 
p1
=0, 
k
=0; k<2; k++) {

87 
	`h´št
(
LINE_PAT
, 
COL_PAT
, 
p1
);

89 
j
=0; j<
£gs
; j++) {

90 
p
 = 
v
->
m­
[
j
].
¡¬t
;

92 
p
 = (
ulÚg
 *)
	`roundup
((ulÚgí, 
bªk
 - 1);

93 
’d
 = 
v
->
m­
[
j
].end;

94 (
ušŒ_t
)
p
 < (ušŒ_t)
’d
) {

95 *
p
 = 
p1
;

97 
p1
 = ~p1;

98 
i
=0; i<200; i++) {

99 
mask
 = 4;

101 
±
 = (
ulÚg
 *)

102 ((
ulÚg
)
p
 | 
mask
);

103 ià((
ušŒ_t
)
±
 =ğ(ušŒ_t)
p
) {

104 
mask
 = mask << 1;

107 ià((
ušŒ_t
)
±
 >ğ(ušŒ_t)
’d
) {

110 *
±
 = 
p1
;

111 ià((
ušŒ_t
)(
bad
 = *
p
è!ğ(ušŒ_t)~
p1
) {

112 
	`ad_”r1
((
ulÚg
 *)
p
,

113 (
ulÚg
 *)
mask
,

114 
bad
,~
p1
);

115 
i
 = 200;

117 
mask
 = mask << 1;

118 } 
mask
);

120 ià((
ušŒ_t
)(
p
 + 
bªk
/4) > (uintptr_t)p) {

121 
p
 +ğ
bªk
/4;

123 
p
 = 
’d
;

125 
p1
 = ~p1;

128 
	`do_tick
();

129 
BAILR


130 
p1
 = ~p1;

132 
	}
}

137 
	$addr_t¡2
()

139 
j
, 
dÚe
;

140 vŞ©
ulÚg
 *
³
;

141 vŞ©
ulÚg
 *
’d
, *
¡¬t
;

143 
	`ıršt
(
LINE_PAT
, 
COL_PAT
, " ");

146 
j
=0; j<
£gs
; j++) {

147 
¡¬t
 = 
v
->
m­
[
j
].start;

148 
’d
 = 
v
->
m­
[
j
].end;

149 
³
 = (
ulÚg
 *)
¡¬t
;

150 
p
 = 
¡¬t
;

151 
dÚe
 = 0;

154 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

155 
³
 +ğ
SPINSZ
;

157 
³
 = 
’d
;

159 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

160 
³
 = 
’d
;

161 
dÚe
++;

163 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

172 
asm
 
	`__vŞ©e__
 (

181 : "=D" (
p
)

182 : "D" (
p
), "d" (
³
)

184 
	`do_tick
();

185 
BAILR


186 } !
dÚe
);

190 
j
=0; j<
£gs
; j++) {

191 
¡¬t
 = 
v
->
m­
[
j
].start;

192 
’d
 = 
v
->
m­
[
j
].end;

193 
³
 = (
ulÚg
 *)
¡¬t
;

194 
p
 = 
¡¬t
;

195 
dÚe
 = 0;

198 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

199 
³
 +ğ
SPINSZ
;

201 
³
 = 
’d
;

203 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

204 
³
 = 
’d
;

205 
dÚe
++;

207 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
 ) {

217 
asm
 
	`__vŞ©e__
 (

242 : "=D" (
p
)

243 : "D" (
p
), "d" (
³
)

246 
	`do_tick
();

247 
BAILR


248 } !
dÚe
);

250 
	}
}

258 
	$movšvr
()

260 
i
, 
j
, 
dÚe
, 
£ed1
, 
£ed2
;

261 vŞ©
ulÚg
 *
³
;

262 vŞ©
ulÚg
 *
¡¬t
,*
’d
;

263 
ulÚg
 
num
;

264 
ušŒ_t
 
£g_¡¬t
;

267 ià(
v
->
rdtsc
) {

268 
asm
 
	`__vŞ©e__
 ("rdtsc":"÷" (
£ed1
),"=d" (
£ed2
));

270 
£ed1
 = 521288629 + 
v
->
·ss
;

271 
£ed2
 = 362436069 - 
v
->
·ss
;

275 
	`h´št
(
LINE_PAT
, 
COL_PAT
, 
£ed1
);

276 
	`¿nd_£ed
(
£ed1
, 
£ed2
);

277 
j
=0; j<
£gs
; j++) {

278 
¡¬t
 = 
v
->
m­
[
j
].start;

279 
’d
 = 
v
->
m­
[
j
].end;

280 
³
 = 
¡¬t
;

281 
p
 = 
¡¬t
;

282 
£g_¡¬t
 = (
ušŒ_t
)
p
;

283 
dÚe
 = 0;

286 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

287 
³
 +ğ
SPINSZ
;

289 
³
 = 
’d
;

291 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

292 
³
 = 
’d
;

293 
dÚe
++;

295 ià(
£g_¡¬t
 =ğ(
ušŒ_t
)
³
) {

305 
asm
 
	`__vŞ©e__
 (

314 : "=D" (
p
)

315 : "D" (
p
), "b" (
³
)

319 
	`do_tick
();

320 
BAILR


321 } !
dÚe
);

327 
i
=0; i<2; i++) {

328 
	`¿nd_£ed
(
£ed1
, 
£ed2
);

329 
j
=0; j<
£gs
; j++) {

330 
¡¬t
 = 
v
->
m­
[
j
].start;

331 
’d
 = 
v
->
m­
[
j
].end;

332 
³
 = 
¡¬t
;

333 
p
 = 
¡¬t
;

334 
£g_¡¬t
 = (
ušŒ_t
)
p
;

335 
dÚe
 = 0;

338 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

339 
³
 +ğ
SPINSZ
;

341 
³
 = 
’d
;

343 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

344 
³
 = 
’d
;

345 
dÚe
++;

347 ià(
£g_¡¬t
 =ğ(
ušŒ_t
)
³
) {

363 ià(
i
) {

364 
num
 = 0xffffffff;

366 
num
 = 0;

368 
asm
 
	`__vŞ©e__
 (

400 : "=D" (
p
)

401 : "D" (
p
), "S" (
³
), "b" (
num
)

404 
	`do_tick
();

405 
BAILR


406 } !
dÚe
);

409 
	}
}

415 
	$movšv1
(
™”
, 
ulÚg
 
p1
, ulÚg 
p2
)

417 
i
, 
j
, 
dÚe
;

418 vŞ©
ulÚg
 *
³
;

419 vŞ©
ulÚg
 
Ën
;

420 vŞ©
ulÚg
 *
¡¬t
,*
’d
;

423 
	`h´št
(
LINE_PAT
, 
COL_PAT
, 
p1
);

426 
j
=0; j<
£gs
; j++) {

427 
¡¬t
 = 
v
->
m­
[
j
].start;

428 
’d
 = 
v
->
m­
[
j
].end;

429 
³
 = 
¡¬t
;

430 
p
 = 
¡¬t
;

431 
dÚe
 = 0;

434 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

435 
³
 +ğ
SPINSZ
;

437 
³
 = 
’d
;

439 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

440 
³
 = 
’d
;

441 
dÚe
++;

443 
Ën
 = 
³
 - 
p
;

444 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

452 
asm
 
	`__vŞ©e__
 (

455 : "=D" (
p
)

456 : "c" (
Ën
), "0" (
p
), "a" (
p1
)

458 
	`do_tick
();

459 
BAILR


460 } !
dÚe
);

466 
i
=0; i<
™”
; i++) {

467 
j
=0; j<
£gs
; j++) {

468 
¡¬t
 = 
v
->
m­
[
j
].start;

469 
’d
 = 
v
->
m­
[
j
].end;

470 
³
 = 
¡¬t
;

471 
p
 = 
¡¬t
;

472 
dÚe
 = 0;

475 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

476 
³
 +ğ
SPINSZ
;

478 
³
 = 
’d
;

480 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

481 
³
 = 
’d
;

482 
dÚe
++;

484 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

495 
asm
 
	`__vŞ©e__
 (

525 : "=D" (
p
)

526 : "a" (
p1
), "0" (
p
), "d" (
³
), "b" (
p2
)

529 
	`do_tick
();

530 
BAILR


531 } !
dÚe
);

533 
j
=
£gs
-1; j>=0; j--) {

534 
¡¬t
 = 
v
->
m­
[
j
].start;

535 
’d
 = 
v
->
m­
[
j
].end;

536 
³
 = 
’d
 -1;

537 
p
 = 
’d
 -1;

538 
dÚe
 = 0;

541 ià((
ušŒ_t
)(
³
 - 
SPINSZ
) < (uintptr_t)pe) {

542 
³
 -ğ
SPINSZ
;

544 
³
 = 
¡¬t
;

546 ià((
ušŒ_t
)
³
 <ğ(ušŒ_t)
¡¬t
) {

547 
³
 = 
¡¬t
;

548 
dÚe
++;

550 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

561 
asm
 
	`__vŞ©e__
 (

593 : "=D" (
p
)

594 : "a" (
p1
), "0" (
p
), "d" (
³
), "b" (
p2
)

597 
	`do_tick
();

598 
BAILR


599 } !
dÚe
);

602 
	}
}

604 
	$movšv32
(
™”
, 
ulÚg
 
p1
, ulÚg 
lb
, ulÚg 
hb
, 
sv®
, 
off
)

606 
i
, 
j
, 
k
=0, 
dÚe
;

607 vŞ©
ulÚg
 *
³
;

608 vŞ©
ulÚg
 *
¡¬t
, *
’d
;

609 
ulÚg
 
·t
 = 0;

617 
	`h´št
(
LINE_PAT
, 
COL_PAT
, 
p1
);

620 
j
=0; j<
£gs
; j++) {

621 
¡¬t
 = 
v
->
m­
[
j
].start;

622 
’d
 = 
v
->
m­
[
j
].end;

623 
³
 = 
¡¬t
;

624 
p
 = 
¡¬t
;

625 
dÚe
 = 0;

626 
k
 = 
off
;

627 
·t
 = 
p1
;

630 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

631 
³
 +ğ
SPINSZ
;

633 
³
 = 
’d
;

635 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

636 
³
 = 
’d
;

637 
dÚe
++;

639 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

656 
asm
 
	`__vŞ©e__
 (

669 : "=b" (
k
), "=D" (
p
), "=c" (
·t
)

670 : "D" (
p
),"d" (
³
),"b" (
k
),"c" (
·t
)

673 
	`do_tick
();

674 
BAILR


675 } !
dÚe
);

681 
i
=0; i<
™”
; i++) {

682 
j
=0; j<
£gs
; j++) {

683 
¡¬t
 = 
v
->
m­
[
j
].start;

684 
’d
 = 
v
->
m­
[
j
].end;

685 
³
 = 
¡¬t
;

686 
p
 = 
¡¬t
;

687 
dÚe
 = 0;

688 
k
 = 
off
;

689 
·t
 = 
p1
;

692 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

693 
³
 +ğ
SPINSZ
;

695 
³
 = 
’d
;

697 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

698 
³
 = 
’d
;

699 
dÚe
++;

701 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

720 
asm
 
	`__vŞ©e__
 (

765 : "=b" (
k
), "=D" (
p
), "=c" (
·t
)

766 : "D" (
p
),"d" (
³
),"b" (
k
),"c" (
·t
)

769 
	`do_tick
();

770 
BAILR


771 } !
dÚe
);

787 
asm
 
	`__vŞ©e__
 (

792 : "=c" (
k
), "=b" (
·t
)

793 : "c" (
k
), "b" (
lb
)

797 
j
=
£gs
-1; j>=0; j--) {

798 
¡¬t
 = 
v
->
m­
[
j
].start;

799 
’d
 = 
v
->
m­
[
j
].end;

800 
p
 = 
’d
 -1;

801 
³
 = 
’d
 -1;

802 
dÚe
 = 0;

805 ià((
ušŒ_t
)(
³
 - 
SPINSZ
) < (uintptr_t)pe) {

806 
³
 -ğ
SPINSZ
;

808 
³
 = 
¡¬t
;

810 ià((
ušŒ_t
)
³
 <ğ(ušŒ_t)
¡¬t
) {

811 
³
 = 
¡¬t
;

812 
dÚe
++;

814 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

832 
asm
 
	`__vŞ©e__
 (

879 : "=b" (
k
), "=D" (
p
), "=c" (
·t
)

880 : "D" (
p
),"d" (
³
),"b" (
k
),"c" (
·t
)

883 
	`do_tick
();

884 
BAILR


885 } !
dÚe
);

888 
	}
}

893 
	$modt¡
(
off£t
, 
™”
, 
ulÚg
 
p1
, ulÚg 
p2
)

895 
j
, 
k
, 
l
, 
dÚe
;

896 vŞ©
ulÚg
 *
³
;

897 vŞ©
ulÚg
 *
¡¬t
, *
’d
;

900 
	`h´št
(
LINE_PAT
, 
COL_PAT
-2, 
p1
);

901 
	`ıršt
(
LINE_PAT
, 
COL_PAT
+6, "-");

902 
	`d´št
(
LINE_PAT
, 
COL_PAT
+7, 
off£t
, 2, 1);

905 
j
=0; j<
£gs
; j++) {

906 
¡¬t
 = 
v
->
m­
[
j
].start;

907 
’d
 = 
v
->
m­
[
j
].end;

908 
³
 = (
ulÚg
 *)
¡¬t
;

909 
p
 = 
¡¬t
+
off£t
;

910 
dÚe
 = 0;

913 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

914 
³
 +ğ
SPINSZ
;

916 
³
 = 
’d
;

918 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

919 
³
 = 
’d
;

920 
dÚe
++;

922 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

930 
asm
 
	`__vŞ©e__
 (

939 : "=D" (
p
)

940 : "D" (
p
), "d" (
³
), "a" (
p1
)

942 
	`do_tick
();

943 
BAILR


944 } !
dÚe
);

948 
l
=0;†<
™”
;†++) {

949 
j
=0; j<
£gs
; j++) {

950 
¡¬t
 = 
v
->
m­
[
j
].start;

951 
’d
 = 
v
->
m­
[
j
].end;

952 
³
 = (
ulÚg
 *)
¡¬t
;

953 
p
 = 
¡¬t
;

954 
dÚe
 = 0;

955 
k
 = 0;

958 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

959 
³
 +ğ
SPINSZ
;

961 
³
 = 
’d
;

963 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

964 
³
 = 
’d
;

965 
dÚe
++;

967 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

980 
asm
 
	`__vŞ©e__
 (

997 : "=D" (
p
), "=b" (
k
)

998 : "D" (
p
), "d" (
³
), "a" (
p2
),

999 "b" (
k
), "c" (
off£t
)

1001 
	`do_tick
();

1002 
BAILR


1003 } !
dÚe
);

1008 
j
=0; j<
£gs
; j++) {

1009 
¡¬t
 = 
v
->
m­
[
j
].start;

1010 
’d
 = 
v
->
m­
[
j
].end;

1011 
³
 = (
ulÚg
 *)
¡¬t
;

1012 
p
 = 
¡¬t
+
off£t
;

1013 
dÚe
 = 0;

1016 ià((
ušŒ_t
)(
³
 + 
SPINSZ
) > (uintptr_t)pe) {

1017 
³
 +ğ
SPINSZ
;

1019 
³
 = 
’d
;

1021 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

1023 
³
 = 
’d
;

1024 
dÚe
++;

1026 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

1036 
asm
 
	`__vŞ©e__
 (

1063 : "=D" (
p
)

1064 : "D" (
p
), "d" (
³
), "a" (
p1
)

1067 
	`do_tick
();

1068 
BAILR


1069 } !
dÚe
);

1071 
	`ıršt
(
LINE_PAT
, 
COL_PAT
, " ");

1072 
	}
}

1080 
	$block_move
(
™”
)

1082 
i
, 
j
, 
dÚe
;

1083 
ulÚg
 
Ën
;

1084 vŞ©
ulÚg
 
p
, 
³
, 
µ
;

1085 vŞ©
ulÚg
 
¡¬t
, 
’d
;

1087 
	`ıršt
(
LINE_PAT
, 
COL_PAT
-2, " ");

1090 
j
=0; j<
£gs
; j++) {

1091 
¡¬t
 = (
ulÚg
)
v
->
m­
[
j
].start;

1092 #ifdeà
USB_WAR


1096 ià(
¡¬t
 < 0x4f0) {

1097 
¡¬t
 = 0x4f0;

1100 
’d
 = (
ulÚg
)
v
->
m­
[
j
].end;

1101 
³
 = 
¡¬t
;

1102 
p
 = 
¡¬t
;

1103 
dÚe
 = 0;

1106 ià((
ušŒ_t
)(
³
 + 
SPINSZ
*4) > (uintptr_t)pe) {

1107 
³
 +ğ
SPINSZ
*4;

1109 
³
 = 
’d
;

1111 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

1113 
³
 = 
’d
;

1114 
dÚe
++;

1116 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

1120 
Ën
 = ((
ulÚg
)
³
 - (ulÚg)
p
) / 64;

1121 
asm
 
	`__vŞ©e__
 (

1148 : "=D" (
p
)

1149 : "D" (
p
), "c" (
Ën
), "a" (1)

1152 
	`do_tick
();

1153 
BAILR


1154 } !
dÚe
);

1161 
j
=0; j<
£gs
; j++) {

1162 
¡¬t
 = (
ulÚg
)
v
->
m­
[
j
].start;

1163 #ifdeà
USB_WAR


1167 ià(
¡¬t
 < 0x4f0) {

1168 
¡¬t
 = 0x4f0;

1171 
’d
 = (
ulÚg
)
v
->
m­
[
j
].end;

1172 
³
 = 
¡¬t
;

1173 
p
 = 
¡¬t
;

1174 
dÚe
 = 0;

1177 ià((
ušŒ_t
)(
³
 + 
SPINSZ
*4) > (uintptr_t)pe) {

1178 
³
 +ğ
SPINSZ
*4;

1180 
³
 = 
’d
;

1182 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

1183 
³
 = 
’d
;

1184 
dÚe
++;

1186 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

1189 
µ
 = 
p
 + ((
³
 -…) / 2);

1190 
Ën
 = ((
ulÚg
)
³
 - (ulÚg)
p
) / 8;

1191 
i
=0; i<
™”
; i++) {

1192 
asm
 
	`__vŞ©e__
 (

1214 :: "g" (
p
), "g" (
µ
), "g" (
Ën
)

1217 
	`do_tick
();

1218 
BAILR


1220 
p
 = 
³
;

1221 } !
dÚe
);

1228 
j
=0; j<
£gs
; j++) {

1229 
¡¬t
 = (
ulÚg
)
v
->
m­
[
j
].start;

1230 #ifdeà
USB_WAR


1234 ià(
¡¬t
 < 0x4f0) {

1235 
¡¬t
 = 0x4f0;

1238 
’d
 = (
ulÚg
)
v
->
m­
[
j
].end;

1239 
³
 = 
¡¬t
;

1240 
p
 = 
¡¬t
;

1241 
dÚe
 = 0;

1244 ià((
ušŒ_t
)(
³
 + 
SPINSZ
*4) > (uintptr_t)pe) {

1245 
³
 +ğ
SPINSZ
*4;

1247 
³
 = 
’d
;

1249 ià((
ušŒ_t
)
³
 >ğ(ušŒ_t)
’d
) {

1250 
³
 = 
’d
;

1251 
dÚe
++;

1253 ià((
ušŒ_t
)
p
 =ğ(ušŒ_t)
³
) {

1256 
asm
 
	`__vŞ©e__
 (

1282 : "=D" (
p
)

1283 : "D" (
p
), "d" (
³
)

1286 
	`do_tick
();

1287 
BAILR


1288 } !
dÚe
);

1290 
	}
}

1295 
	#STIME
 5400

	)

1296 
	$b™_çde
()

1298 
j
;

1299 vŞ©
ulÚg
 *
³
;

1300 vŞ©
ulÚg
 
bad
;

1301 vŞ©
ulÚg
 *
¡¬t
,*
’d
;

1303 
‹¡_ticks
 +ğ(
STIME
 * 2);

1304 
v
->
·ss_ticks
 +ğ(
STIME
 * 2);

1307 
p1
 = 0;

1311 
	`h´št
(
LINE_PAT
, 
COL_PAT
, 
p1
);

1314 
j
=0; j<
£gs
; j++) {

1315 
¡¬t
 = 
v
->
m­
[
j
].start;

1316 
’d
 = 
v
->
m­
[
j
].end;

1317 
³
 = 
¡¬t
;

1318 
p
 = 
¡¬t
;

1319 
p
=
¡¬t
;…<
’d
;…++) {

1320 *
p
 = 
p1
;

1322 
	`do_tick
();

1323 
BAILR


1326 
	`¦“p
 (
STIME
, 0);

1329 
j
=0; j<
£gs
; j++) {

1330 
¡¬t
 = 
v
->
m­
[
j
].start;

1331 
’d
 = 
v
->
m­
[
j
].end;

1332 
³
 = 
¡¬t
;

1333 
p
 = 
¡¬t
;

1334 
p
=
¡¬t
;…<
’d
;…++) {

1335 ià((
bad
=*
p
è!ğ
p1
) {

1336 
	`”rÜ
((
ulÚg
*)
p
, 
p1
, 
bad
);

1339 
	`do_tick
();

1340 
BAILR


1342 ià(
p1
 == 0) {

1343 
p1
=-1;

1348 
	}
}

1353 
	$¦“p
(
n
, 
sms
)

1355 
i
, 

;

1356 
ulÚg
 
sh
, 
¦
, 
l
, 
h
, 
t
;

1358 

 = 0;

1360 
asm
 
	`__vŞ©e__
(

1361 "rdtsc":"÷" (
¦
),"=d" (
sh
));

1365 
asm
 
	`__vŞ©e__
(

1366 "rdtsc":"÷" (
l
),"=d" (
h
));

1367 
asm
 
	`__vŞ©e__
 (

1370 :"÷" (
l
), "=d" (
h
)

1371 :"g" (
¦
), "g" (
sh
),

1372 "0" (
l
), "1" (
h
));

1374 ià(
sms
 != 0) {

1375 
t
 = 
h
 * (()0xfffffffà/ 
v
->
şks_m£c
);

1376 
t
 +ğ(
l
 / 
v
->
şks_m£c
);

1378 
t
 = 
h
 * (()0xfffffffà/ 
v
->
şks_m£c
) / 1000;

1379 
t
 +ğ(
l
 / 
v
->
şks_m£c
) / 1000;

1383 ià(
t
 >ğ
n
) {

1388 ià(
sms
 == 0) {

1390 
i
 = 
t
 % 60;

1391 
	`d´št
(
LINE_TIME
, 
COL_TIME
+9, 
i
%10, 1, 0);

1392 
	`d´št
(
LINE_TIME
, 
COL_TIME
+8, 
i
/10, 1, 0);

1394 ià(
i
 !ğ

) {

1395 
	`check_šput
();

1396 

 = 
i
;

1399 
t
 /= 60;

1400 
i
 = 
t
 % 60;

1401 
	`d´št
(
LINE_TIME
, 
COL_TIME
+6, 
i
 % 10, 1, 0);

1402 
	`d´št
(
LINE_TIME
, 
COL_TIME
+5, 
i
 / 10, 1, 0);

1403 
t
 /= 60;

1404 
	`d´št
(
LINE_TIME
, 
COL_TIME
, 
t
, 4, 0);

1405 
BAILR


1408 
	}
}

1412 
	$b“p
(
äequ’cy
)

1414 
couÁ
 = 1193180 / 
äequ’cy
;

1417 
	`outb_p
(
	`šb_p
(0x61)|3, 0x61);

1420 
	`outb_p
(0xB6, 0x43);

1423 
	`outb_p
(
couÁ
 & 0xff, 0x42);

1424 
	`outb
((
couÁ
 >> 8) & 0xff, 0x42);

1427 
	`¦“p
(100, 1);

1430 
	`outb
(
	`šb_p
(0x61)&0xFC, 0x61);

1431 
	}
}

	@test.h

11 #iâdeà
_TEST_H_


12 
	#_TEST_H_


	)

13 
	#E88
 0x00

	)

14 
	#E801
 0x04

	)

15 
	#E820NR
 0x08

	)

16 
	#E820MAP
 0x0ø

	)

17 
	#E820MAX
 64

	)

18 
	#E820ENTRY_SIZE
 20

	)

19 
	#MEMINFO_SIZE
 (
E820MAP
 + 
E820MAX
 * 
E820ENTRY_SIZE
)

	)

20 
	#MAX_DMI_MEMDEVS
 16

	)

22 #iâdeà
__ASSEMBLY__


24 
	#E820_RAM
 1

	)

25 
	#E820_RESERVED
 2

	)

26 
	#E820_ACPI
 3

	)

27 
	#E820_NVS
 4

	)

29 
	se820’Œy
 {

30 
	maddr
;

31 
	msize
;

32 
	mty³
;

35 
	smem_šfo_t
 {

36 
	me88_mem_k
;

37 
	me801_mem_k
;

38 
	me820_Ä
;

39 
e820’Œy
 
	me820
[
E820MAX
];

43 
	tulÚg
;

44 
	#SPINSZ
 0x2000000

	)

45 
	#MOD_SZ
 20

	)

46 
	#BAILOUT
 ià(
ba
è
sk_‹¡
;

	)

47 
	#BAILR
 ià(
ba
è;

	)

48 
	#NULL
 0

	)

50 
	#DMI_SEARCH_START
 0x0000F000

	)

51 
	#DMI_SEARCH_LENGTH
 0x000F0FFF

	)

52 
	#MAX_DMI_MEMDEVS
 16

	)

54 
	#RES_START
 0xa0000

	)

55 
	#RES_END
 0x100000

	)

56 
	#SCREEN_ADR
 0xb8000

	)

57 
	#SCREEN_END_ADR
 (
SCREEN_ADR
 + 80*25*2)

	)

59 
	#TITLE_WIDTH
 28

	)

60 
	#LINE_TIME
 11

	)

61 
	#COL_TIME
 0

	)

62 
	#LINE_TST
 2

	)

63 
	#LINE_RANGE
 3

	)

64 
	#LINE_CPU
 1

	)

65 
	#COL_MID
 30

	)

66 
	#LINE_PAT
 4

	)

67 
	#COL_PAT
 41

	)

68 
	#LINE_INFO
 11

	)

69 
	#COL_CACHE_TOP
 13

	)

70 
	#COL_RESERVED
 22

	)

71 
	#COL_MMAP
 29

	)

72 
	#COL_CACHE
 40

	)

73 
	#COL_ECC
 46

	)

74 
	#COL_TST
 51

	)

75 
	#COL_PASS
 56

	)

76 
	#COL_ERR
 63

	)

77 
	#COL_ECC_ERR
 72

	)

78 
	#LINE_HEADER
 13

	)

79 
	#LINE_SCROLL
 15

	)

80 
	#BAR_SIZE
 (78-
COL_MID
-9)

	)

81 
	#LINE_MSG
 18

	)

82 
	#COL_MSG
 18

	)

84 
	#POP_W
 30

	)

85 
	#POP_H
 15

	)

86 
	#POP_X
 16

	)

87 
	#POP_Y
 8

	)

88 
	#POP2_W
 74

	)

89 
	#POP2_H
 21

	)

90 
	#POP2_X
 3

	)

91 
	#POP2_Y
 2

	)

95 
	#MS_COPY
 1

	)

96 
	#MS_WRITE
 2

	)

97 
	#MS_READ
 3

	)

99 
	#SZ_MODE_BIOS
 1

	)

100 
	#SZ_MODE_BIOS_RES
 2

	)

101 
	#SZ_MODE_PROBE
 3

	)

103 
	#g‘Cx86
(
»g
è({ 
	`outb
(Ôeg), 0x22); 
	`šb
(0x23); })

	)

104 
memcmp
(cÚ¡ *
s1
, cÚ¡ *
s2
, 
ulÚg
 
couÁ
);

105 
¡ºcmp
(cÚ¡ *
s1
, cÚ¡ *
s2
, 
ulÚg
 
n
);

106 *
memmove
(*
de¡
, cÚ¡ *
¤c
, 
ulÚg
 
n
);

107 
qu”y_lšuxbios
();

108 
qu”y_pcbios
();

109 
š£¹add»ss
(
ulÚg
);

110 
´š©n
();

111 
´š©n
();

112 
™ß
(
s
[], 
n
);

113 
»v”£
(*
p
);

114 
£rŸl_cÚsŞe_£tup
(*
·¿m
);

115 
£rŸl_echo_š™
();

116 
£rŸl_echo_´št
(cÚ¡ *
s
);

117 
‰y´št
(
y
, 
x
, cÚ¡ *
s
);

118 
‰y´štc
(
y
, 
x
, 
c
);

119 
ıršt
(
y
,
x
, cÚ¡ *
s
);

120 
h´št
(
y
,
x
,
ulÚg
 
v®
);

121 
h´št2
(
y
,
x
, 
ulÚg
 
v®
, 
Ën
);

122 
h´št3
(
y
,
x
, 
ulÚg
 
v®
, 
Ën
);

123 
x´št
(
y
,
x
,
ulÚg
 
v®
);

124 
­ršt
(
y
,
x
,
ulÚg
 
·ge
);

125 
d´št
(
y
,
x
,
ulÚg
 
v®
,
Ën
, 
right
);

126 
movšv1
(
™”
, 
ulÚg
 
p1
, ulÚg 
p2
);

127 
movšvr
();

128 
movšv32
(
™”
, 
ulÚg
 
p1
, ulÚg 
lb
, ulÚg 
mb
, 
sv®
, 
off
);

129 
modt¡
(
off
, 
™”
, 
ulÚg
 
p1
, ulÚg 
p2
);

130 
”rÜ
(
ulÚg
* 
adr
, ulÚg 
good
, ulÚg 
bad
);

131 
ad_”r1
(
ulÚg
 *
adr1
, ulÚg *
adr2
, ulÚg 
good
, ulÚg 
bad
);

132 
ad_”r2
(
ulÚg
 *
adr
, ulÚg 
bad
);

133 
do_tick
();

134 
¿nd_£ed
(
£ed1
, 
£ed2
);

135 
ulÚg
 
¿nd
();

136 
š™
();

137 
	g”egs
;

138 
š‹r
(
”egs
 *
Œ­_»gs
);

139 
£t_ÿche
(
v®
);

140 
check_šput
();

141 
foÙ”
();

142 
süŞl
();

143 
ş—r_süŞl
();

144 
pİup
();

145 
pİdown
();

146 
pİş—r
();

147 
pİ2up
();

148 
pİ2down
();

149 
pİ2ş—r
();

150 
g‘_cÚfig
();

151 
g‘_m’u
();

152 
g‘_´štmode
();

153 
addr_t¡1
();

154 
addr_t¡2
();

155 
b™_çde
();

156 
¦“p
(
£c
, 
sms
);

157 
b“p
(
äequ’cy
);

158 
g‘num
(
ulÚg
 
v®
);

159 
block_move
(
™”
);

160 
fšd_ticks
();

161 
´št_”r
(
ulÚg
 *
adr
, ulÚg 
good
, ulÚg 
bad
, ulÚg 
xÜ
);

162 
´št_ecc_”r
(
ulÚg
 
·ge
, ulÚg 
off£t
, 
cÜ»ùed
,

163 
syndrome
, 
chªÃl
);

164 
mem_size
();

165 
adj_mem
();

166 
ulÚg
 
g‘v®
(
x
, 
y
, 
»suÉ_shiá
);

167 
g‘_key
();

168 
ascii_to_keycode
(
š
);

169 
wa™_keyup
();

170 
´št_hdr
();

171 
»¡¬t
();

172 
·r™y_”r
(
ulÚg
 
edi
, ulÚg 
esi
);

173 
¡¬t_cÚfig
();

174 
ş—r_sü“n
();

175 
·gšg_off
();

176 
show_¥d
();

177 
m­_·ge
(
·ge
);

178 *
m­pšg
(
·ge_add»ss
);

179 *
em­pšg
(
·ge_add»ss
);

180 
·ge_of
(*
±r
);

181 
ulÚg
 
mem¥“d
(ulÚg 
¤c
, ulÚg 
Ën
, 
™”
, 
ty³
);

182 
ulÚg
 
cÜ»ù_tsc
(ulÚg 
–_Üg
);

184 
	#PRINTMODE_SUMMARY
 1

	)

185 
	#PRINTMODE_ADDRESSES
 0

	)

186 
	#PRINTMODE_PATTERNS
 2

	)

187 
	#PRINTMODE_NONE
 3

	)

188 
	#PRINTMODE_DMI
 4

	)

190 
	#BADRAM_MAXPATNS
 10

	)

192 
	s·œ
 {

193 
ulÚg
 
	madr
;

194 
ulÚg
 
	mmask
;

198 
šlše
 
	$ÿche_off
()

200 
	`asm
(

207 
	}
}

208 
šlše
 
	$ÿche_Ú
()

210 
	`asm
(

216 
	}
}

218 
šlše
 
	$»boÙ
()

220 
	`asm
(

239 
	}
}

241 
	smm­
 {

242 
ulÚg
 
	mpba£_addr
;

243 
ulÚg
 *
	m¡¬t
;

244 
ulÚg
 *
	m’d
;

247 
	spm­
 {

248 
ulÚg
 
	m¡¬t
;

249 
ulÚg
 
	m’d
;

252 
	st£q
 {

253 
	mÿche
;

254 
	m·t
;

255 
	m™”
;

256 
	m”rÜs
;

257 *
	mmsg
;

260 
	sıu_id’t
 {

261 
	mty³
;

262 
	mmod–
;

263 
	m¡•
;

264 
	mfl
;

265 
	mıuid
;

266 
	mÿ·b™y
;

267 
	mv’d_id
[12];

268 
	mÿche_šfo
[16];

269 
	mpwrÿp
;

270 
	mext
;

271 
	mã©u»_æag
;

272 
	mdÿche0_—x
;

273 
	mdÿche0_ebx
;

274 
	mdÿche0_ecx
;

275 
	mdÿche0_edx
;

276 
	mdÿche1_—x
;

277 
	mdÿche1_ebx
;

278 
	mdÿche1_ecx
;

279 
	mdÿche1_edx
;

280 
	mdÿche2_—x
;

281 
	mdÿche2_ebx
;

282 
	mdÿche2_ecx
;

283 
	mdÿche2_edx
;

284 
	mdÿche3_—x
;

285 
	mdÿche3_ebx
;

286 
	mdÿche3_ecx
;

287 
	mdÿche3_edx
;

290 
	sxadr
 {

291 
ulÚg
 
	m·ge
;

292 
ulÚg
 
	moff£t
;

295 
	s”r_šfo
 {

296 
xadr
 
	mlow_addr
;

297 
xadr
 
	mhigh_addr
;

298 
	meb™s
;

299 
	mtb™s
;

300 
	mmš_b™s
;

301 
	mmax_b™s
;

302 
	mmaxl
;

303 
	m—dr
;

304 
	mexÜ
;

305 
	mcÜ_”r
;

306 
	mhdr_æag
;

309 
	#X86_FEATURE_PAE
 (0*32+ 6è

	)

310 
	#MAX_MEM_SEGMENTS
 
E820MAX


	)

313 
	sv¬s
 {

314 vŞ©
	m‹¡
;

315 
	m·ss
;

316 *
	m—dr
;

317 
	mexÜ
;

318 
	mmsg_lše
;

319 
	mecouÁ
;

320 
	mecc_ecouÁ
;

321 
	mm£gs
;

322 
	m‹¡£l
;

323 
	msüŞl_¡¬t
;

324 
	mrdtsc
;

325 
	m·e
;

326 
	m·ss_ticks
;

327 
	mtÙ®_ticks
;

328 
	mµŒ
;

329 
	mŒ
;

330 
	mb“pmode
;

331 
”r_šfo
 
	m”ri
;

332 
pm­
 
	mpm­
[
MAX_MEM_SEGMENTS
];

333 
mm­
 
	mm­
[
MAX_MEM_SEGMENTS
];

334 
ulÚg
 
	m¶im_low”
;

335 
ulÚg
 
	m¶im_uµ”
;

336 
ulÚg
 
	mşks_m£c
;

337 
ulÚg
 
	m¡¬th
;

338 
ulÚg
 
	m¡¬
;

339 
ulÚg
 
	m¢­h
;

340 
ulÚg
 
	m¢­l
;

341 
ulÚg
 
	mextşock
;

342 
	mimc_ty³
;

343 
	m´štmode
;

344 
	mnum·Š
;

345 
·œ
 
	m·Š
 [
BADRAM_MAXPATNS
];

346 
ulÚg
 
	m‹¡_·ges
;

347 
ulÚg
 
	m£Ëùed_·ges
;

348 
ulÚg
 
	m»£rved_·ges
;

351 
	#FIRMWARE_UNKNOWN
 0

	)

352 
	#FIRMWARE_PCBIOS
 1

	)

353 
	#FIRMWARE_LINUXBIOS
 2

	)

355 
v¬s
 * cÚ¡ 
v
;

356 
_¡¬t
[], 
_’d
[], 
¡¬tup_32
[];

357 
_size
, 
_·ges
;

359 
mem_šfo_t
 
mem_šfo
;

362 
	#CPM_SINGLE
 1

	)

363 
	#CPM_RROBIN
 2

	)

364 
	#CPM_SEQ
 3

	)

	@/usr/include/inttypes.h

23 #iâdeà
_INTTYPES_H


24 
	#_INTTYPES_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	~<¡dšt.h
>

31 #iâdeà
____gwch¬_t_defšed


32 #ifdeà
__ılu¥lus


33 
	#__gwch¬_t
 
wch¬_t


	)

34 #–ià
defšed
 
__WCHAR_TYPE__


35 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

37 
	#__Ãed_wch¬_t


	)

38 
	~<¡ddef.h
>

39 
wch¬_t
 
	t__gwch¬_t
;

41 
	#____gwch¬_t_defšed
 1

	)

47 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_FORMAT_MACROS


49 #ià
__WORDSIZE
 == 64

50 
	#__PRI64_PREFIX
 "l"

	)

51 
	#__PRIPTR_PREFIX
 "l"

	)

53 
	#__PRI64_PREFIX
 "Î"

	)

54 
	#__PRIPTR_PREFIX


	)

60 
	#PRId8
 "d"

	)

61 
	#PRId16
 "d"

	)

62 
	#PRId32
 "d"

	)

63 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

65 
	#PRIdLEAST8
 "d"

	)

66 
	#PRIdLEAST16
 "d"

	)

67 
	#PRIdLEAST32
 "d"

	)

68 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIdFAST8
 "d"

	)

71 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

72 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

73 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

76 
	#PRIi8
 "i"

	)

77 
	#PRIi16
 "i"

	)

78 
	#PRIi32
 "i"

	)

79 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

81 
	#PRIiLEAST8
 "i"

	)

82 
	#PRIiLEAST16
 "i"

	)

83 
	#PRIiLEAST32
 "i"

	)

84 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIiFAST8
 "i"

	)

87 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

88 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

89 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

92 
	#PRIo8
 "o"

	)

93 
	#PRIo16
 "o"

	)

94 
	#PRIo32
 "o"

	)

95 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

97 
	#PRIoLEAST8
 "o"

	)

98 
	#PRIoLEAST16
 "o"

	)

99 
	#PRIoLEAST32
 "o"

	)

100 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIoFAST8
 "o"

	)

103 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

104 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

105 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

108 
	#PRIu8
 "u"

	)

109 
	#PRIu16
 "u"

	)

110 
	#PRIu32
 "u"

	)

111 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

113 
	#PRIuLEAST8
 "u"

	)

114 
	#PRIuLEAST16
 "u"

	)

115 
	#PRIuLEAST32
 "u"

	)

116 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIuFAST8
 "u"

	)

119 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

120 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

121 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

124 
	#PRIx8
 "x"

	)

125 
	#PRIx16
 "x"

	)

126 
	#PRIx32
 "x"

	)

127 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

129 
	#PRIxLEAST8
 "x"

	)

130 
	#PRIxLEAST16
 "x"

	)

131 
	#PRIxLEAST32
 "x"

	)

132 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIxFAST8
 "x"

	)

135 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

136 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

137 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

140 
	#PRIX8
 "X"

	)

141 
	#PRIX16
 "X"

	)

142 
	#PRIX32
 "X"

	)

143 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

145 
	#PRIXLEAST8
 "X"

	)

146 
	#PRIXLEAST16
 "X"

	)

147 
	#PRIXLEAST32
 "X"

	)

148 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

150 
	#PRIXFAST8
 "X"

	)

151 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

152 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

153 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

157 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

158 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

159 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

160 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

161 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

162 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

166 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

167 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

168 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

169 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

170 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

171 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

177 
	#SCNd8
 "hhd"

	)

178 
	#SCNd16
 "hd"

	)

179 
	#SCNd32
 "d"

	)

180 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

182 
	#SCNdLEAST8
 "hhd"

	)

183 
	#SCNdLEAST16
 "hd"

	)

184 
	#SCNdLEAST32
 "d"

	)

185 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNdFAST8
 "hhd"

	)

188 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

189 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

190 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

193 
	#SCNi8
 "hhi"

	)

194 
	#SCNi16
 "hi"

	)

195 
	#SCNi32
 "i"

	)

196 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

198 
	#SCNiLEAST8
 "hhi"

	)

199 
	#SCNiLEAST16
 "hi"

	)

200 
	#SCNiLEAST32
 "i"

	)

201 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNiFAST8
 "hhi"

	)

204 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

205 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

206 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

209 
	#SCNu8
 "hhu"

	)

210 
	#SCNu16
 "hu"

	)

211 
	#SCNu32
 "u"

	)

212 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

214 
	#SCNuLEAST8
 "hhu"

	)

215 
	#SCNuLEAST16
 "hu"

	)

216 
	#SCNuLEAST32
 "u"

	)

217 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNuFAST8
 "hhu"

	)

220 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

221 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

222 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

225 
	#SCNo8
 "hho"

	)

226 
	#SCNo16
 "ho"

	)

227 
	#SCNo32
 "o"

	)

228 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

230 
	#SCNoLEAST8
 "hho"

	)

231 
	#SCNoLEAST16
 "ho"

	)

232 
	#SCNoLEAST32
 "o"

	)

233 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNoFAST8
 "hho"

	)

236 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

237 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

238 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

241 
	#SCNx8
 "hhx"

	)

242 
	#SCNx16
 "hx"

	)

243 
	#SCNx32
 "x"

	)

244 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

246 
	#SCNxLEAST8
 "hhx"

	)

247 
	#SCNxLEAST16
 "hx"

	)

248 
	#SCNxLEAST32
 "x"

	)

249 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

251 
	#SCNxFAST8
 "hhx"

	)

252 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

253 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

254 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

258 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

259 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

260 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

261 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

262 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

265 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

266 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

267 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

268 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

269 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

274 
	g__BEGIN_DECLS


276 #ià
__WORDSIZE
 == 64

281 
	mquÙ
;

282 
	m»m
;

283 } 
	timaxdiv_t
;

290 
	mquÙ
;

291 
	m»m
;

292 } 
	timaxdiv_t
;

298 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

301 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

302 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

305 
štmax_t
 
	$¡¹oimax
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

306 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

309 
uštmax_t
 
	$¡¹oumax
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

310 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

313 
štmax_t
 
	$wc¡oimax
 (
__cÚ¡
 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

314 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

315 
__THROW
;

318 
uštmax_t
 
	$wc¡oumax
 (
__cÚ¡
 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

319 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

320 
__THROW
;

322 #ifdeà
__USE_EXTERN_INLINES


324 #ià
__WORDSIZE
 == 64

326 
	$__¡¹Ş_š‹º®
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

327 **
__»¡riù
 
__’d±r
,

328 
__ba£
, 
__group
)

329 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

331 
__ex‹º_šlše
 
štmax_t


332 
	`__NTH
 (
	$¡¹oimax
 (
__cÚ¡
 *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

333 
ba£
))

335  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

336 
	}
}

338 
	$__¡¹oul_š‹º®
 (
__cÚ¡
 *

339 
__»¡riù
 
__ÅŒ
,

340 ** 
__»¡riù
 
__’d±r
,

341 
__ba£
, 
__group
)

342 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

344 
__ex‹º_šlše
 
uštmax_t


345 
	`__NTH
 (
	$¡¹oumax
 (
__cÚ¡
 *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

346 
ba£
))

348  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

349 
	}
}

351 
	$__wc¡Ş_š‹º®
 (
__cÚ¡
 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

352 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

353 
__ba£
, 
__group
)

354 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

356 
__ex‹º_šlše
 
štmax_t


357 
	`__NTH
 (
	$wc¡oimax
 (
__cÚ¡
 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

358 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

360  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

361 
	}
}

363 
	$__wc¡oul_š‹º®
 (
__cÚ¡
 
__gwch¬_t
 *

364 
__»¡riù
 
__ÅŒ
,

365 
__gwch¬_t
 **

366 
__»¡riù
 
__’d±r
,

367 
__ba£
, 
__group
)

368 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

370 
__ex‹º_šlše
 
uštmax_t


371 
	`__NTH
 (
	$wc¡oumax
 (
__cÚ¡
 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

372 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

374  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

375 
	}
}

379 
__ex‹nsiÚ__


380 
	$__¡¹Şl_š‹º®
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

381 **
__»¡riù
 
__’d±r
,

382 
__ba£
, 
__group
)

383 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

385 
__ex‹º_šlše
 
štmax_t


386 
	`__NTH
 (
	$¡¹oimax
 (
__cÚ¡
 *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

387 
ba£
))

389  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

390 
	}
}

392 
__ex‹nsiÚ__


393 
	$__¡¹ouÎ_š‹º®
 (
__cÚ¡
 *

394 
__»¡riù
 
__ÅŒ
,

396 
__»¡riù
 
__’d±r
,

397 
__ba£
,

398 
__group
)

399 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

401 
__ex‹º_šlše
 
uštmax_t


402 
	`__NTH
 (
	$¡¹oumax
 (
__cÚ¡
 *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

403 
ba£
))

405  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

406 
	}
}

408 
__ex‹nsiÚ__


409 
	$__wc¡Şl_š‹º®
 (
__cÚ¡
 
__gwch¬_t
 *

410 
__»¡riù
 
__ÅŒ
,

411 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

412 
__ba£
, 
__group
)

413 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

415 
__ex‹º_šlše
 
štmax_t


416 
	`__NTH
 (
	$wc¡oimax
 (
__cÚ¡
 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

417 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

419  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

420 
	}
}

423 
__ex‹nsiÚ__


424 
	$__wc¡ouÎ_š‹º®
 (
__cÚ¡
 
__gwch¬_t
 *

425 
__»¡riù
 
__ÅŒ
,

426 
__gwch¬_t
 **

427 
__»¡riù
 
__’d±r
,

428 
__ba£
,

429 
__group
)

430 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

432 
__ex‹º_šlše
 
uštmax_t


433 
	`__NTH
 (
	$wc¡oumax
 (
__cÚ¡
 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

434 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

436  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

437 
	}
}

442 
	g__END_DECLS


	@/usr/include/string.h

23 #iâdef 
_STRING_H


24 
	#_STRING_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

36 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

37 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

41 
__BEGIN_NAMESPACE_STD


43 *
	$memıy
 (*
__»¡riù
 
__de¡
,

44 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

45 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 *
	$memmove
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
)

49 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

50 
__END_NAMESPACE_STD


55 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


56 *
	$memcıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

57 
__c
, 
size_t
 
__n
)

58 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

62 
__BEGIN_NAMESPACE_STD


64 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

67 
	$memcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

68 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

71 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


74 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

76 
__cÚ¡
 *
	`memchr
 (__cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

77 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

79 #ifdeà
__OPTIMIZE__


80 
__ex‹º_®ways_šlše
 *

81 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


83  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

86 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

87 
	`memchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


89  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

92 
	}
}

94 *
	$memchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
)

95 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

97 
__END_NAMESPACE_STD


99 #ifdeà
__USE_GNU


102 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


103 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

105 "C++" 
__cÚ¡
 *
	$¿wmemchr
 (
__cÚ¡
 *
__s
, 
__c
)

106 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

108 *
	$¿wmemchr
 (
__cÚ¡
 *
__s
, 
__c
)

109 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

113 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


114 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

116 "C++" 
__cÚ¡
 *
	$memrchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
)

117 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

119 *
	$memrchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
)

120 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

125 
__BEGIN_NAMESPACE_STD


127 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

128 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

130 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

131 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

132 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

135 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

136 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

138 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

139 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

142 
	$¡rcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

143 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

145 
	$¡ºcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

146 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

149 
	$¡rcŞl
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

150 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

152 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

153 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

154 
__THROW
 
	`__nÚnuÎ
 ((2));

155 
__END_NAMESPACE_STD


157 #ifdeà
__USE_XOPEN2K8


161 
	~<xloÿË.h
>

164 
	$¡rcŞl_l
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

165 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

167 
size_t
 
	$¡rxäm_l
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
,

168 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

171 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


173 *
	$¡rdup
 (
__cÚ¡
 *
__s
)

174 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

180 #ià
defšed
 
__USE_XOPEN2K8


181 *
	$¡ºdup
 (
__cÚ¡
 *
__¡ršg
, 
size_t
 
__n
)

182 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

185 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


187 
	#¡rdu·
(
s
) \

188 (
__ex‹nsiÚ__
 \

190 
__cÚ¡
 *
__Şd
 = (
s
); \

191 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

192 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

193 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

194 
	}
}))

	)

197 
	#¡ºdu·
(
s
, 
n
) \

198 (
__ex‹nsiÚ__
 \

200 
__cÚ¡
 *
__Şd
 = (
s
); \

201 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

202 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

203 
__Ãw
[
__Ën
] = '\0'; \

204 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

205 }))

	)

208 
	g__BEGIN_NAMESPACE_STD


210 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


213 *
¡rchr
 (*
__s
, 
__c
)

214 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

215 
__cÚ¡
 *
¡rchr
 (__cÚ¡ *
__s
, 
__c
)

216 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

218 #ifdeà
__OPTIMIZE__


219 
__ex‹º_®ways_šlše
 *

220 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


222  
__butš_¡rchr
 (
__s
, 
__c
);

225 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

226 
¡rchr
 (
__cÚ¡
 *
__s
, 
__c
è
	g__THROW


228  
__butš_¡rchr
 (
__s
, 
__c
);

233 *
	$¡rchr
 (
__cÚ¡
 *
__s
, 
__c
)

234 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


240 *
	`¡¼chr
 (*
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

242 
__cÚ¡
 *
	`¡¼chr
 (__cÚ¡ *
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

245 #ifdeà
__OPTIMIZE__


246 
__ex‹º_®ways_šlše
 *

247 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


249  
	`__butš_¡¼chr
 (
__s
, 
__c
);

252 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

253 
	`¡¼chr
 (
__cÚ¡
 *
__s
, 
__c
è
__THROW


255  
	`__butš_¡¼chr
 (
__s
, 
__c
);

258 
	}
}

260 *
	$¡¼chr
 (
__cÚ¡
 *
__s
, 
__c
)

261 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

263 
__END_NAMESPACE_STD


265 #ifdeà
__USE_GNU


268 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


269 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

271 "C++" 
__cÚ¡
 *
	$¡rchºul
 (
__cÚ¡
 *
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

274 *
	$¡rchºul
 (
__cÚ¡
 *
__s
, 
__c
)

275 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

279 
__BEGIN_NAMESPACE_STD


282 
size_t
 
	$¡rc¥n
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__»jeù
)

283 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

286 
size_t
 
	$¡r¥n
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__acû±
)

287 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

289 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


292 *
	`¡½brk
 (*
__s
, 
__cÚ¡
 *
__acû±
)

293 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

294 
__cÚ¡
 *
	`¡½brk
 (__cÚ¡ *
__s
, __cÚ¡ *
__acû±
)

295 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

297 #ifdeà
__OPTIMIZE__


298 
__ex‹º_®ways_šlše
 *

299 
	`¡½brk
 (*
__s
, 
__cÚ¡
 *
__acû±
è
__THROW


301  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

304 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

305 
	`¡½brk
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__acû±
è
__THROW


307  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

310 
	}
}

312 *
	$¡½brk
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__acû±
)

313 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

316 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


319 *
	`¡r¡r
 (*
__hay¡ack
, 
__cÚ¡
 *
__ÃedË
)

320 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

321 
__cÚ¡
 *
	`¡r¡r
 (__cÚ¡ *
__hay¡ack
,

322 
__cÚ¡
 *
__ÃedË
)

323 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

325 #ifdeà
__OPTIMIZE__


326 
__ex‹º_®ways_šlše
 *

327 
	`¡r¡r
 (*
__hay¡ack
, 
__cÚ¡
 *
__ÃedË
è
__THROW


329  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

332 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

333 
	`¡r¡r
 (
__cÚ¡
 *
__hay¡ack
, __cÚ¡ *
__ÃedË
è
__THROW


335  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

338 
	}
}

340 *
	$¡r¡r
 (
__cÚ¡
 *
__hay¡ack
, __cÚ¡ *
__ÃedË
)

341 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

346 *
	$¡¹ok
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__d–im
)

347 
__THROW
 
	`__nÚnuÎ
 ((2));

348 
__END_NAMESPACE_STD


352 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

353 
__cÚ¡
 *
__»¡riù
 
__d–im
,

354 **
__»¡riù
 
__§ve_±r
)

355 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

356 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


357 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__d–im
,

358 **
__»¡riù
 
__§ve_±r
)

359 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

362 #ifdeà
__USE_GNU


364 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


365 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, 
__cÚ¡
 *
__ÃedË
)

366 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

367 "C++" 
__cÚ¡
 *
	$¡rÿ£¡r
 (
__cÚ¡
 *
__hay¡ack
,

368 
__cÚ¡
 *
__ÃedË
)

369 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

371 *
	$¡rÿ£¡r
 (
__cÚ¡
 *
__hay¡ack
, __cÚ¡ *
__ÃedË
)

372 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

376 #ifdeà
__USE_GNU


380 *
	$memmem
 (
__cÚ¡
 *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

381 
__cÚ¡
 *
__ÃedË
, 
size_t
 
__ÃedËËn
)

382 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

386 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

387 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

388 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

389 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

390 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

391 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

395 
__BEGIN_NAMESPACE_STD


397 
size_t
 
	$¡¾’
 (
__cÚ¡
 *
__s
)

398 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

399 
__END_NAMESPACE_STD


401 #ifdef 
__USE_XOPEN2K8


404 
size_t
 
	$¡ºËn
 (
__cÚ¡
 *
__¡ršg
, 
size_t
 
__maxËn
)

405 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

409 
__BEGIN_NAMESPACE_STD


411 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

412 
__END_NAMESPACE_STD


413 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


421 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


424 #ifdeà
__REDIRECT_NTH


425 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

426 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

427 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

429 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

430 
__THROW
 
	`__nÚnuÎ
 ((2));

431 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

436 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

437 
__THROW
 
	`__nÚnuÎ
 ((2));

441 #ifdeà
__USE_XOPEN2K8


443 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

449 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

451 #ifdeà
__USE_BSD


453 
	$bcİy
 (
__cÚ¡
 *
__¤c
, *
__de¡
, 
size_t
 
__n
)

454 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

457 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

460 
	$bcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

461 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

464 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


467 *
	`šdex
 (*
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

469 
__cÚ¡
 *
	`šdex
 (__cÚ¡ *
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

472 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


473 
__ex‹º_®ways_šlše
 *

474 
	`šdex
 (*
__s
, 
__c
è
__THROW


476  
	`__butš_šdex
 (
__s
, 
__c
);

479 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

480 
	`šdex
 (
__cÚ¡
 *
__s
, 
__c
è
__THROW


482  
	`__butš_šdex
 (
__s
, 
__c
);

485 
	}
}

487 *
	$šdex
 (
__cÚ¡
 *
__s
, 
__c
)

488 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

492 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


495 *
	`ršdex
 (*
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

497 
__cÚ¡
 *
	`ršdex
 (__cÚ¡ *
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

500 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


501 
__ex‹º_®ways_šlše
 *

502 
	`ršdex
 (*
__s
, 
__c
è
__THROW


504  
	`__butš_ršdex
 (
__s
, 
__c
);

507 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

508 
	`ršdex
 (
__cÚ¡
 *
__s
, 
__c
è
__THROW


510  
	`__butš_ršdex
 (
__s
, 
__c
);

513 
	}
}

515 *
	$ršdex
 (
__cÚ¡
 *
__s
, 
__c
)

516 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

521 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

525 #ifdef 
__USE_GNU


526 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

527 #ifdeà
__GNUC__


528 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

529 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

534 
	$¡rÿ£cmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

535 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

538 
	$¡ºÿ£cmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

539 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

542 #ifdef 
__USE_GNU


545 
	$¡rÿ£cmp_l
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
,

546 
__loÿË_t
 
__loc
)

547 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

549 
	$¡ºÿ£cmp_l
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
,

550 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

551 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

554 #ifdef 
__USE_BSD


557 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

558 
__cÚ¡
 *
__»¡riù
 
__d–im
)

559 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

562 #ifdef 
__USE_XOPEN2K8


564 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

567 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

568 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

569 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

570 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

574 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

575 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

576 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

577 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

578 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

582 #ifdef 
__USE_GNU


584 
	$¡rv”scmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

585 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

588 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

593 #iâdeà
ba£Çme


598 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


599 "C++" *
	$ba£Çme
 (*
__f’ame
)

600 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

601 "C++" 
__cÚ¡
 *
	$ba£Çme
 (
__cÚ¡
 *
__f’ame
)

602 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

604 *
	$ba£Çme
 (
__cÚ¡
 *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

610 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

611 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

612 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


632 
	~<b™s/¡ršg.h
>

635 
	~<b™s/¡ršg2.h
>

638 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


640 
	~<b™s/¡ršg3.h
>

644 
__END_DECLS


	@/usr/include/sys/io.h

19 #iâdef 
_SYS_IO_H


20 
	#_SYS_IO_H
 1

	)

22 
	~<ã©u»s.h
>

24 
__BEGIN_DECLS


33 
	$iİ”m
 (
__äom
, 
__num
,

34 
__tuº_Ú
è
__THROW
;

39 
	$iİl
 (
__Ëv–
è
__THROW
;

41 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

43 
__šlše
 

44 
	$šb
 (
__pÜt
)

46 
_v
;

48 
__asm__
 
	`__vŞ©e__
 ("šb %w1,%0":"÷" (
_v
):"Nd" (
__pÜt
));

49  
_v
;

50 
	}
}

52 
__šlše
 

53 
	$šb_p
 (
__pÜt
)

55 
_v
;

57 
__asm__
 
	`__vŞ©e__
 ("šb %w1,%0\noutb %%®,$0x80":"÷" (
_v
):"Nd" (
__pÜt
));

58  
_v
;

59 
	}
}

61 
__šlše
 

62 
	$šw
 (
__pÜt
)

64 
_v
;

66 
__asm__
 
	`__vŞ©e__
 ("šw %w1,%0":"÷" (
_v
):"Nd" (
__pÜt
));

67  
_v
;

68 
	}
}

70 
__šlše
 

71 
	$šw_p
 (
__pÜt
)

73 
_v
;

75 
__asm__
 
	`__vŞ©e__
 ("šw %w1,%0\noutb %%®,$0x80":"÷" (
_v
):"Nd" (
__pÜt
));

76  
_v
;

77 
	}
}

79 
__šlše
 

80 
	$šl
 (
__pÜt
)

82 
_v
;

84 
__asm__
 
	`__vŞ©e__
 ("šÈ%w1,%0":"÷" (
_v
):"Nd" (
__pÜt
));

85  
_v
;

86 
	}
}

88 
__šlše
 

89 
	$šl_p
 (
__pÜt
)

91 
_v
;

92 
__asm__
 
	`__vŞ©e__
 ("šÈ%w1,%0\noutb %%®,$0x80":"÷" (
_v
):"Nd" (
__pÜt
));

93  
_v
;

94 
	}
}

96 
__šlše
 

97 
	$outb
 (
__v®ue
, 
__pÜt
)

99 
__asm__
 
	`__vŞ©e__
 ("outb %b0,%w1": :"a" (
__v®ue
), "Nd" (
__pÜt
));

100 
	}
}

102 
__šlše
 

103 
	$outb_p
 (
__v®ue
, 
__pÜt
)

105 
__asm__
 
	`__vŞ©e__
 ("outb %b0,%w1\noutb %%®,$0x80": :"a" (
__v®ue
),

106 "Nd" (
__pÜt
));

107 
	}
}

109 
__šlše
 

110 
	$outw
 (
__v®ue
, 
__pÜt
)

112 
__asm__
 
	`__vŞ©e__
 ("outw %w0,%w1": :"a" (
__v®ue
), "Nd" (
__pÜt
));

114 
	}
}

116 
__šlše
 

117 
	$outw_p
 (
__v®ue
, 
__pÜt
)

119 
__asm__
 
	`__vŞ©e__
 ("outw %w0,%w1\noutb %%®,$0x80": :"a" (
__v®ue
),

120 "Nd" (
__pÜt
));

121 
	}
}

123 
__šlše
 

124 
	$ou
 (
__v®ue
, 
__pÜt
)

126 
__asm__
 
	`__vŞ©e__
 ("ou %0,%w1": :"a" (
__v®ue
), "Nd" (
__pÜt
));

127 
	}
}

129 
__šlše
 

130 
	$ou_p
 (
__v®ue
, 
__pÜt
)

132 
__asm__
 
	`__vŞ©e__
 ("ou %0,%w1\noutb %%®,$0x80": :"a" (
__v®ue
),

133 "Nd" (
__pÜt
));

134 
	}
}

136 
__šlše
 

137 
	$šsb
 (
__pÜt
, *
addr
, 
__couÁ
)

139 
__asm__
 
	`__vŞ©e__
 ("şd ;„• ; insb":"=D" (
addr
), "=c" (
__couÁ
)

140 :"d" (
__pÜt
), "0" (
addr
), "1" (
__couÁ
));

141 
	}
}

143 
__šlše
 

144 
	$šsw
 (
__pÜt
, *
addr
, 
__couÁ
)

146 
__asm__
 
	`__vŞ©e__
 ("şd ;„• ; insw":"=D" (
addr
), "=c" (
__couÁ
)

147 :"d" (
__pÜt
), "0" (
addr
), "1" (
__couÁ
));

148 
	}
}

150 
__šlše
 

151 
	$š¦
 (
__pÜt
, *
addr
, 
__couÁ
)

153 
__asm__
 
	`__vŞ©e__
 ("şd ;„• ; in¦":"=D" (
addr
), "=c" (
__couÁ
)

154 :"d" (
__pÜt
), "0" (
addr
), "1" (
__couÁ
));

155 
	}
}

157 
__šlše
 

158 
	$outsb
 (
__pÜt
, cÚ¡ *
addr
, 
__couÁ
)

160 
__asm__
 
	`__vŞ©e__
 ("şd ;„• ; outsb":"=S" (
addr
), "=c" (
__couÁ
)

161 :"d" (
__pÜt
), "0" (
addr
), "1" (
__couÁ
));

162 
	}
}

164 
__šlše
 

165 
	$outsw
 (
__pÜt
, cÚ¡ *
addr
, 
__couÁ
)

167 
__asm__
 
	`__vŞ©e__
 ("şd ;„• ; outsw":"=S" (
addr
), "=c" (
__couÁ
)

168 :"d" (
__pÜt
), "0" (
addr
), "1" (
__couÁ
));

169 
	}
}

171 
__šlše
 

172 
	$out¦
 (
__pÜt
, cÚ¡ *
addr
, 
__couÁ
)

174 
__asm__
 
	`__vŞ©e__
 ("şd ;„• ; out¦":"=S" (
addr
), "=c" (
__couÁ
)

175 :"d" (
__pÜt
), "0" (
addr
), "1" (
__couÁ
));

176 
	}
}

180 
	g__END_DECLS


	@/usr/include/bits/string.h

20 #iâdeà
_STRING_H


26 
	#_STRING_ARCH_uÇligÃd
 1

	)

	@/usr/include/bits/string2.h

21 #iâdeà
_STRING_H


25 #ià!
defšed
 
__NO_STRING_INLINES
 && !defšed 
__BOUNDED_POINTERS__


42 #iâdeà
__STRING_INLINE


43 #ifdeà
__ılu¥lus


44 
	#__STRING_INLINE
 
šlše


	)

46 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

50 #ià
_STRING_ARCH_uÇligÃd


52 
	~<’dŸn.h
>

53 
	~<b™s/ty³s.h
>

55 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


56 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

57 (((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1] << 8 \

58 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
])

	)

59 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

60 (((((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

61 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

62 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

63 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
])

	)

65 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

66 (((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
] << 8 \

67 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1])

	)

68 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

69 (((((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
] << 8 \

70 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

71 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

72 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 3])

	)

77 
	#__STRING2_COPY_TYPE
(
N
) \

78 ¡ruù { 
__¬r
[
N
]; } \

79 
	t__©Œibu‹__
 ((
	t__·cked__
)è
	t__STRING2_COPY_ARR
##
	tN


	)

80 
	t__STRING2_COPY_TYPE
 (2);

81 
__STRING2_COPY_TYPE
 (3);

82 
__STRING2_COPY_TYPE
 (4);

83 
__STRING2_COPY_TYPE
 (5);

84 
__STRING2_COPY_TYPE
 (6);

85 
__STRING2_COPY_TYPE
 (7);

86 
__STRING2_COPY_TYPE
 (8);

87 #undeà
__STRING2_COPY_TYPE


93 
	#__¡ršg2_1b±r_p
(
__x
) \

94 ((
size_t
)(cÚ¡ *)((
__x
è+ 1è- (size_t)(cÚ¡ *)(__xè=ğ1)

	)

97 #ià!
defšed
 
_HAVE_STRING_ARCH_mem£t


98 #ià!
__GNUC_PREREQ
 (3, 0)

99 #ià
_STRING_ARCH_uÇligÃd


100 
	#mem£t
(
s
, 
c
, 
n
) \

101 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

102 ? ((
n
) == 1 \

103 ? 
	`__mem£t_1
 (
s
, 
c
) \

104 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

105 : (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

106 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

107 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

109 
	#__mem£t_1
(
s
, 
c
è({ *
__s
 = (s); \

110 *((
__ušt8_t
 *è
__s
èğ(__ušt8_tè
c
; __s; })

	)

112 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

113 ({ *
__s
 = (
s
); \

115 
__ui
; \

116 
__usi
; \

117 
__uc
; \

118 } *
__u
 = 
__s
; \

119 
__ušt8_t
 
__c
 = (__ušt8_tè(
c
); \

122 (è(
n
)) \

125 
__u
->
__ui
 = 
__c
 * 0x01010101; \

126 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

128 
__u
->
__ui
 = 
__c
 * 0x01010101; \

129 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

131 
__u
->
__ui
 = 
__c
 * 0x01010101; \

132 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

134 
__u
->
__usi
 = (è
__c
 * 0x0101; \

135 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

136 
__u
->
__uc
 = (è
__c
; \

140 
__u
->
__ui
 = 
__c
 * 0x01010101; \

141 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

143 
__u
->
__ui
 = 
__c
 * 0x01010101; \

144 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

146 
__u
->
__ui
 = 
__c
 * 0x01010101; \

147 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

149 
__u
->
__usi
 = (è
__c
 * 0x0101; \

153 
__u
->
__ui
 = 
__c
 * 0x01010101; \

154 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

156 
__u
->
__ui
 = 
__c
 * 0x01010101; \

157 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

159 
__u
->
__ui
 = 
__c
 * 0x01010101; \

160 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

162 
__u
->
__uc
 = (è
__c
; \

166 
__u
->
__ui
 = 
__c
 * 0x01010101; \

167 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

169 
__u
->
__ui
 = 
__c
 * 0x01010101; \

170 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

172 
__u
->
__ui
 = 
__c
 * 0x01010101; \

173 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

175 
__u
->
__ui
 = 
__c
 * 0x01010101; \

180 
__s
; })

	)

182 
	#mem£t
(
s
, 
c
, 
n
) \

183 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

184 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

185 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

194 #ià
__GNUC_PREREQ
 (2, 91)

195 
	#__bz”o
(
s
, 
n
è
	`__butš_mem£t
 (s, '\0',‚)

	)

203 #ifdeà
__USE_GNU


204 #ià!
defšed
 
_HAVE_STRING_ARCH_mempıy
 || defšed 
_FORCE_INLINES


205 #iâdeà
_HAVE_STRING_ARCH_mempıy


206 #ià
__GNUC_PREREQ
 (3, 4)

207 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__butš_mempıy
 (de¡, src,‚)

	)

208 #–ià
__GNUC_PREREQ
 (3, 0)

209 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

210 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

211 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

212 ? 
	`__butš_memıy
 (
de¡
, 
¤c
, 
n
) + (n) \

213 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

215 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

216 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

217 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

218 ? 
	`__mempıy_sm®l
 (
de¡
, 
	`__mempıy_¬gs
 (
¤c
), 
n
) \

219 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

223 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy
 (de¡, src,‚)

	)

226 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


227 #ià
_STRING_ARCH_uÇligÃd


228 #iâdeà
_FORCE_INLINES


229 
	#__mempıy_¬gs
(
¤c
) \

230 ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[2], \

231 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[6], \

232 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

233 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

234 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

235 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

237 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , , , ,

238 
__ušt16_t
, __ušt16_t, 
__ušt32_t
,

239 
__ušt32_t
, 
size_t
);

240 
__STRING_INLINE
 *

241 
	$__mempıy_sm®l
 (*
__de¡1
,

242 
__¤c0_1
, 
__¤c2_1
, 
__¤c4_1
, 
__¤c6_1
,

243 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

244 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

245 
size_t
 
__¤ş’
)

248 
__ušt32_t
 
__ui
;

249 
__ušt16_t
 
__usi
;

250 
__uc
;

251 
__c
;

252 } *
__u
 = 
__de¡1
;

253 (è
__¤ş’
)

256 
__u
->
__c
 = 
__¤c0_1
;

257 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

260 
__u
->
__usi
 = 
__¤c0_2
;

261 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

264 
__u
->
__usi
 = 
__¤c0_2
;

265 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

266 
__u
->
__c
 = 
__¤c2_1
;

267 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

270 
__u
->
__ui
 = 
__¤c0_4
;

271 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

274 
__u
->
__ui
 = 
__¤c0_4
;

275 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

276 
__u
->
__c
 = 
__¤c4_1
;

277 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

280 
__u
->
__ui
 = 
__¤c0_4
;

281 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

282 
__u
->
__usi
 = 
__¤c4_2
;

283 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

286 
__u
->
__ui
 = 
__¤c0_4
;

287 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

288 
__u
->
__usi
 = 
__¤c4_2
;

289 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

290 
__u
->
__c
 = 
__¤c6_1
;

291 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

294 
__u
->
__ui
 = 
__¤c0_4
;

295 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

296 
__u
->
__ui
 = 
__¤c4_4
;

297 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

300  (*è
__u
;

301 
	}
}

303 #iâdeà
_FORCE_INLINES


304 
	#__mempıy_¬gs
(
¤c
) \

305 ((
__cÚ¡
 *è(
¤c
))[0], \

306 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

307 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1] } }), \

308 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

309 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

310 ((
__cÚ¡
 *è(
¤c
))[2] } }), \

311 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

312 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

313 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3] } }), \

314 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

315 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

316 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

317 ((
__cÚ¡
 *è(
¤c
))[4] } }), \

318 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

319 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

320 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

321 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5] } }), \

322 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

323 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

324 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

325 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

326 ((
__cÚ¡
 *è(
¤c
))[6] } }), \

327 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

328 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

329 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

330 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

331 ((
__cÚ¡
 *è(
¤c
))[6], ((__cÚ¡ *è(¤c))[7] } })

	)

333 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , 
__STRING2_COPY_ARR2
,

334 
__STRING2_COPY_ARR3
,

335 
__STRING2_COPY_ARR4
,

336 
__STRING2_COPY_ARR5
,

337 
__STRING2_COPY_ARR6
,

338 
__STRING2_COPY_ARR7
,

339 
__STRING2_COPY_ARR8
, 
size_t
);

340 
__STRING_INLINE
 *

341 
	$__mempıy_sm®l
 (*
__de¡
, 
__¤c1
,

342 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

343 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

344 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

345 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

348 
__c
;

349 
__STRING2_COPY_ARR2
 
__sÿ2
;

350 
__STRING2_COPY_ARR3
 
__sÿ3
;

351 
__STRING2_COPY_ARR4
 
__sÿ4
;

352 
__STRING2_COPY_ARR5
 
__sÿ5
;

353 
__STRING2_COPY_ARR6
 
__sÿ6
;

354 
__STRING2_COPY_ARR7
 
__sÿ7
;

355 
__STRING2_COPY_ARR8
 
__sÿ8
;

356 } *
__u
 = 
__de¡
;

357 (è
__¤ş’
)

360 
__u
->
__c
 = 
__¤c1
;

363 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

366 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

369 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

372 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

375 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

378 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

381 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

384  
	`__ex‹nsiÚ__
 ((*è
__u
 + 
__¤ş’
);

385 
	}
}

393 #iâdeà
_HAVE_STRING_ARCH_¡rchr


394 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

395 #ià
__GNUC_PREREQ
 (3, 2)

396 
	#¡rchr
(
s
, 
c
) \

397 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
è&& !__butš_cÚ¡ªt_°(
s
) \

398 && (
c
) == '\0' \

399 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

400 : 
	`__butš_¡rchr
 (
s
, 
c
)))

	)

402 
	#¡rchr
(
s
, 
c
) \

403 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

404 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

405 : 
	`¡rchr
 (
s
, 
c
)))

	)

411 #ià(!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)) \

412 || 
defšed
 
	g_FORCE_INLINES


413 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)

414 
	#¡rıy
(
de¡
, 
¤c
) \

415 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

416 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

417 ? 
	`__¡rıy_sm®l
 (
de¡
, 
	`__¡rıy_¬gs
 (
¤c
), \

418 
	`¡¾’
 (
¤c
) + 1) \

419 : (*è
	`memıy
 (
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1)) \

420 : 
	`¡rıy
 (
de¡
, 
¤c
)))

	)

423 #ià
_STRING_ARCH_uÇligÃd


424 #iâdeà
_FORCE_INLINES


425 
	#__¡rıy_¬gs
(
¤c
) \

426 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

427 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

428 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

429 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

431 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

432 
__ušt32_t
, __ušt32_t, 
size_t
);

433 
__STRING_INLINE
 *

434 
	$__¡rıy_sm®l
 (*
__de¡
,

435 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

436 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

437 
size_t
 
__¤ş’
)

440 
__ušt32_t
 
__ui
;

441 
__ušt16_t
 
__usi
;

442 
__uc
;

443 } *
__u
 = (*è
__de¡
;

444 (è
__¤ş’
)

447 
__u
->
__uc
 = '\0';

450 
__u
->
__usi
 = 
__¤c0_2
;

453 
__u
->
__usi
 = 
__¤c0_2
;

454 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

455 
__u
->
__uc
 = '\0';

458 
__u
->
__ui
 = 
__¤c0_4
;

461 
__u
->
__ui
 = 
__¤c0_4
;

462 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

463 
__u
->
__uc
 = '\0';

466 
__u
->
__ui
 = 
__¤c0_4
;

467 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

468 
__u
->
__usi
 = 
__¤c4_2
;

471 
__u
->
__ui
 = 
__¤c0_4
;

472 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

473 
__u
->
__usi
 = 
__¤c4_2
;

474 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

475 
__u
->
__uc
 = '\0';

478 
__u
->
__ui
 = 
__¤c0_4
;

479 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

480 
__u
->
__ui
 = 
__¤c4_4
;

483  
__de¡
;

484 
	}
}

486 #iâdeà
_FORCE_INLINES


487 
	#__¡rıy_¬gs
(
¤c
) \

488 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

489 { { ((
__cÚ¡
 *è(
¤c
))[0], '\0' } }), \

490 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

491 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

493 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

494 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

495 ((
__cÚ¡
 *è(
¤c
))[2], '\0' } }), \

496 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

497 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

498 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

500 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

501 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

502 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

503 ((
__cÚ¡
 *è(
¤c
))[4], '\0' } }), \

504 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

505 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

506 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

507 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

509 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

510 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

511 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

512 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

513 ((
__cÚ¡
 *è(
¤c
))[6], '\0' } })

	)

515 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

516 
__STRING2_COPY_ARR3
,

517 
__STRING2_COPY_ARR4
,

518 
__STRING2_COPY_ARR5
,

519 
__STRING2_COPY_ARR6
,

520 
__STRING2_COPY_ARR7
,

521 
__STRING2_COPY_ARR8
, 
size_t
);

522 
__STRING_INLINE
 *

523 
	$__¡rıy_sm®l
 (*
__de¡
,

524 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

525 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

526 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

527 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

530 
__c
;

531 
__STRING2_COPY_ARR2
 
__sÿ2
;

532 
__STRING2_COPY_ARR3
 
__sÿ3
;

533 
__STRING2_COPY_ARR4
 
__sÿ4
;

534 
__STRING2_COPY_ARR5
 
__sÿ5
;

535 
__STRING2_COPY_ARR6
 
__sÿ6
;

536 
__STRING2_COPY_ARR7
 
__sÿ7
;

537 
__STRING2_COPY_ARR8
 
__sÿ8
;

538 } *
__u
 = (*è
__de¡
;

539 (è
__¤ş’
)

542 
__u
->
__c
 = '\0';

545 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

548 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

551 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

554 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

557 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

560 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

563 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

566  
__de¡
;

567 
	}
}

573 #ifdeà
__USE_GNU


574 #ià!
defšed
 
_HAVE_STRING_ARCH_¡pıy
 || defšed 
_FORCE_INLINES


575 #iâdeà
_HAVE_STRING_ARCH_¡pıy


576 #ià
__GNUC_PREREQ
 (3, 4)

577 
	#__¡pıy
(
de¡
, 
¤c
è
	`__butš_¡pıy
 (de¡, src)

	)

578 #–ià
__GNUC_PREREQ
 (3, 0)

579 
	#__¡pıy
(
de¡
, 
¤c
) \

580 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

581 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

582 ? 
	`__butš_¡rıy
 (
de¡
, 
¤c
è+ 
	`¡¾’
 (src) \

583 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

585 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

587 
	#__¡pıy
(
de¡
, 
¤c
) \

588 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

589 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

590 ? 
	`__¡pıy_sm®l
 (
de¡
, 
	`__¡pıy_¬gs
 (
¤c
), \

591 
	`¡¾’
 (
¤c
) + 1) \

592 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

594 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

598 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 (de¡, src)

	)

601 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


602 #ià
_STRING_ARCH_uÇligÃd


603 #iâdeà
_FORCE_INLINES


604 
	#__¡pıy_¬gs
(
¤c
) \

605 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

606 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

607 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

608 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

610 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

611 
__ušt32_t
, __ušt32_t, 
size_t
);

612 
__STRING_INLINE
 *

613 
	$__¡pıy_sm®l
 (*
__de¡
,

614 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

615 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

616 
size_t
 
__¤ş’
)

619 
__ui
;

620 
__usi
;

621 
__uc
;

622 
__c
;

623 } *
__u
 = (*è
__de¡
;

624 (è
__¤ş’
)

627 
__u
->
__uc
 = '\0';

630 
__u
->
__usi
 = 
__¤c0_2
;

631 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

634 
__u
->
__usi
 = 
__¤c0_2
;

635 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

636 
__u
->
__uc
 = '\0';

639 
__u
->
__ui
 = 
__¤c0_4
;

640 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

643 
__u
->
__ui
 = 
__¤c0_4
;

644 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

645 
__u
->
__uc
 = '\0';

648 
__u
->
__ui
 = 
__¤c0_4
;

649 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

650 
__u
->
__usi
 = 
__¤c4_2
;

651 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

654 
__u
->
__ui
 = 
__¤c0_4
;

655 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

656 
__u
->
__usi
 = 
__¤c4_2
;

657 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

658 
__u
->
__uc
 = '\0';

661 
__u
->
__ui
 = 
__¤c0_4
;

662 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

663 
__u
->
__ui
 = 
__¤c4_4
;

664 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

667  &
__u
->
__c
;

668 
	}
}

670 #iâdeà
_FORCE_INLINES


671 
	#__¡pıy_¬gs
(
¤c
) \

672 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

673 { { ((
__cÚ¡
 *è(
¤c
))[0], '\0' } }), \

674 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

675 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

677 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

678 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

679 ((
__cÚ¡
 *è(
¤c
))[2], '\0' } }), \

680 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

681 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

682 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

684 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

685 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

686 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

687 ((
__cÚ¡
 *è(
¤c
))[4], '\0' } }), \

688 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

689 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

690 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

691 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

693 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

694 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

695 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

696 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

697 ((
__cÚ¡
 *è(
¤c
))[6], '\0' } })

	)

699 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

700 
__STRING2_COPY_ARR3
,

701 
__STRING2_COPY_ARR4
,

702 
__STRING2_COPY_ARR5
,

703 
__STRING2_COPY_ARR6
,

704 
__STRING2_COPY_ARR7
,

705 
__STRING2_COPY_ARR8
, 
size_t
);

706 
__STRING_INLINE
 *

707 
	$__¡pıy_sm®l
 (*
__de¡
,

708 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

709 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

710 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

711 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

714 
__c
;

715 
__STRING2_COPY_ARR2
 
__sÿ2
;

716 
__STRING2_COPY_ARR3
 
__sÿ3
;

717 
__STRING2_COPY_ARR4
 
__sÿ4
;

718 
__STRING2_COPY_ARR5
 
__sÿ5
;

719 
__STRING2_COPY_ARR6
 
__sÿ6
;

720 
__STRING2_COPY_ARR7
 
__sÿ7
;

721 
__STRING2_COPY_ARR8
 
__sÿ8
;

722 } *
__u
 = (*è
__de¡
;

723 (è
__¤ş’
)

726 
__u
->
__c
 = '\0';

729 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

732 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

735 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

738 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

741 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

744 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

747 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

750  
__de¡
 + 
__¤ş’
 - 1;

751 
	}
}

759 #iâdeà
_HAVE_STRING_ARCH_¡ºıy


760 #ià
__GNUC_PREREQ
 (3, 2)

761 
	#¡ºıy
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºıy
 (de¡, src,‚)

	)

763 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

764 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

765 ? (
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

766 ? (*è
	`memıy
 (
de¡
, 
¤c
, 
n
) \

767 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)) \

768 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)))

	)

774 #iâdeà
_HAVE_STRING_ARCH_¡ºÿt


775 #ifdeà
_USE_STRING_ARCH_¡rchr


776 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

777 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

778 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

779 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

780 ? 
	`¡rÿt
 (
__de¡
, 
¤c
) \

781 : (*((*è
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

782 
¤c
, 
n
)èğ'\0', 
__de¡
)) \

783 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
); }))

	)

784 #–ià
__GNUC_PREREQ
 (3, 2)

785 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºÿt
 (de¡, src,‚)

	)

787 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

788 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

789 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

790 ? 
	`¡rÿt
 (
de¡
, 
¤c
) \

791 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)) \

792 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)))

	)

798 #iâdeà
_HAVE_STRING_ARCH_¡rcmp


799 #ià
__GNUC_PREREQ
 (3, 2)

800 
	#¡rcmp
(
s1
, 
s2
) \

801 
__ex‹nsiÚ__
 \

802 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

803 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

804 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), 
__s2_Ën
 = __butš_¡¾’ (
s2
), \

805 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

806 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

807 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

808 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

809 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), __s1_len < 4) \

810 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

811 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

812 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

813 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

814 && (
__s2_Ën
 = 
	`__butš_¡¾’
 (
s2
), __s2_len < 4) \

815 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

816 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

817 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

818 : 
	`__butš_¡rcmp
 (
s1
, 
s2
)))); })

	)

820 
	#¡rcmp
(
s1
, 
s2
) \

821 
__ex‹nsiÚ__
 \

822 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

823 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

824 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), 
__s2_Ën
 = sŒËÀ(
s2
), \

825 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

826 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

827 ? 
	`memcmp
 ((
__cÚ¡
 *è(
s1
), (__cÚ¡ *è(
s2
), \

828 (
__s1_Ën
 < 
__s2_Ën
 ? __s1_len : __s2_len) + 1) \

829 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

830 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), __s1_len < 4) \

831 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

832 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s1_Ën
) \

833 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

834 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

835 && (
__s2_Ën
 = 
	`¡¾’
 (
s2
), __s2_len < 4) \

836 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

837 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s2_Ën
) \

838 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

839 : 
	`¡rcmp
 (
s1
, 
s2
)))); })

	)

842 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

843 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = \

844 (((
__cÚ¡
 *è(__cÚ¡ *è(
s1
))[0] \

845 - ((
__cÚ¡
 *è(__cÚ¡ *)(
s2
))[0]);\

846 ià(
l
 > 0 && 
__»suÉ
 == 0) \

848 
__»suÉ
 = (((
__cÚ¡
 *) \

849 (
__cÚ¡
 *è(
s1
))[1] \

850 - ((
__cÚ¡
 *) \

851 (
__cÚ¡
 *è(
s2
))[1]); \

852 ià(
l
 > 1 && 
__»suÉ
 == 0) \

854 
__»suÉ
 = \

855 (((
__cÚ¡
 *) \

856 (
__cÚ¡
 *è(
s1
))[2] \

857 - ((
__cÚ¡
 *) \

858 (
__cÚ¡
 *è(
s2
))[2]); \

859 ià(
l
 > 2 && 
__»suÉ
 == 0) \

860 
__»suÉ
 = \

861 (((
__cÚ¡
 *) \

862 (
__cÚ¡
 *è(
s1
))[3] \

863 - ((
__cÚ¡
 *) \

864 (
__cÚ¡
 *è(
s2
))[3]); \

867 
__»suÉ
; }))

	)

869 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

870 (
	`__ex‹nsiÚ__
 ({ 
__cÚ¡
 *
__s2
 = \

871 (
__cÚ¡
 *è(__cÚ¡ *è(
s2
); \

872 
__»suÉ
 = \

873 (((
__cÚ¡
 *è(__cÚ¡ *è(
s1
))[0] \

874 - 
__s2
[0]); \

875 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

877 
__»suÉ
 = (((
__cÚ¡
 *) \

878 (
__cÚ¡
 *è(
s1
))[1] - 
__s2
[1]); \

879 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

881 
__»suÉ
 = (((
__cÚ¡
 *) \

882 (
__cÚ¡
 *è(
s1
))[2] - 
__s2
[2]);\

883 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

884 
__»suÉ
 = (((
__cÚ¡
 *) \

885 (
__cÚ¡
 *è(
s1
))[3] \

886 - 
__s2
[3]); \

889 
__»suÉ
; }))

	)

891 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
) \

892 (
	`__ex‹nsiÚ__
 ({ 
__cÚ¡
 *
__s1
 = \

893 (
__cÚ¡
 *è(__cÚ¡ *è(
s1
); \

894 
__»suÉ
 = \

895 
__s1
[0] - ((
__cÚ¡
 *) \

896 (
__cÚ¡
 *è(
s2
))[0]; \

897 ià(
l2
 > 0 && 
__»suÉ
 == 0) \

899 
__»suÉ
 = (
__s1
[1] \

900 - ((
__cÚ¡
 *) \

901 (
__cÚ¡
 *è(
s2
))[1]); \

902 ià(
l2
 > 1 && 
__»suÉ
 == 0) \

904 
__»suÉ
 = \

905 (
__s1
[2] - ((
__cÚ¡
 *) \

906 (
__cÚ¡
 *è(
s2
))[2]); \

907 ià(
l2
 > 2 && 
__»suÉ
 == 0) \

908 
__»suÉ
 = \

909 (
__s1
[3] \

910 - ((
__cÚ¡
 *) \

911 (
__cÚ¡
 *è(
s2
))[3]); \

914 
__»suÉ
; }))

	)

919 #iâdeà
_HAVE_STRING_ARCH_¡ºcmp


920 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

921 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

922 && ((
	`__butš_cÚ¡ªt_p
 (
s1
) \

923 && 
	`¡¾’
 (
s1
è< ((
size_t
è(
n
))) \

924 || (
	`__butš_cÚ¡ªt_p
 (
s2
) \

925 && 
	`¡¾’
 (
s2
è< ((
size_t
è(
n
)))) \

926 ? 
	`¡rcmp
 (
s1
, 
s2
è: 
	`¡ºcmp
 (s1, s2, 
n
)))

	)

932 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rc¥n
 || defšed 
_FORCE_INLINES


933 #iâdeà
_HAVE_STRING_ARCH_¡rc¥n


934 #ià
__GNUC_PREREQ
 (3, 2)

935 
	#¡rc¥n
(
s
, 
»jeù
) \

936 
__ex‹nsiÚ__
 \

937 ({ 
__r0
, 
__r1
, 
__r2
; \

938 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

939 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

940 ? 
	`__butš_¡rc¥n
 (
s
, 
»jeù
) \

941 : ((
__r0
 = ((
__cÚ¡
 *è(
»jeù
))[0], __r0 == '\0') \

942 ? 
	`¡¾’
 (
s
) \

943 : ((
__r1
 = ((
__cÚ¡
 *è(
»jeù
))[1], __r1 == '\0') \

944 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

945 : ((
__r2
 = ((
__cÚ¡
 *è(
»jeù
))[2], __r2 == '\0') \

946 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

947 : (((
__cÚ¡
 *è(
»jeù
))[3] == '\0' \

948 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

949 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)))))) \

950 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)); })

	)

952 
	#¡rc¥n
(
s
, 
»jeù
) \

953 
__ex‹nsiÚ__
 \

954 ({ 
__r0
, 
__r1
, 
__r2
; \

955 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

956 ? ((
__r0
 = ((
__cÚ¡
 *è(
»jeù
))[0], __r0 == '\0') \

957 ? 
	`¡¾’
 (
s
) \

958 : ((
__r1
 = ((
__cÚ¡
 *è(
»jeù
))[1], __r1 == '\0') \

959 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

960 : ((
__r2
 = ((
__cÚ¡
 *è(
»jeù
))[2], __r2 == '\0') \

961 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

962 : (((
__cÚ¡
 *è(
»jeù
))[3] == '\0' \

963 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

964 : 
	`¡rc¥n
 (
s
, 
»jeù
))))) \

965 : 
	`¡rc¥n
 (
s
, 
»jeù
)); })

	)

969 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (
__cÚ¡
 *
__s
, 
__»jeù
);

970 
__STRING_INLINE
 
size_t


971 
	$__¡rc¥n_c1
 (
__cÚ¡
 *
__s
, 
__»jeù
)

973 
size_t
 
__»suÉ
 = 0;

974 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù
)

975 ++
__»suÉ
;

976  
__»suÉ
;

977 
	}
}

979 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c2
 (
__cÚ¡
 *
__s
, 
__»jeù1
,

980 
__»jeù2
);

981 
__STRING_INLINE
 
size_t


982 
	$__¡rc¥n_c2
 (
__cÚ¡
 *
__s
, 
__»jeù1
, 
__»jeù2
)

984 
size_t
 
__»suÉ
 = 0;

985 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


986 && 
__s
[
__»suÉ
] !ğ
__»jeù2
)

987 ++
__»suÉ
;

988  
__»suÉ
;

989 
	}
}

991 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c3
 (
__cÚ¡
 *
__s
, 
__»jeù1
,

992 
__»jeù2
, 
__»jeù3
);

993 
__STRING_INLINE
 
size_t


994 
	$__¡rc¥n_c3
 (
__cÚ¡
 *
__s
, 
__»jeù1
, 
__»jeù2
,

995 
__»jeù3
)

997 
size_t
 
__»suÉ
 = 0;

998 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


999 && 
__s
[
__»suÉ
] !ğ
__»jeù2
 && __s[__»suÉ] !ğ
__»jeù3
)

1000 ++
__»suÉ
;

1001  
__»suÉ
;

1002 
	}
}

1008 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¥n
 || defšed 
_FORCE_INLINES


1009 #iâdeà
_HAVE_STRING_ARCH_¡r¥n


1010 #ià
__GNUC_PREREQ
 (3, 2)

1011 
	#¡r¥n
(
s
, 
acû±
) \

1012 
__ex‹nsiÚ__
 \

1013 ({ 
__a0
, 
__a1
, 
__a2
; \

1014 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1015 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1016 ? 
	`__butš_¡r¥n
 (
s
, 
acû±
) \

1017 : ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1018 ? ((è(
s
), 0) \

1019 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1020 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1021 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1022 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1023 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1024 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1025 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)))))) \

1026 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)); })

	)

1028 
	#¡r¥n
(
s
, 
acû±
) \

1029 
__ex‹nsiÚ__
 \

1030 ({ 
__a0
, 
__a1
, 
__a2
; \

1031 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1032 ? ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1033 ? ((è(
s
), 0) \

1034 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1035 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1036 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1037 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1038 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1039 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1040 : 
	`¡r¥n
 (
s
, 
acû±
))))) \

1041 : 
	`¡r¥n
 (
s
, 
acû±
)); })

	)

1045 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (
__cÚ¡
 *
__s
, 
__acû±
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__¡r¥n_c1
 (
__cÚ¡
 *
__s
, 
__acû±
)

1049 
size_t
 
__»suÉ
 = 0;

1051 
__s
[
__»suÉ
] =ğ
__acû±
)

1052 ++
__»suÉ
;

1053  
__»suÉ
;

1054 
	}
}

1056 
__STRING_INLINE
 
size_t
 
__¡r¥n_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1057 
__acû±2
);

1058 
__STRING_INLINE
 
size_t


1059 
	$__¡r¥n_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
)

1061 
size_t
 
__»suÉ
 = 0;

1063 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2
)

1064 ++
__»suÉ
;

1065  
__»suÉ
;

1066 
	}
}

1068 
__STRING_INLINE
 
size_t
 
__¡r¥n_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1069 
__acû±2
, 
__acû±3
);

1070 
__STRING_INLINE
 
size_t


1071 
	$__¡r¥n_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1073 
size_t
 
__»suÉ
 = 0;

1075 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2


1076 || 
__s
[
__»suÉ
] =ğ
__acû±3
)

1077 ++
__»suÉ
;

1078  
__»suÉ
;

1079 
	}
}

1084 #ià!
defšed
 
_HAVE_STRING_ARCH_¡½brk
 || defšed 
_FORCE_INLINES


1085 #iâdeà
_HAVE_STRING_ARCH_¡½brk


1086 #ià
__GNUC_PREREQ
 (3, 2)

1087 
	#¡½brk
(
s
, 
acû±
) \

1088 
__ex‹nsiÚ__
 \

1089 ({ 
__a0
, 
__a1
, 
__a2
; \

1090 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1091 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1092 ? 
	`__butš_¡½brk
 (
s
, 
acû±
) \

1093 : ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1094 ? ((è(
s
), (*è
NULL
) \

1095 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1096 ? 
	`__butš_¡rchr
 (
s
, 
__a0
) \

1097 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1098 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1099 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1100 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1101 : 
	`__butš_¡½brk
 (
s
, 
acû±
)))))) \

1102 : 
	`__butš_¡½brk
 (
s
, 
acû±
)); })

	)

1104 
	#¡½brk
(
s
, 
acû±
) \

1105 
__ex‹nsiÚ__
 \

1106 ({ 
__a0
, 
__a1
, 
__a2
; \

1107 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1108 ? ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1109 ? ((è(
s
), (*è
NULL
) \

1110 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1111 ? 
	`¡rchr
 (
s
, 
__a0
) \

1112 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1113 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1114 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1115 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1116 : 
	`¡½brk
 (
s
, 
acû±
))))) \

1117 : 
	`¡½brk
 (
s
, 
acû±
)); })

	)

1121 
__STRING_INLINE
 *
__¡½brk_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1122 
__acû±2
);

1123 
__STRING_INLINE
 *

1124 
	$__¡½brk_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
)

1127 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2
)

1128 ++
__s
;

1129  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1130 
	}
}

1132 
__STRING_INLINE
 *
__¡½brk_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1133 
__acû±2
, 
__acû±3
);

1134 
__STRING_INLINE
 *

1135 
	$__¡½brk_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
,

1136 
__acû±3
)

1139 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2


1140 && *
__s
 !ğ
__acû±3
)

1141 ++
__s
;

1142  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1143 
	}
}

1149 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¡r
 && !
__GNUC_PREREQ
 (2, 97)

1150 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1151 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
è&& 
	`__¡ršg2_1b±r_p
 (needle) \

1152 ? (((
__cÚ¡
 *è(
ÃedË
))[0] == '\0' \

1153 ? (*è(
size_t
è(
hay¡ack
) \

1154 : (((
__cÚ¡
 *è(
ÃedË
))[1] == '\0' \

1155 ? 
	`¡rchr
 (
hay¡ack
, \

1156 ((
__cÚ¡
 *è(
ÃedË
))[0]) \

1157 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
))) \

1158 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
)))

	)

1162 #ià!
defšed
 
_HAVE_STRING_ARCH_¡¹ok_r
 || defšed 
_FORCE_INLINES


1163 #iâdeà
_HAVE_STRING_ARCH_¡¹ok_r


1164 
	#__¡¹ok_r
(
s
, 
£p
, 
Ãx
) \

1165 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
£p
è&& 
	`__¡ršg2_1b±r_p
 (sep) \

1166 && ((
__cÚ¡
 *è(
£p
))[0] != '\0' \

1167 && ((
__cÚ¡
 *è(
£p
))[1] == '\0' \

1168 ? 
	`__¡¹ok_r_1c
 (
s
, ((
__cÚ¡
 *è(
£p
))[0], 
Ãx
) \

1169 : 
	`__¡¹ok_r
 (
s
, 
£p
, 
Ãx
)))

	)

1172 
__STRING_INLINE
 *
__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
);

1173 
__STRING_INLINE
 *

1174 
	$__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
)

1176 *
__»suÉ
;

1177 ià(
__s
 =ğ
NULL
)

1178 
__s
 = *
__Ãx
;

1179 *
__s
 =ğ
__£p
)

1180 ++
__s
;

1181 
__»suÉ
 = 
NULL
;

1182 ià(*
__s
 != '\0')

1184 
__»suÉ
 = 
__s
++;

1185 *
__s
 != '\0')

1186 ià(*
__s
++ =ğ
__£p
)

1188 
__s
[-1] = '\0';

1192 *
__Ãx
 = 
__s
;

1193  
__»suÉ
;

1194 
	}
}

1195 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


1196 
	#¡¹ok_r
(
s
, 
£p
, 
Ãx
è
	`__¡¹ok_r
 (s, s•,‚ex)

	)

1201 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r£p
 || defšed 
_FORCE_INLINES


1202 #iâdeà
_HAVE_STRING_ARCH_¡r£p


1204 *
__¡r£p_g
 (**
__¡ršgp
, 
__cÚ¡
 *
__d–im
);

1205 
	#__¡r£p
(
s
, 
»jeù
) \

1206 
__ex‹nsiÚ__
 \

1207 ({ 
__r0
, 
__r1
, 
__r2
; \

1208 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

1209 && (
__r0
 = ((
__cÚ¡
 *è(
»jeù
))[0], \

1210 ((
__cÚ¡
 *è(
»jeù
))[0] != '\0') \

1211 ? ((
__r1
 = ((
__cÚ¡
 *è(
»jeù
))[1], \

1212 ((
__cÚ¡
 *è(
»jeù
))[1] == '\0') \

1213 ? 
	`__¡r£p_1c
 (
s
, 
__r0
) \

1214 : ((
__r2
 = ((
__cÚ¡
 *è(
»jeù
))[2], __r2 == '\0') \

1215 ? 
	`__¡r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1216 : (((
__cÚ¡
 *è(
»jeù
))[3] == '\0' \

1217 ? 
	`__¡r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1218 : 
	`__¡r£p_g
 (
s
, 
»jeù
)))) \

1219 : 
	`__¡r£p_g
 (
s
, 
»jeù
)); })

	)

1222 
__STRING_INLINE
 *
__¡r£p_1c
 (**
__s
, 
__»jeù
);

1223 
__STRING_INLINE
 *

1224 
	$__¡r£p_1c
 (**
__s
, 
__»jeù
)

1226 *
__»tv®
 = *
__s
;

1227 ià(
__»tv®
 !ğ
NULL
 && (*
__s
 = 
	`¡rchr
 (__»tv®, 
__»jeù
)) != NULL)

1228 *(*
__s
)++ = '\0';

1229  
__»tv®
;

1230 
	}
}

1232 
__STRING_INLINE
 *
__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
);

1233 
__STRING_INLINE
 *

1234 
	$__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
)

1236 *
__»tv®
 = *
__s
;

1237 ià(
__»tv®
 !ğ
NULL
)

1239 *
__ı
 = 
__»tv®
;

1242 ià(*
__ı
 == '\0')

1244 
__ı
 = 
NULL
;

1247 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
)

1249 *
__ı
++ = '\0';

1252 ++
__ı
;

1254 *
__s
 = 
__ı
;

1256  
__»tv®
;

1257 
	}
}

1259 
__STRING_INLINE
 *
__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
,

1260 
__»jeù3
);

1261 
__STRING_INLINE
 *

1262 
	$__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
, 
__»jeù3
)

1264 *
__»tv®
 = *
__s
;

1265 ià(
__»tv®
 !ğ
NULL
)

1267 *
__ı
 = 
__»tv®
;

1270 ià(*
__ı
 == '\0')

1272 
__ı
 = 
NULL
;

1275 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
 || *__ı =ğ
__»jeù3
)

1277 *
__ı
++ = '\0';

1280 ++
__ı
;

1282 *
__s
 = 
__ı
;

1284  
__»tv®
;

1285 
	}
}

1286 #ifdeà
__USE_BSD


1287 
	#¡r£p
(
s
, 
»jeù
è
	`__¡r£p
 (s,„ejeù)

	)

1294 #ifdeà
__USE_MISC


1296 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rdup
 || !defšed 
_HAVE_STRING_ARCH_¡ºdup


1297 
	#__Ãed_m®loc_ªd_ÿÎoc


	)

1298 
	~<¡dlib.h
>

1301 #iâdeà
_HAVE_STRING_ARCH_¡rdup


1303 *
	$__¡rdup
 (
__cÚ¡
 *
__¡ršg
è
__THROW
 
__©Œibu‹_m®loc__
;

1304 
	#__¡rdup
(
s
) \

1305 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1306 ? (((
__cÚ¡
 *è(
s
))[0] == '\0' \

1307 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1308 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1309 *
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1310 ià(
__»tv®
 !ğ
NULL
) \

1311 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, 
__Ën
); \

1312 
__»tv®
; 
	}
})) \

1313 : 
	`__¡rdup
 (
s
)))

	)

1315 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1316 
	#¡rdup
(
s
è
	`__¡rdup
 (s)

	)

1320 #iâdeà
_HAVE_STRING_ARCH_¡ºdup


1322 *
	$__¡ºdup
 (
__cÚ¡
 *
__¡ršg
, 
size_t
 
__n
)

1323 
__THROW
 
__©Œibu‹_m®loc__
;

1324 
	#__¡ºdup
(
s
, 
n
) \

1325 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1326 ? (((
__cÚ¡
 *è(
s
))[0] == '\0' \

1327 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1328 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1329 
size_t
 
__n
 = (
n
); \

1330 *
__»tv®
; \

1331 ià(
__n
 < 
__Ën
) \

1332 
__Ën
 = 
__n
 + 1; \

1333 
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1334 ià(
__»tv®
 !ğ
NULL
) \

1336 
__»tv®
[
__Ën
 - 1] = '\0'; \

1337 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, \

1338 
__Ën
 - 1); \

1340 
__»tv®
; 
	}
})) \

1341 : 
	`__¡ºdup
 (
s
, 
n
)))

	)

1343 #ifdeà
__USE_GNU


1344 
	#¡ºdup
(
s
, 
n
è
	`__¡ºdup
 (s,‚)

	)

1350 #iâdeà
_FORCE_INLINES


1351 #undeà
__STRING_INLINE


	@/usr/include/bits/string3.h

19 #iâdeà
_STRING_H


23 
__w¬ndeş
 (
__w¬n_mem£t_z”o_Ën
,

26 #iâdeà
__ılu¥lus


30 #undeà
memıy


31 #undeà
memmove


32 #undeà
mem£t


33 #undeà
¡rÿt


34 #undeà
¡rıy


35 #undeà
¡ºÿt


36 #undeà
¡ºıy


37 #ifdeà
__USE_GNU


38 #undeà
mempıy


39 #undeà
¡pıy


41 #ifdeà
__USE_BSD


42 #undeà
bcİy


43 #undeà
bz”o


48 
__ex‹º_®ways_šlše
 *

49 
__NTH
 (
	$memıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

50 
size_t
 
__Ën
))

52  
	`__butš___memıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

53 
	}
}

55 
__ex‹º_®ways_šlše
 *

56 
__NTH
 (
	$memmove
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__Ën
))

58  
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

59 
	}
}

61 #ifdeà
__USE_GNU


62 
__ex‹º_®ways_šlše
 *

63 
__NTH
 (
	$mempıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

64 
size_t
 
__Ën
))

66  
	`__butš___mempıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

67 
	}
}

76 
__ex‹º_®ways_šlše
 *

77 
__NTH
 (
	$mem£t
 (*
__de¡
, 
__ch
, 
size_t
 
__Ën
))

79 ià(
	`__butš_cÚ¡ªt_p
 (
__Ën
) && __len == 0

80 && (!
	`__butš_cÚ¡ªt_p
 (
__ch
) || __ch != 0))

82 
	`__w¬n_mem£t_z”o_Ën
 ();

83  
__de¡
;

85  
	`__butš___mem£t_chk
 (
__de¡
, 
__ch
, 
__Ën
, 
	`__bos0
 (__dest));

86 
	}
}

88 #ifdeà
__USE_BSD


89 
__ex‹º_®ways_šlše
 

90 
__NTH
 (
	$bcİy
 (
__cÚ¡
 *
__¤c
, *
__de¡
, 
size_t
 
__Ën
))

92 (è
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

93 
	}
}

95 
__ex‹º_®ways_šlše
 

96 
__NTH
 (
	$bz”o
 (*
__de¡
, 
size_t
 
__Ën
))

98 (è
	`__butš___mem£t_chk
 (
__de¡
, '\0', 
__Ën
, 
	`__bos0
 (__dest));

99 
	}
}

102 
__ex‹º_®ways_šlše
 *

103 
__NTH
 (
	$¡rıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
))

105  
	`__butš___¡rıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

106 
	}
}

108 #ifdeà
__USE_GNU


109 
__ex‹º_®ways_šlše
 *

110 
__NTH
 (
	$¡pıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
))

112  
	`__butš___¡pıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

113 
	}
}

117 
__ex‹º_®ways_šlše
 *

118 
__NTH
 (
	$¡ºıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

119 
size_t
 
__Ën
))

121  
	`__butš___¡ºıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

122 
	}
}

125 *
	$__¡²ıy_chk
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
,

126 
size_t
 
__de¡Ën
è
__THROW
;

127 *
	`__REDIRECT_NTH
 (
__¡²ıy_®Ÿs
, (*
__de¡
,

128 
__cÚ¡
 *
__¤c
,

129 
size_t
 
__n
), 
¡²ıy
);

131 
__ex‹º_®ways_šlše
 *

132 
	`__NTH
 (
	$¡²ıy
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
))

134 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1

135 && (!
	`__butš_cÚ¡ªt_p
 (
__n
è|| __À<ğ
	`__bos
 (
__de¡
)))

136  
	`__¡²ıy_chk
 (
__de¡
, 
__¤c
, 
__n
, 
	`__bos
 (__dest));

137  
	`__¡²ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

138 
	}
}

141 
__ex‹º_®ways_šlše
 *

142 
__NTH
 (
	$¡rÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
))

144  
	`__butš___¡rÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

145 
	}
}

148 
__ex‹º_®ways_šlše
 *

149 
__NTH
 (
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

150 
size_t
 
__Ën
))

152  
	`__butš___¡ºÿt_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

153 
	}
}

	@/usr/include/features.h

19 #iâdef 
_FEATURES_H


20 
	#_FEATURES_H
 1

	)

95 #undeà
__USE_ISOC99


96 #undeà
__USE_ISOC95


97 #undeà
__USE_POSIX


98 #undeà
__USE_POSIX2


99 #undeà
__USE_POSIX199309


100 #undeà
__USE_POSIX199506


101 #undeà
__USE_XOPEN


102 #undeà
__USE_XOPEN_EXTENDED


103 #undeà
__USE_UNIX98


104 #undeà
__USE_XOPEN2K


105 #undeà
__USE_XOPEN2K8


106 #undeà
__USE_LARGEFILE


107 #undeà
__USE_LARGEFILE64


108 #undeà
__USE_FILE_OFFSET64


109 #undeà
__USE_BSD


110 #undeà
__USE_SVID


111 #undeà
__USE_MISC


112 #undeà
__USE_ATFILE


113 #undeà
__USE_GNU


114 #undeà
__USE_REENTRANT


115 #undeà
__USE_FORTIFY_LEVEL


116 #undeà
__FAVOR_BSD


117 #undeà
__KERNEL_STRICT_NAMES


121 #iâdeà
_LOOSE_KERNEL_NAMES


122 
	#__KERNEL_STRICT_NAMES


	)

126 
	#__USE_ANSI
 1

	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

144 #ià
defšed
 
_BSD_SOURCE
 && \

145 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

146 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_XOPEN_SOURCE_EXTENDED
 || \

147 
defšed
 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

148 
	#__FAVOR_BSD
 1

	)

152 #ifdeà
_GNU_SOURCE


153 #undeà
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #undeà
_POSIX_SOURCE


156 
	#_POSIX_SOURCE
 1

	)

157 #undeà
_POSIX_C_SOURCE


158 
	#_POSIX_C_SOURCE
 200809L

	)

159 #undeà
_XOPEN_SOURCE


160 
	#_XOPEN_SOURCE
 700

	)

161 #undeà
_XOPEN_SOURCE_EXTENDED


162 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

163 #undeà
_LARGEFILE64_SOURCE


164 
	#_LARGEFILE64_SOURCE
 1

	)

165 #undeà
_BSD_SOURCE


166 
	#_BSD_SOURCE
 1

	)

167 #undeà
_SVID_SOURCE


168 
	#_SVID_SOURCE
 1

	)

169 #undeà
_ATFILE_SOURCE


170 
	#_ATFILE_SOURCE
 1

	)

175 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

176 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

177 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_XOPEN_SOURCE_EXTENDED
 && \

178 !
defšed
 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

179 
	#_BSD_SOURCE
 1

	)

180 
	#_SVID_SOURCE
 1

	)

187 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

188 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

189 
	#__USE_ISOC99
 1

	)

193 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

194 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

195 
	#__USE_ISOC95
 1

	)

200 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

201 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

202 
	#_POSIX_SOURCE
 1

	)

203 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

204 
	#_POSIX_C_SOURCE
 2

	)

205 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

206 
	#_POSIX_C_SOURCE
 199506L

	)

207 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

208 
	#_POSIX_C_SOURCE
 200112L

	)

210 
	#_POSIX_C_SOURCE
 200809L

	)

212 
	#__USE_POSIX_IMPLICITLY
 1

	)

215 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


216 
	#__USE_POSIX
 1

	)

219 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


220 
	#__USE_POSIX2
 1

	)

223 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

224 
	#__USE_POSIX199309
 1

	)

227 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

228 
	#__USE_POSIX199506
 1

	)

231 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

232 
	#__USE_XOPEN2K
 1

	)

233 #undeà
__USE_ISOC99


234 
	#__USE_ISOC99
 1

	)

237 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

238 
	#__USE_XOPEN2K8
 1

	)

239 #undeà
_ATFILE_SOURCE


240 
	#_ATFILE_SOURCE
 1

	)

243 #ifdef 
_XOPEN_SOURCE


244 
	#__USE_XOPEN
 1

	)

245 #ià(
_XOPEN_SOURCE
 - 0) >= 500

246 
	#__USE_XOPEN_EXTENDED
 1

	)

247 
	#__USE_UNIX98
 1

	)

248 #undeà
_LARGEFILE_SOURCE


249 
	#_LARGEFILE_SOURCE
 1

	)

250 #ià(
_XOPEN_SOURCE
 - 0) >= 600

251 #ià(
_XOPEN_SOURCE
 - 0) >= 700

252 
	#__USE_XOPEN2K8
 1

	)

254 
	#__USE_XOPEN2K
 1

	)

255 #undeà
__USE_ISOC99


256 
	#__USE_ISOC99
 1

	)

259 #ifdeà
_XOPEN_SOURCE_EXTENDED


260 
	#__USE_XOPEN_EXTENDED
 1

	)

265 #ifdeà
_LARGEFILE_SOURCE


266 
	#__USE_LARGEFILE
 1

	)

269 #ifdeà
_LARGEFILE64_SOURCE


270 
	#__USE_LARGEFILE64
 1

	)

273 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

274 
	#__USE_FILE_OFFSET64
 1

	)

277 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


278 
	#__USE_MISC
 1

	)

281 #ifdef 
_BSD_SOURCE


282 
	#__USE_BSD
 1

	)

285 #ifdef 
_SVID_SOURCE


286 
	#__USE_SVID
 1

	)

289 #ifdef 
_ATFILE_SOURCE


290 
	#__USE_ATFILE
 1

	)

293 #ifdef 
_GNU_SOURCE


294 
	#__USE_GNU
 1

	)

297 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


298 
	#__USE_REENTRANT
 1

	)

301 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

302 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

303 #ià
_FORTIFY_SOURCE
 > 1

304 
	#__USE_FORTIFY_LEVEL
 2

	)

306 
	#__USE_FORTIFY_LEVEL
 1

	)

309 
	#__USE_FORTIFY_LEVEL
 0

	)

313 
	~<b™s/´edefs.h
>

316 
	#__STDC_ISO_10646__
 200009L

	)

324 #undeà
__GNU_LIBRARY__


325 
	#__GNU_LIBRARY__
 6

	)

329 
	#__GLIBC__
 2

	)

330 
	#__GLIBC_MINOR__
 11

	)

332 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

333 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

336 #ià
defšed
 
__GNUC__
 \

337 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

338 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

339 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

340 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

344 #iâdeà
__ASSEMBLER__


345 #iâdeà
_SYS_CDEFS_H


346 
	~<sys/cdefs.h
>

351 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


352 
	#__USE_LARGEFILE
 1

	)

353 
	#__USE_LARGEFILE64
 1

	)

359 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

360 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

361 && 
defšed
 
	g__ex‹º_šlše


362 
	#__USE_EXTERN_INLINES
 1

	)

367 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

368 && (
defšed
 
	g_LIBC
 || !defšed 
	g__OPTIMIZE_SIZE__
è&& !defšed 
	g__NO_INLINE__
 \

369 && 
defšed
 
	g__ex‹º_šlše


370 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

378 
	~<gnu/¡ubs.h
>

	@/usr/include/xlocale.h

21 #iâdeà
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loÿË_¡ruù


31 
loÿË_d©a
 *
	m__loÿËs
[13];

34 cÚ¡ *
	m__ùy³_b
;

35 cÚ¡ *
	m__ùy³_tŞow”
;

36 cÚ¡ *
	m__ùy³_touµ”
;

39 cÚ¡ *
	m__Çmes
[13];

40 } *
	t__loÿË_t
;

43 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/bits/predefs.h

19 #iâdeà
_FEATURES_H


23 #iâdeà
_PREDEFS_H


24 
	#_PREDEFS_H


	)

27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/types.h

24 #iâdef 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	t__u_ch¬
;

32 
	t__u_shÜt
;

33 
	t__u_št
;

34 
	t__u_lÚg
;

37 sigÃd 
	t__št8_t
;

38 
	t__ušt8_t
;

39 sigÃd 
	t__št16_t
;

40 
	t__ušt16_t
;

41 sigÃd 
	t__št32_t
;

42 
	t__ušt32_t
;

43 #ià
__WORDSIZE
 == 64

44 sigÃd 
	t__št64_t
;

45 
	t__ušt64_t
;

46 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


47 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

48 
__ex‹nsiÚ__
 
	t__ušt64_t
;

52 #ià
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


56 
__ex‹nsiÚ__
 
	t__quad_t
;

57 
__ex‹nsiÚ__
 
	t__u_quad_t
;

61 
	m__v®
[2];

62 } 
	t__quad_t
;

65 
__u_lÚg
 
	m__v®
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #ià
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

117 #–ià
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<b™s/ty³sizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ÿddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

195 #undeà
__STD_TYPE


	@/usr/include/endian.h

19 #iâdef 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<ã©u»s.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<b™s/’dŸn.h
>

41 #iâdeà
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

54 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

59 #ifdeà
__USE_BSD


61 
	~<b™s/by‹sw­.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è(x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è(x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è(x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è(x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/gnu/stubs.h

4 
	~<b™s/wÜdsize.h
>

6 #ià
__WORDSIZE
 == 32

7 
	~<gnu/¡ubs-32.h
>

8 #–ià
__WORDSIZE
 == 64

9 
	~<gnu/¡ubs-64.h
>

	@/usr/include/stdlib.h

23 #iâdef 
_STDLIB_H


25 
	~<ã©u»s.h
>

28 
	#__Ãed_size_t


	)

29 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


30 
	#__Ãed_wch¬_t


	)

31 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	g__BEGIN_DECLS


37 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


38 
	#_STDLIB_H
 1

	)

40 #ià
defšed
 
__USE_XOPEN
 && !defšed 
_SYS_WAIT_H


42 
	~<b™s/wa™æags.h
>

43 
	~<b™s/wa™¡©us.h
>

45 #ifdeà
__USE_BSD


50 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


51 
	#__WAIT_INT
(
¡©us
) \

52 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

53 { .
__š
 = (
¡©us
è}).
__i
))

	)

55 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

63 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


64 
	#__WAIT_STATUS
 *

	)

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
wa™
 *
	m__u±r
;

71 *
	m__Œ
;

72 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

73 
	#__WAIT_STATUS_DEFN
 *

	)

78 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

79 
	#__WAIT_STATUS
 *

	)

80 
	#__WAIT_STATUS_DEFN
 *

	)

85 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

90 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

91 #ifdeà
__WIFCONTINUED


92 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

96 
__BEGIN_NAMESPACE_STD


100 
	mquÙ
;

101 
	m»m
;

102 } 
	tdiv_t
;

105 #iâdeà
__ldiv_t_defšed


108 
	mquÙ
;

109 
	m»m
;

110 } 
	tldiv_t
;

111 
	#__ldiv_t_defšed
 1

	)

113 
	g__END_NAMESPACE_STD


115 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


116 
__BEGIN_NAMESPACE_C99


118 
__ex‹nsiÚ__
 struct

120 
	mquÙ
;

121 
	m»m
;

122 } 
	tÎdiv_t
;

123 
	#__Îdiv_t_defšed
 1

	)

124 
	g__END_NAMESPACE_C99


129 
	#RAND_MAX
 2147483647

	)

134 
	#EXIT_FAILURE
 1

	)

135 
	#EXIT_SUCCESS
 0

	)

139 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

140 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

143 
__BEGIN_NAMESPACE_STD


145 
	$©of
 (
__cÚ¡
 *
__ÅŒ
)

146 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

148 
	$©oi
 (
__cÚ¡
 *
__ÅŒ
)

149 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

151 
	$©Ş
 (
__cÚ¡
 *
__ÅŒ
)

152 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

153 
__END_NAMESPACE_STD


155 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

156 
__BEGIN_NAMESPACE_C99


158 
__ex‹nsiÚ__
 
	$©Şl
 (
__cÚ¡
 *
__ÅŒ
)

159 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

160 
__END_NAMESPACE_C99


163 
__BEGIN_NAMESPACE_STD


165 
	$¡¹od
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

166 **
__»¡riù
 
__’d±r
)

167 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

168 
__END_NAMESPACE_STD


170 #ifdef 
__USE_ISOC99


171 
__BEGIN_NAMESPACE_C99


173 
	$¡¹of
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

174 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

176 
	$¡¹Şd
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
)

178 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

179 
__END_NAMESPACE_C99


182 
__BEGIN_NAMESPACE_STD


184 
	$¡¹Ş
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

185 **
__»¡riù
 
__’d±r
, 
__ba£
)

186 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

188 
	$¡¹oul
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

189 **
__»¡riù
 
__’d±r
, 
__ba£
)

190 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

191 
__END_NAMESPACE_STD


193 #ià
defšed
 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_BSD


195 
__ex‹nsiÚ__


196 
	$¡¹oq
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

197 **
__»¡riù
 
__’d±r
, 
__ba£
)

198 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

200 
__ex‹nsiÚ__


201 
	$¡¹ouq
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

202 **
__»¡riù
 
__’d±r
, 
__ba£
)

203 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

206 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

207 
__BEGIN_NAMESPACE_C99


209 
__ex‹nsiÚ__


210 
	$¡¹Şl
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

211 **
__»¡riù
 
__’d±r
, 
__ba£
)

212 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

214 
__ex‹nsiÚ__


215 
	$¡¹ouÎ
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

216 **
__»¡riù
 
__’d±r
, 
__ba£
)

217 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

218 
__END_NAMESPACE_C99


222 #ifdeà
__USE_GNU


236 
	~<xloÿË.h
>

240 
	$¡¹Ş_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

241 **
__»¡riù
 
__’d±r
, 
__ba£
,

242 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

244 
	$¡¹oul_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

245 **
__»¡riù
 
__’d±r
,

246 
__ba£
, 
__loÿË_t
 
__loc
)

247 
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

249 
__ex‹nsiÚ__


250 
	$¡¹Şl_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

251 **
__»¡riù
 
__’d±r
, 
__ba£
,

252 
__loÿË_t
 
__loc
)

253 
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

255 
__ex‹nsiÚ__


256 
	$¡¹ouÎ_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

257 **
__»¡riù
 
__’d±r
,

258 
__ba£
, 
__loÿË_t
 
__loc
)

259 
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

261 
	$¡¹od_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

262 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

263 
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

265 
	$¡¹of_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

266 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

267 
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

269 
	$¡¹Şd_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

270 **
__»¡riù
 
__’d±r
,

271 
__loÿË_t
 
__loc
)

272 
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

276 #ifdeà
__USE_EXTERN_INLINES


277 
__BEGIN_NAMESPACE_STD


278 
__ex‹º_šlše
 

279 
	`__NTH
 (
	$©of
 (
__cÚ¡
 *
__ÅŒ
))

281  
	`¡¹od
 (
__ÅŒ
, (**è
NULL
);

282 
	}
}

283 
__ex‹º_šlše
 

284 
__NTH
 (
	$©oi
 (
__cÚ¡
 *
__ÅŒ
))

286  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

287 
	}
}

288 
__ex‹º_šlše
 

289 
__NTH
 (
	$©Ş
 (
__cÚ¡
 *
__ÅŒ
))

291  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

292 
	}
}

293 
	g__END_NAMESPACE_STD


295 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


296 
__BEGIN_NAMESPACE_C99


297 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

298 
__NTH
 (
	$©Şl
 (
__cÚ¡
 *
__ÅŒ
))

300  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

301 
	}
}

302 
	g__END_NAMESPACE_C99


307 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


311 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

314 
	$a64l
 (
__cÚ¡
 *
__s
)

315 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

319 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


320 
	~<sys/ty³s.h
>

327 
	$¿ndom
 (è
__THROW
;

330 
	$¤ªdom
 (
__£ed
è
__THROW
;

336 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

337 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

341 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

344 #ifdeà
__USE_MISC


349 
	s¿ndom_d©a


351 
št32_t
 *
åŒ
;

352 
št32_t
 *
½Œ
;

353 
št32_t
 *
¡©e
;

354 
¿nd_ty³
;

355 
¿nd_deg
;

356 
¿nd_£p
;

357 
št32_t
 *
’d_±r
;

360 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

361 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

363 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

364 
__THROW
 
	`__nÚnuÎ
 ((2));

366 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

367 
size_t
 
__¡©–’
,

368 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

369 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

371 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

372 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

373 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

378 
__BEGIN_NAMESPACE_STD


380 
	$¿nd
 (è
__THROW
;

382 
	$¤ªd
 (
__£ed
è
__THROW
;

383 
__END_NAMESPACE_STD


385 #ifdeà
__USE_POSIX


387 
	$¿nd_r
 (*
__£ed
è
__THROW
;

391 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


395 
	$d¿nd48
 (è
__THROW
;

396 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

399 
	$Ìªd48
 (è
__THROW
;

400 
	$Äªd48
 (
__xsubi
[3])

401 
__THROW
 
	`__nÚnuÎ
 ((1));

404 
	$m¿nd48
 (è
__THROW
;

405 
	$j¿nd48
 (
__xsubi
[3])

406 
__THROW
 
	`__nÚnuÎ
 ((1));

409 
	$¤ªd48
 (
__£edv®
è
__THROW
;

410 *
	$£ed48
 (
__£ed16v
[3])

411 
__THROW
 
	`__nÚnuÎ
 ((1));

412 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

414 #ifdeà
__USE_MISC


418 
	sd¿nd48_d©a


420 
__x
[3];

421 
__Şd_x
[3];

422 
__c
;

423 
__š™
;

424 
__a
;

428 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

429 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$”ªd48_r
 (
__xsubi
[3],

431 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

432 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

435 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

436 *
__»¡riù
 
__»suÉ
)

437 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

438 
	$Äªd48_r
 (
__xsubi
[3],

439 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

444 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

445 *
__»¡riù
 
__»suÉ
)

446 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

447 
	$j¿nd48_r
 (
__xsubi
[3],

448 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

449 *
__»¡riù
 
__»suÉ
)

450 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

454 
__THROW
 
	`__nÚnuÎ
 ((2));

456 
	$£ed48_r
 (
__£ed16v
[3],

457 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 
	$lcÚg48_r
 (
__·¿m
[7],

460 
d¿nd48_d©a
 *
__bufãr
)

461 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

467 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


468 
	#__m®loc_ªd_ÿÎoc_defšed


	)

469 
__BEGIN_NAMESPACE_STD


471 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

473 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

474 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

475 
__END_NAMESPACE_STD


478 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


479 
__BEGIN_NAMESPACE_STD


485 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

486 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

488 
	$ä“
 (*
__±r
è
__THROW
;

489 
__END_NAMESPACE_STD


491 #ifdef 
__USE_MISC


493 
	$cä“
 (*
__±r
è
__THROW
;

496 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


497 
	~<®loÿ.h
>

500 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


502 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

505 #ifdeà
__USE_XOPEN2K


507 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

508 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

511 
__BEGIN_NAMESPACE_STD


513 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

517 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

519 #ifdeà
__USE_GNU


523 #ifdeà
__ılu¥lus


524 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ifdeà
__USE_GNU


551 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

553 
__END_NAMESPACE_STD


555 #ifdeà
__USE_ISOC99


556 
__BEGIN_NAMESPACE_C99


559 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

560 
__END_NAMESPACE_C99


564 
__BEGIN_NAMESPACE_STD


566 *
	$g‘’v
 (
__cÚ¡
 *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

567 
__END_NAMESPACE_STD


571 *
	$__£cu»_g‘’v
 (
__cÚ¡
 *
__Çme
)

572 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


584 
	$£‹nv
 (
__cÚ¡
 *
__Çme
, __cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (
__cÚ¡
 *
__Çme
è
__THROW
;

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


604 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

614 #iâdeà
__USE_FILE_OFFSET64


615 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

617 #ifdeà
__REDIRECT


618 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

619 
	`__nÚnuÎ
 ((1)è
__wur
;

621 
	#mk¡emp
 
mk¡emp64


	)

624 #ifdeà
__USE_LARGEFILE64


625 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

629 #ifdeà
__USE_MISC


636 #iâdeà
__USE_FILE_OFFSET64


637 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

639 #ifdeà
__REDIRECT


640 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

641 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 
	#mk¡emps
 
mk¡emps64


	)

646 #ifdeà
__USE_LARGEFILE64


647 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

648 
	`__nÚnuÎ
 ((1)è
__wur
;

652 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


658 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

661 #ifdeà
__USE_GNU


668 #iâdeà
__USE_FILE_OFFSET64


669 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

671 #ifdeà
__REDIRECT


672 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

673 
	`__nÚnuÎ
 ((1)è
__wur
;

675 
	#mko¡emp
 
mko¡emp64


	)

678 #ifdeà
__USE_LARGEFILE64


679 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

688 #iâdeà
__USE_FILE_OFFSET64


689 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

690 
	`__nÚnuÎ
 ((1)è
__wur
;

692 #ifdeà
__REDIRECT


693 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

694 
__æags
), 
mko¡emps64
)

695 
	`__nÚnuÎ
 ((1)è
__wur
;

697 
	#mko¡emps
 
mko¡emps64


	)

700 #ifdeà
__USE_LARGEFILE64


701 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

702 
	`__nÚnuÎ
 ((1)è
__wur
;

707 
__BEGIN_NAMESPACE_STD


712 
	$sy¡em
 (
__cÚ¡
 *
__commªd
è
__wur
;

713 
__END_NAMESPACE_STD


716 #ifdef 
__USE_GNU


719 *
	$ÿnÚiÿlize_fe_Çme
 (
__cÚ¡
 *
__Çme
)

720 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

723 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


729 *
	$»®·th
 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

730 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

735 #iâdeà
__COMPAR_FN_T


736 
	#__COMPAR_FN_T


	)

737 (*
	t__com·r_â_t
è(
	t__cÚ¡
 *, __const *);

739 #ifdef 
__USE_GNU


740 
__com·r_â_t
 
	tcom·risÚ_â_t
;

743 #ifdeà
__USE_GNU


744 (*
	t__com·r_d_â_t
è(
	t__cÚ¡
 *, __const *, *);

747 
__BEGIN_NAMESPACE_STD


750 *
	$b£¬ch
 (
__cÚ¡
 *
__key
, __cÚ¡ *
__ba£
,

751 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

752 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

756 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

757 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

758 #ifdeà
__USE_GNU


759 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

760 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

761 
	`__nÚnuÎ
 ((1, 4));

766 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

767 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

768 
__END_NAMESPACE_STD


770 #ifdeà
__USE_ISOC99


771 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

772 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
__BEGIN_NAMESPACE_STD


780 
div_t
 
	$div
 (
__num”
, 
__d’om
)

781 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

782 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

783 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

784 
__END_NAMESPACE_STD


786 #ifdeà
__USE_ISOC99


787 
__BEGIN_NAMESPACE_C99


788 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

789 
__d’om
)

790 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

791 
__END_NAMESPACE_C99


795 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


802 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

803 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

808 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

809 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

814 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

815 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

818 #ifdeà
__USE_MISC


820 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

821 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

822 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

823 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

824 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

825 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

826 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

827 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

832 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

833 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

834 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

835 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

836 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

837 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

839 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

840 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

841 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

842 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

843 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

844 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

845 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

846 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

851 
__BEGIN_NAMESPACE_STD


854 
	$mbËn
 (
__cÚ¡
 *
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

857 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

858 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

861 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
 
__wur
;

865 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

866 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

868 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

869 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

870 
__THROW
;

871 
__END_NAMESPACE_STD


874 #ifdeà
__USE_SVID


879 
	$½m©ch
 (
__cÚ¡
 *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

883 #ifdeà
__USE_XOPEN_EXTENDED


890 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

891 *
__cÚ¡
 *
__»¡riù
 
__tok’s
,

892 **
__»¡riù
 
__v®u•
)

893 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

897 #ifdeà
__USE_XOPEN


899 
	$£tkey
 (
__cÚ¡
 *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

905 #ifdeà
__USE_XOPEN2K


907 
	$posix_İ’±
 (
__oæag
è
__wur
;

910 #ifdeà
__USE_XOPEN


915 
	$g¿Á±
 (
__fd
è
__THROW
;

919 
	$uÆock±
 (
__fd
è
__THROW
;

924 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

927 #ifdeà
__USE_GNU


931 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

932 
__THROW
 
	`__nÚnuÎ
 ((2));

935 
	`g‘±
 ();

938 #ifdeà
__USE_BSD


942 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

943 
__THROW
 
	`__nÚnuÎ
 ((1));

948 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


949 
	~<b™s/¡dlib.h
>

951 #ifdeà
__LDBL_COMPAT


952 
	~<b™s/¡dlib-ldbl.h
>

956 #undeà
__Ãed_m®loc_ªd_ÿÎoc


958 
__END_DECLS


	@/usr/include/sys/cdefs.h

20 #iâdef 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #iâdeà
_FEATURES_H


25 
	~<ã©u»s.h
>

31 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


36 #undeà
__P


37 #undeà
__PMT


39 #ifdeà
__GNUC__


46 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

47 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

48 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
)è
	)
fct

50 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

51 
	#__THROW
 
	`throw
 ()

	)

52 
	#__NTH
(
fù
èfù 
	`throw
 ()

	)

54 
	#__THROW


	)

55 
	#__NTH
(
fù
è
	)
fct

61 
	#__šlše


	)

63 
	#__THROW


	)

64 
	#__NTH
(
fù
è
	)
fct

66 
	#__cÚ¡
 cÚ¡

	)

67 
	#__sigÃd
 sigÃd

	)

68 
	#__vŞ©e
 vŞ©e

	)

74 
	#__P
(
¬gs
è
	)
args

75 
	#__PMT
(
¬gs
è
	)
args

80 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

81 
	#__STRING
(
x
è#x

	)

84 
	#__±r_t
 *

	)

85 
	#__lÚg_doubË_t
 

	)

89 #ifdef 
__ılu¥lus


90 
	#__BEGIN_DECLS
 "C" {

	)

91 
	#__END_DECLS
 }

	)

93 
	#__BEGIN_DECLS


	)

94 
	#__END_DECLS


	)

103 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


104 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

105 
	#__END_NAMESPACE_STD
 }

	)

106 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

107 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

108 
	#__END_NAMESPACE_C99
 }

	)

109 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

114 
	#__BEGIN_NAMESPACE_STD


	)

115 
	#__END_NAMESPACE_STD


	)

116 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

117 
	#__BEGIN_NAMESPACE_C99


	)

118 
	#__END_NAMESPACE_C99


	)

119 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

124 #iâdeà
__BOUNDED_POINTERS__


125 
	#__bounded


	)

126 
	#__unbounded


	)

127 
	#__±rv®ue


	)

132 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

135 #ià
__GNUC_PREREQ
 (4,3)

136 
	#__w¬ndeş
(
Çme
, 
msg
) \

137 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

138 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

139 
	#__”rÜdeş
(
Çme
, 
msg
) \

140 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

142 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

143 
	#__w¬Ç‰r
(
msg
)

	)

144 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

148 #ià
__GNUC_PREREQ
 (2,97)

150 
	#__æex¬r
 []

	)

152 #ifdeà
__GNUC__


153 
	#__æex¬r
 [0]

	)

155 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

156 
	#__æex¬r
 []

	)

159 
	#__æex¬r
 [1]

	)

175 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

178 #ifdeà
__ılu¥lus


179 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

180 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

182 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

183 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

185 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

186 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

199 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

200 
	#__©Œibu‹__
(
xyz
è

	)

206 #ià
__GNUC_PREREQ
 (2,96)

207 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

209 
	#__©Œibu‹_m®loc__


	)

215 #ià
__GNUC_PREREQ
 (2,96)

216 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

218 
	#__©Œibu‹_pu»__


	)

224 #ià
__GNUC_PREREQ
 (3,1)

225 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

226 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

228 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

229 
	#__©Œibu‹_nošlše__


	)

233 #ià
__GNUC_PREREQ
 (3,2)

234 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

236 
	#__©Œibu‹_d•»ÿ‹d__


	)

245 #ià
__GNUC_PREREQ
 (2,8)

246 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

248 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

255 #ià
__GNUC_PREREQ
 (2,97)

256 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

257 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

259 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

264 #ià
__GNUC_PREREQ
 (3,3)

265 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

267 
	#__nÚnuÎ
(
·¿ms
)

	)

272 #ià
__GNUC_PREREQ
 (3,4)

273 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

274 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

275 #ià
__USE_FORTIFY_LEVEL
 > 0

276 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

279 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

281 #iâdeà
__wur


282 
	#__wur


	)

286 #ià
__GNUC_PREREQ
 (3,2)

287 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

289 
	#__®ways_šlše
 
__šlše


	)

294 #ià!
defšed
 
__ılu¥lus
 || 
__GNUC_PREREQ
 (4,3)

295 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__ılu¥lus


296 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

297 #ià
__GNUC_PREREQ
 (4,3)

298 
	#__ex‹º_®ways_šlše
 \

299 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
, 
__¬tificŸl__
))

	)

301 
	#__ex‹º_®ways_šlše
 \

302 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

305 
	#__ex‹º_šlše
 
__šlše


	)

306 #ià
__GNUC_PREREQ
 (4,3)

307 
	#__ex‹º_®ways_šlše
 \

308 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

310 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

317 #ià
__GNUC_PREREQ
 (4,3)

318 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

319 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

326 #ià!
__GNUC_PREREQ
 (2,8)

327 
	#__ex‹nsiÚ__


	)

331 #ià!
__GNUC_PREREQ
 (2,92)

332 
	#__»¡riù


	)

338 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


339 
	#__»¡riù_¬r
 
__»¡riù


	)

341 #ifdeà
__GNUC__


342 
	#__»¡riù_¬r


	)

344 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

345 
	#__»¡riù_¬r
 
»¡riù


	)

348 
	#__»¡riù_¬r


	)

353 
	~<b™s/wÜdsize.h
>

355 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


356 
	#__LDBL_COMPAT
 1

	)

357 #ifdeà
__REDIRECT


358 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

359 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

360 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

361 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

362 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

363 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

364 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

365 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

366 
	#__LDBL_REDIR_DECL
(
Çme
) \

367 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

368 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

369 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

370 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

371 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

374 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


375 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

376 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

377 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

378 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

379 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

380 #ifdeà
__REDIRECT


381 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

382 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

383 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/alloca.h

19 #iâdef 
_ALLOCA_H


20 
	#_ALLOCA_H
 1

	)

22 
	~<ã©u»s.h
>

24 
	#__Ãed_size_t


	)

25 
	~<¡ddef.h
>

27 
	g__BEGIN_DECLS


30 #undeà
®loÿ


33 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

35 #ifdef 
__GNUC__


36 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

39 
__END_DECLS


	@/usr/include/bits/byteswap.h

21 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


25 #iâdeà
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((è((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8)))

	)

34 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw­_16
(
x
) \

36 (
__ex‹nsiÚ__
 \

37 ({ 
__v
, 
__x
 = (è(
x
); \

38 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

39 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "ô" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw­_16
(
x
) \

49 (
__ex‹nsiÚ__
 \

50 ({ 
__x
 = (è(
x
); \

51 
	`__bsw­_cÚ¡ªt_16
 (
__x
); }))

	)

56 
	#__bsw­_cÚ¡ªt_32
(
x
) \

57 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

58 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

60 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

61 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

62 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

63 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

64 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

65 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

66 || 
defšed
 
	g__amdçm10__
)

69 
	#__bsw­_32
(
x
) \

70 (
__ex‹nsiÚ__
 \

71 ({ 
__v
, 
__x
 = (
x
); \

72 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

73 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

75 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

76 
__v
; }))

	)

78 
	#__bsw­_32
(
x
) \

79 (
__ex‹nsiÚ__
 \

80 ({ 
__v
, 
__x
 = (
x
); \

81 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

82 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

84 
	`__asm__
 ("rorw $8, %w0;" \

87 : "ô" (
__v
) \

88 : "0" (
__x
) \

90 
__v
; }))

	)

93 
	#__bsw­_32
(
x
) \

94 (
__ex‹nsiÚ__
 \

95 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

99 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

101 
	#__bsw­_cÚ¡ªt_64
(
x
) \

102 ((((
x
) & 0xff00000000000000ull) >> 56) \

103 | (((
x
) & 0x00ff000000000000ull) >> 40) \

104 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

105 | (((
x
) & 0x000000ff00000000ull) >> 8) \

106 | (((
x
) & 0x00000000ff000000ull) << 8) \

107 | (((
x
) & 0x0000000000ff0000ull) << 24) \

108 | (((
x
) & 0x000000000000ff00ull) << 40) \

109 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

111 #ià
__WORDSIZE
 == 64

112 
	#__bsw­_64
(
x
) \

113 (
__ex‹nsiÚ__
 \

114 ({ 
__v
, 
__x
 = (
x
); \

115 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

116 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

118 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

119 
__v
; }))

	)

121 
	#__bsw­_64
(
x
) \

122 (
__ex‹nsiÚ__
 \

123 ({ uniÚ { 
__ex‹nsiÚ__
 
__Î
; \

124 
__l
[2]; } 
__w
, 
__r
; \

125 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

126 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

129 
__w
.
__Î
 = (
x
); \

130 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

131 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

133 
__r
.
__Î
; }))

	)

	@/usr/include/bits/endian.h

3 #iâdeà
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/stdlib-ldbl.h

20 #iâdeà
_STDLIB_H


24 #ifdef 
__USE_ISOC99


25 
__BEGIN_NAMESPACE_C99


26 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd
, 
¡¹od
)

27 
__END_NAMESPACE_C99


30 #ifdeà
__USE_GNU


31 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd_l
, 
¡¹od_l
)

34 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


35 #ifdeà
__USE_MISC


36 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

39 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

40 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

20 #iâdeà
_STDLIB_H


24 *
	$__»®·th_chk
 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

25 *
__»¡riù
 
__»sŞved
,

26 
size_t
 
__»sŞvedËn
è
__THROW
 
__wur
;

27 *
	`__REDIRECT_NTH
 (
__»®·th_®Ÿs
,

28 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

29 *
__»¡riù
 
__»sŞved
), 
»®·th
è
__wur
;

30 *
	`__REDIRECT_NTH
 (
__»®·th_chk_w¬n
,

31 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

32 *
__»¡riù
 
__»sŞved
,

33 
size_t
 
__»sŞvedËn
), 
__»®·th_chk
è
__wur


34 
	`__w¬Ç‰r
 ("second‡rgument of„ealpath must beƒither NULL or‡t "

37 
__ex‹º_®ways_šlše
 
__wur
 *

38 
	`__NTH
 (
	$»®·th
 (
__cÚ¡
 *
__»¡riù
 
__Çme
, *__»¡riù 
__»sŞved
))

40 ià(
	`__bos
 (
__»sŞved
è!ğ(
size_t
) -1)

42 #ià
defšed
 
_LIBC_LIMITS_H_
 && defšed 
PATH_MAX


43 ià(
	`__bos
 (
__»sŞved
è< 
PATH_MAX
)

44  
	`__»®·th_chk_w¬n
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

46  
	`__»®·th_chk
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

49  
	`__»®·th_®Ÿs
 (
__Çme
, 
__»sŞved
);

50 
	}
}

53 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

54 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

55 
	`__REDIRECT_NTH
 (
__±¢ame_r_®Ÿs
, (
__fd
, *
__buf
,

56 
size_t
 
__buæ’
), 
±¢ame_r
)

57 
	`__nÚnuÎ
 ((2));

58 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¬n
,

59 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

60 
size_t
 
__Ä—l
), 
__±¢ame_r_chk
)

61 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ptsname_r called with buflen biggerhan "

64 
__ex‹º_®ways_šlše
 

65 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

67 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

69 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

70  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

71 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

72  
	`__±¢ame_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

74  
	`__±¢ame_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

75 
	}
}

78 
	$__wùomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
size_t
 
__buæ’
)

79 
__THROW
 
__wur
;

80 
	`__REDIRECT_NTH
 (
__wùomb_®Ÿs
, (*
__s
, 
wch¬_t
 
__wch¬
),

81 
wùomb
è
__wur
;

83 
__ex‹º_®ways_šlše
 
__wur
 

84 
	`__NTH
 (
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
))

89 
	#__STDLIB_MB_LEN_MAX
 16

	)

90 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__STDLIB_MB_LEN_MAX


93 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

94  
	`__wùomb_chk
 (
__s
, 
__wch¬
, 
	`__bos
 (__s));

95  
	`__wùomb_®Ÿs
 (
__s
, 
__wch¬
);

96 
	}
}

99 
size_t
 
	$__mb¡owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

100 
__cÚ¡
 *
__»¡riù
 
__¤c
,

101 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

102 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_®Ÿs
,

103 (
wch¬_t
 *
__»¡riù
 
__d¡
,

104 
__cÚ¡
 *
__»¡riù
 
__¤c
,

105 
size_t
 
__Ën
), 
mb¡owcs
);

106 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_chk_w¬n
,

107 (
wch¬_t
 *
__»¡riù
 
__d¡
,

108 
__cÚ¡
 *
__»¡riù
 
__¤c
,

109 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__mb¡owcs_chk
)

110 
	`__w¬Ç‰r
 ("mbstowcs called with dst buffer smallerhan†en "

113 
__ex‹º_®ways_šlše
 
size_t


114 
	`__NTH
 (
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

115 
size_t
 
__Ën
))

117 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

119 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

120  
	`__mb¡owcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
,

121 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

123 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

124  
	`__mb¡owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
,

125 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

127  
	`__mb¡owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

128 
	}
}

131 
size_t
 
	$__wc¡ombs_chk
 (*
__»¡riù
 
__d¡
,

132 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

133 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

134 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_®Ÿs
,

135 (*
__»¡riù
 
__d¡
,

136 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

137 
size_t
 
__Ën
), 
wc¡ombs
);

138 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_chk_w¬n
,

139 (*
__»¡riù
 
__d¡
,

140 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

141 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__wc¡ombs_chk
)

142 
	`__w¬Ç‰r
 ("wcstombs called with dst buffer smallerhan†en");

144 
__ex‹º_®ways_šlše
 
size_t


145 
	`__NTH
 (
	$wc¡ombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 *__»¡riù 
__¤c
,

146 
size_t
 
__Ën
))

148 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

150 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

151  
	`__wc¡ombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

152 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

153  
	`__wc¡ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

155  
	`__wc¡ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

156 
	}
}

	@/usr/include/bits/typesizes.h

20 #iâdeà
_BITS_TYPES_H


24 #iâdef 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/waitflags.h

20 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


26 
	#WNOHANG
 1

	)

27 
	#WUNTRACED
 2

	)

30 
	#WSTOPPED
 2

	)

31 
	#WEXITED
 4

	)

32 
	#WCONTINUED
 8

	)

33 
	#WNOWAIT
 0x01000000

	)

35 
	#__WNOTHREAD
 0x20000000

	)

37 
	#__WALL
 0x40000000

	)

38 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

20 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


29 
	#__WEXITSTATUS
(
¡©us
è(((¡©usè& 0xff00è>> 8)

	)

32 
	#__WTERMSIG
(
¡©us
è((¡©usè& 0x7f)

	)

35 
	#__WSTOPSIG
(
¡©us
è
	`__WEXITSTATUS
(¡©us)

	)

38 
	#__WIFEXITED
(
¡©us
è(
	`__WTERMSIG
(¡©usè=ğ0)

	)

41 
	#__WIFSIGNALED
(
¡©us
) \

42 (((sigÃd è(((
¡©us
è& 0x7fè+ 1è>> 1è> 0)

	)

45 
	#__WIFSTOPPED
(
¡©us
è(((¡©usè& 0xffè=ğ0x7f)

	)

49 #ifdeà
WCONTINUED


50 
	#__WIFCONTINUED
(
¡©us
è((¡©usè=ğ
__W_CONTINUED
)

	)

54 
	#__WCOREDUMP
(
¡©us
è((¡©usè& 
__WCOREFLAG
)

	)

57 
	#__W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

58 
	#__W_STOPCODE
(
sig
è((sigè<< 8 | 0x7f)

	)

59 
	#__W_CONTINUED
 0xffff

	)

60 
	#__WCOREFLAG
 0x80

	)

63 #ifdef 
__USE_BSD


65 
	~<’dŸn.h
>

67 
	uwa™


69 
	mw_¡©us
;

72 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


73 
	m__w_‹rmsig
:7;

74 
	m__w_cÜedump
:1;

75 
	m__w_»tcode
:8;

78 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


80 
	m__w_»tcode
:8;

81 
	m__w_cÜedump
:1;

82 
	m__w_‹rmsig
:7;

84 } 
	m__wa™_‹rmš©ed
;

87 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


88 
	m__w_¡İv®
:8;

89 
	m__w_¡İsig
:8;

92 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


94 
	m__w_¡İsig
:8;

95 
	m__w_¡İv®
:8;

97 } 
	m__wa™_¡İ³d
;

100 
	#w_‹rmsig
 
__wa™_‹rmš©ed
.
__w_‹rmsig


	)

101 
	#w_cÜedump
 
__wa™_‹rmš©ed
.
__w_cÜedump


	)

102 
	#w_»tcode
 
__wa™_‹rmš©ed
.
__w_»tcode


	)

103 
	#w_¡İsig
 
__wa™_¡İ³d
.
__w_¡İsig


	)

104 
	#w_¡İv®
 
__wa™_¡İ³d
.
__w_¡İv®


	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/gnu/stubs-32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub___k”Ãl_co¦


	)

11 
	#__¡ub___k”Ãl_sšl


	)

12 
	#__¡ub___k”Ãl_Æ


	)

13 
	#__¡ub_chæags


	)

14 
	#__¡ub_ç‰ach


	)

15 
	#__¡ub_fchæags


	)

16 
	#__¡ub_fd‘ach


	)

17 
	#__¡ub_g‰y


	)

18 
	#__¡ub_lchmod


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ç‰ach


	)

13 
	#__¡ub_fchæags


	)

14 
	#__¡ub_fd‘ach


	)

15 
	#__¡ub_g‘msg


	)

16 
	#__¡ub_g‰y


	)

17 
	#__¡ub_lchmod


	)

18 
	#__¡ub_putmsg


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/sys/types.h

24 #iâdef 
_SYS_TYPES_H


25 
	#_SYS_TYPES_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

33 #ifdef 
__USE_BSD


34 #iâdeà
__u_ch¬_defšed


35 
__u_ch¬
 
	tu_ch¬
;

36 
__u_shÜt
 
	tu_shÜt
;

37 
__u_št
 
	tu_št
;

38 
__u_lÚg
 
	tu_lÚg
;

39 
__quad_t
 
	tquad_t
;

40 
__u_quad_t
 
	tu_quad_t
;

41 
__fsid_t
 
	tfsid_t
;

42 
	#__u_ch¬_defšed


	)

46 
__loff_t
 
	tloff_t
;

48 #iâdeà
__šo_t_defšed


49 #iâdeà
__USE_FILE_OFFSET64


50 
__šo_t
 
	tšo_t
;

52 
__šo64_t
 
	tšo_t
;

54 
	#__šo_t_defšed


	)

56 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


57 
__šo64_t
 
	tšo64_t
;

58 
	#__šo64_t_defšed


	)

61 #iâdeà
__dev_t_defšed


62 
__dev_t
 
	tdev_t
;

63 
	#__dev_t_defšed


	)

66 #iâdeà
__gid_t_defšed


67 
__gid_t
 
	tgid_t
;

68 
	#__gid_t_defšed


	)

71 #iâdeà
__mode_t_defšed


72 
__mode_t
 
	tmode_t
;

73 
	#__mode_t_defšed


	)

76 #iâdeà
__Æšk_t_defšed


77 
__Æšk_t
 
	tÆšk_t
;

78 
	#__Æšk_t_defšed


	)

81 #iâdeà
__uid_t_defšed


82 
__uid_t
 
	tuid_t
;

83 
	#__uid_t_defšed


	)

86 #iâdeà
__off_t_defšed


87 #iâdeà
__USE_FILE_OFFSET64


88 
__off_t
 
	toff_t
;

90 
__off64_t
 
	toff_t
;

92 
	#__off_t_defšed


	)

94 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


95 
__off64_t
 
	toff64_t
;

96 
	#__off64_t_defšed


	)

99 #iâdeà
__pid_t_defšed


100 
__pid_t
 
	tpid_t
;

101 
	#__pid_t_defšed


	)

104 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
è&& !defšed 
__id_t_defšed


105 
__id_t
 
	tid_t
;

106 
	#__id_t_defšed


	)

109 #iâdeà
__ssize_t_defšed


110 
__ssize_t
 
	tssize_t
;

111 
	#__ssize_t_defšed


	)

114 #ifdef 
__USE_BSD


115 #iâdeà
__daddr_t_defšed


116 
__daddr_t
 
	tdaddr_t
;

117 
__ÿddr_t
 
	tÿddr_t
;

118 
	#__daddr_t_defšed


	)

122 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
è&& !defšed 
__key_t_defšed


123 
__key_t
 
	tkey_t
;

124 
	#__key_t_defšed


	)

127 #ifdeà
__USE_XOPEN


128 
	#__Ãed_şock_t


	)

130 
	#__Ãed_time_t


	)

131 
	#__Ãed_tim”_t


	)

132 
	#__Ãed_şockid_t


	)

133 
	~<time.h
>

135 #ifdeà
__USE_XOPEN


136 #iâdeà
__u£cÚds_t_defšed


137 
__u£cÚds_t
 
	tu£cÚds_t
;

138 
	#__u£cÚds_t_defšed


	)

140 #iâdeà
__su£cÚds_t_defšed


141 
__su£cÚds_t
 
	tsu£cÚds_t
;

142 
	#__su£cÚds_t_defšed


	)

146 
	#__Ãed_size_t


	)

147 
	~<¡ddef.h
>

149 #ifdeà
__USE_MISC


151 
	tulÚg
;

152 
	tushÜt
;

153 
	tušt
;

158 #ià!
__GNUC_PREREQ
 (2, 7)

161 #iâdeà
__št8_t_defšed


162 
	#__št8_t_defšed


	)

163 
	tšt8_t
;

164 
	tšt16_t
;

165 
	tšt32_t
;

166 #ià
__WORDSIZE
 == 64

167 
	tšt64_t
;

168 #–ià
__GLIBC_HAVE_LONG_LONG


169 
__ex‹nsiÚ__
 
	tšt64_t
;

174 
	tu_št8_t
;

175 
	tu_št16_t
;

176 
	tu_št32_t
;

177 #ià
__WORDSIZE
 == 64

178 
	tu_št64_t
;

179 #–ià
__GLIBC_HAVE_LONG_LONG


180 
__ex‹nsiÚ__
 
	tu_št64_t
;

183 
	t»gi¡”_t
;

188 
	#__štN_t
(
N
, 
MODE
) \

189 ##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

190 
	t__u_štN_t
(
	tN
, 
	tMODE
) \

191 
	tu_št
##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

193 #iâdeà
	t__št8_t_defšed


194 
	t__št8_t_defšed


	)

195 
	t__štN_t
 (8, 
	t__QI__
);

196 
__štN_t
 (16, 
__HI__
);

197 
__štN_t
 (32, 
__SI__
);

198 
__štN_t
 (64, 
__DI__
);

201 
__u_štN_t
 (8, 
__QI__
);

202 
__u_štN_t
 (16, 
__HI__
);

203 
__u_štN_t
 (32, 
__SI__
);

204 
__u_štN_t
 (64, 
__DI__
);

206 
	t»gi¡”_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__wÜd__
)));

212 
	#__BIT_TYPES_DEFINED__
 1

	)

215 #ifdef 
__USE_BSD


217 
	~<’dŸn.h
>

220 
	~<sys/£Ëù.h
>

223 
	~<sys/sysmaüos.h
>

227 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__blksize_t_defšed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_defšed


	)

233 #iâdeà
__USE_FILE_OFFSET64


234 #iâdeà
__blkút_t_defšed


235 
__blkút_t
 
	tblkút_t
;

236 
	#__blkút_t_defšed


	)

238 #iâdeà
__fsblkút_t_defšed


239 
__fsblkút_t
 
	tfsblkút_t
;

240 
	#__fsblkút_t_defšed


	)

242 #iâdeà
__fsfút_t_defšed


243 
__fsfút_t
 
	tfsfút_t
;

244 
	#__fsfút_t_defšed


	)

247 #iâdeà
__blkút_t_defšed


248 
__blkút64_t
 
	tblkút_t
;

249 
	#__blkút_t_defšed


	)

251 #iâdeà
__fsblkút_t_defšed


252 
__fsblkút64_t
 
	tfsblkút_t
;

253 
	#__fsblkút_t_defšed


	)

255 #iâdeà
__fsfút_t_defšed


256 
__fsfút64_t
 
	tfsfút_t
;

257 
	#__fsfút_t_defšed


	)

261 #ifdeà
__USE_LARGEFILE64


262 
__blkút64_t
 
	tblkút64_t
;

263 
__fsblkút64_t
 
	tfsblkút64_t
;

264 
__fsfút64_t
 
	tfsfút64_t
;

269 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


270 
	~<b™s/±h»adty³s.h
>

273 
	g__END_DECLS


	@/usr/include/bits/pthreadtypes.h

20 #iâdeà
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<b™s/wÜdsize.h
>

25 #ià
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	t±h»ad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__®ign
;

57 } 
	t±h»ad_©Œ_t
;

60 #ià
__WORDSIZE
 == 64

61 
	s__±h»ad_š‹º®_li¡


63 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

64 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

65 } 
	t__±h»ad_li¡_t
;

67 
	s__±h»ad_š‹º®_¦i¡


69 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

70 } 
	t__±h»ad_¦i¡_t
;

78 
	s__±h»ad_mu‹x_s


80 
	m__lock
;

81 
	m__couÁ
;

82 
	m__owÃr
;

83 #ià
__WORDSIZE
 == 64

84 
	m__nu£rs
;

88 
	m__kšd
;

89 #ià
__WORDSIZE
 == 64

90 
	m__¥šs
;

91 
__±h»ad_li¡_t
 
	m__li¡
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nu£rs
;

95 
__ex‹nsiÚ__
 union

97 
	m__¥šs
;

98 
__±h»ad_¦i¡_t
 
	m__li¡
;

101 } 
	m__d©a
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__®ign
;

104 } 
	t±h»ad_mu‹x_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__®ign
;

110 } 
	t±h»ad_mu‹x©Œ_t
;

119 
	m__lock
;

120 
	m__fu‹x
;

121 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

122 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

123 
__ex‹nsiÚ__
 
	m__wok’_£q
;

124 *
	m__mu‹x
;

125 
	m__nwa™”s
;

126 
	m__brßdÿ¡_£q
;

127 } 
	m__d©a
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__ex‹nsiÚ__
 
	m__®ign
;

130 } 
	t±h»ad_cÚd_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__®ign
;

136 } 
	t±h»ad_cÚd©Œ_t
;

140 
	t±h»ad_key_t
;

144 
	t±h»ad_Úû_t
;

147 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


152 #ià
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m__Ä_»ad”s
;

157 
	m__»ad”s_wakeup
;

158 
	m__wr™”_wakeup
;

159 
	m__Ä_»ad”s_queued
;

160 
	m__Ä_wr™”s_queued
;

161 
	m__wr™”
;

162 
	m__sh¬ed
;

163 
	m__·d1
;

164 
	m__·d2
;

167 
	m__æags
;

168 } 
	m__d©a
;

172 
	m__lock
;

173 
	m__Ä_»ad”s
;

174 
	m__»ad”s_wakeup
;

175 
	m__wr™”_wakeup
;

176 
	m__Ä_»ad”s_queued
;

177 
	m__Ä_wr™”s_queued
;

180 
	m__æags
;

181 
	m__sh¬ed
;

182 
	m__·d1
;

183 
	m__·d2
;

184 
	m__wr™”
;

185 } 
	m__d©a
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__®ign
;

189 } 
	t±h»ad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__®ign
;

195 } 
	t±h»ad_rwlock©Œ_t
;

199 #ifdeà
__USE_XOPEN2K


201 vŞ©
	t±h»ad_¥šlock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__®ign
;

210 } 
	t±h»ad_b¬r›r_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__®ign
;

216 } 
	t±h»ad_b¬r›¿‰r_t
;

220 #ià
__WORDSIZE
 == 32

222 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/sys/select.h

22 #iâdeà
_SYS_SELECT_H


23 
	#_SYS_SELECT_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	~<b™s/ty³s.h
>

31 
	~<b™s/£Ëù.h
>

34 
	~<b™s/sig£t.h
>

36 #iâdeà
__sig£t_t_defšed


37 
	#__sig£t_t_defšed


	)

38 
__sig£t_t
 
	tsig£t_t
;

42 
	#__Ãed_time_t


	)

43 
	#__Ãed_time¥ec


	)

44 
	~<time.h
>

45 
	#__Ãed_timev®


	)

46 
	~<b™s/time.h
>

48 #iâdeà
__su£cÚds_t_defšed


49 
__su£cÚds_t
 
	tsu£cÚds_t
;

50 
	#__su£cÚds_t_defšed


	)

55 
	t__fd_mask
;

58 #undeà
__NFDBITS


59 #undeà
__FDELT


60 #undeà
__FDMASK


62 
	#__NFDBITS
 (8 * (è (
__fd_mask
))

	)

63 
	#__FDELT
(
d
è((dè/ 
__NFDBITS
)

	)

64 
	#__FDMASK
(
d
è((
__fd_mask
è1 << ((dè% 
__NFDBITS
))

	)

71 #ifdeà
__USE_XOPEN


72 
__fd_mask
 
	mfds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
è((£t)->
fds_b™s
)

	)

75 
__fd_mask
 
	m__fds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

76 
	#__FDS_BITS
(
£t
è((£t)->
__fds_b™s
)

	)

78 } 
	tfd_£t
;

81 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

83 #ifdeà
__USE_MISC


85 
__fd_mask
 
	tfd_mask
;

88 
	#NFDBITS
 
__NFDBITS


	)

93 
	#FD_SET
(
fd
, 
fd£
è
	`__FD_SET
 (fd, fd£)

	)

94 
	#FD_CLR
(
fd
, 
fd£
è
	`__FD_CLR
 (fd, fd£)

	)

95 
	#FD_ISSET
(
fd
, 
fd£
è
	`__FD_ISSET
 (fd, fd£)

	)

96 
	#FD_ZERO
(
fd£
è
	`__FD_ZERO
 (fd£)

	)

99 
__BEGIN_DECLS


109 
£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

110 
fd_£t
 *
__»¡riù
 
__wr™efds
,

111 
fd_£t
 *
__»¡riù
 
__exû±fds
,

112 
timev®
 *
__»¡riù
 
__timeout
);

114 #ifdeà
__USE_XOPEN2K


121 
p£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

122 
fd_£t
 *
__»¡riù
 
__wr™efds
,

123 
fd_£t
 *
__»¡riù
 
__exû±fds
,

124 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
,

125 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__sigmask
);

128 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

21 #iâdeà
_SYS_SYSMACROS_H


22 
	#_SYS_SYSMACROS_H
 1

	)

24 
	~<ã©u»s.h
>

29 #ifdeà
__GLIBC_HAVE_LONG_LONG


30 
__ex‹nsiÚ__


31 
	$gnu_dev_majÜ
 (
__dev
)

32 
__THROW
;

33 
__ex‹nsiÚ__


34 
	$gnu_dev_mšÜ
 (
__dev
)

35 
__THROW
;

36 
__ex‹nsiÚ__


37 
	$gnu_dev_makedev
 (
__majÜ
,

38 
__mšÜ
)

39 
__THROW
;

41 #ià
defšed
 
__GNUC__
 && __GNUC__ >ğ2 && defšed 
__USE_EXTERN_INLINES


42 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

43 
	`__NTH
 (
	$gnu_dev_majÜ
 (
__dev
))

45  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

46 
	}
}

48 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

49 
__NTH
 (
	$gnu_dev_mšÜ
 (
__dev
))

51  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

52 
	}
}

54 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

55 
__NTH
 (
	$gnu_dev_makedev
 (
__majÜ
, 
__mšÜ
))

57  ((
__mšÜ
 & 0xffè| ((
__majÜ
 & 0xfff) << 8)

58 | (((è(
__mšÜ
 & ~0xff)) << 12)

59 | (((è(
__majÜ
 & ~0xfff)) << 32));

60 
	}
}

65 
	#majÜ
(
dev
è
	`gnu_dev_majÜ
 (dev)

	)

66 
	#mšÜ
(
dev
è
	`gnu_dev_mšÜ
 (dev)

	)

67 
	#makedev
(
maj
, 
mš
è
	`gnu_dev_makedev
 (maj, mš)

	)

	@/usr/include/time.h

23 #iâdef 
_TIME_H


25 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

26 ! 
defšed
 
	g__Ãed_time¥ec
)

27 
	#_TIME_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__Ãed_size_t


	)

37 
	#__Ãed_NULL


	)

38 
	~<¡ddef.h
>

42 
	~<b™s/time.h
>

45 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


46 #iâdeà
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

54 
	#__şock_t_defšed
 1

	)

56 
	~<b™s/ty³s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__şock_t
 
	tşock_t
;

61 
	g__END_NAMESPACE_STD


62 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
şock_t
)

67 #undeà
__Ãed_şock_t


69 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

70 
	#__time_t_defšed
 1

	)

72 
	~<b™s/ty³s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #undeà
__Ãed_time_t


85 #ià!
defšed
 
__şockid_t_defšed
 && \

86 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

87 
	#__şockid_t_defšed
 1

	)

89 
	~<b™s/ty³s.h
>

92 
__şockid_t
 
	tşockid_t
;

95 #undeà
__şockid_time_t


97 #ià!
defšed
 
__tim”_t_defšed
 && \

98 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

99 
	#__tim”_t_defšed
 1

	)

101 
	~<b™s/ty³s.h
>

104 
__tim”_t
 
	ttim”_t
;

107 #undeà
__Ãed_tim”_t


110 #ià!
defšed
 
__time¥ec_defšed
 && \

111 ((
defšed
 
_TIME_H
 && \

112 (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
)) || \

113 
defšed
 
__Ãed_time¥ec
)

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__cÚ¡
 *
tm_zÚe
;

149 
__tm_gmtoff
;

150 
__cÚ¡
 *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 
__BEGIN_NAMESPACE_STD


183 
şock_t
 
	$şock
 (è
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

189 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

190 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

193 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

199 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

200 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

201 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifdeà
__USE_XOPEN


207 *
	$¡½time
 (
__cÚ¡
 *
__»¡riù
 
__s
,

208 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
)

209 
__THROW
;

212 #ifdeà
__USE_XOPEN2K8


215 
	~<xloÿË.h
>

217 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

218 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

219 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

220 
__loÿË_t
 
__loc
è
__THROW
;

223 #ifdeà
__USE_GNU


224 *
	$¡½time_l
 (
__cÚ¡
 *
__»¡riù
 
__s
,

225 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

237 
tm
 *
	$loÿÉime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

238 
__END_NAMESPACE_STD


240 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

244 
tm
 *
__»¡riù
 
__
è
__THROW
;

248 
tm
 *
	$loÿÉime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

249 
tm
 *
__»¡riù
 
__
è
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$asùime
 (
__cÚ¡
 
tm
 *
__
è
__THROW
;

258 *
	$ùime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

259 
__END_NAMESPACE_STD


261 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


266 *
	$asùime_r
 (
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

267 *
__»¡riù
 
__buf
è
__THROW
;

270 *
	$ùime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

271 *
__»¡riù
 
__buf
è
__THROW
;

276 *
__tzÇme
[2];

277 
__daylight
;

278 
__timezÚe
;

281 #ifdef 
__USE_POSIX


283 *
tzÇme
[2];

287 
	$tz£t
 (è
__THROW
;

290 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


291 
daylight
;

292 
timezÚe
;

295 #ifdeà
__USE_SVID


298 
	$¡ime
 (
__cÚ¡
 
time_t
 *
__wh’
è
__THROW
;

304 
	#__i¦—p
(
y—r
) \

305 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

308 #ifdeà
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

316 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

319 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

323 #ifdeà
__USE_POSIX199309


328 
	`Çno¦“p
 (
__cÚ¡
 
time¥ec
 *
__»que¡ed_time
,

329 
time¥ec
 *
__»maššg
);

333 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

336 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

339 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, 
__cÚ¡
 
time¥ec
 *
__
)

340 
__THROW
;

342 #ifdeà
__USE_XOPEN2K


347 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

348 
__cÚ¡
 
time¥ec
 *
__»q
,

349 
time¥ec
 *
__»m
);

352 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

357 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

358 
sigev’t
 *
__»¡riù
 
__evp
,

359 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

362 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

365 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

366 
__cÚ¡
 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

367 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

370 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

371 
__THROW
;

374 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

378 #ifdeà
__USE_XOPEN_EXTENDED


390 
g‘d©e_”r
;

399 
tm
 *
	`g‘d©e
 (
__cÚ¡
 *
__¡ršg
);

402 #ifdeà
__USE_GNU


413 
	`g‘d©e_r
 (
__cÚ¡
 *
__»¡riù
 
__¡ršg
,

414 
tm
 *
__»¡riù
 
__»sbuå
);

417 
__END_DECLS


	@/usr/include/bits/select.h

19 #iâdeà
_SYS_SELECT_H


23 
	~<b™s/wÜdsize.h
>

26 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

28 #ià
__WORDSIZE
 == 64

29 
	#__FD_ZERO_STOS
 "¡osq"

	)

31 
	#__FD_ZERO_STOS
 "¡o¦"

	)

34 
	#__FD_ZERO
(
fd¥
) \

36 
__d0
, 
__d1
; \

37 
__asm__
 
	`__vŞ©e__
 ("şd;„•; " 
__FD_ZERO_STOS
 \

38 : "=c" (
__d0
), "=D" (
__d1
) \

39 : "a" (0), "0" ( (
fd_£t
) \

40 /  (
__fd_mask
)), \

41 "1" (&
	`__FDS_BITS
 (
fd¥
)[0]) \

43 } 0)

	)

49 
	#__FD_ZERO
(
£t
) \

51 
__i
; \

52 
fd_£t
 *
__¬r
 = (
£t
); \

53 
__i
 = 0; __˜<  (
fd_£t
è/  (
__fd_mask
); ++__i) \

54 
	`__FDS_BITS
 (
__¬r
)[
__i
] = 0; \

55 } 0)

	)

59 
	#__FD_SET
(
d
, 
£t
è(
	`__FDS_BITS
 (£t)[
	`__FDELT
 (d)] |ğ
	`__FDMASK
 (d))

	)

60 
	#__FD_CLR
(
d
, 
£t
è(
	`__FDS_BITS
 (£t)[
	`__FDELT
 (d)] &ğ~
	`__FDMASK
 (d))

	)

61 
	#__FD_ISSET
(
d
, 
£t
) \

62 ((
	`__FDS_BITS
 (
£t
)[
	`__FDELT
 (
d
)] & 
	`__FDMASK
 (d)è!ğ0)

	)

	@/usr/include/bits/sigset.h

21 #iâdef 
_SIGSET_H_ty³s


22 
	#_SIGSET_H_ty³s
 1

	)

24 
	t__sig_©omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__v®
[
_SIGSET_NWORDS
];

32 } 
	t__sig£t_t
;

43 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


44 
	#_SIGSET_H_âs
 1

	)

46 #iâdeà
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

51 
	#__sigmask
(
sig
) \

52 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

55 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

57 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigem±y£t
(
£t
) \

59 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

60 
sig£t_t
 *
__£t
 = (
£t
); \

61 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigfl£t
(
£t
) \

64 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

65 
sig£t_t
 *
__£t
 = (
£t
); \

66 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifdeà
__USE_GNU


73 
	#__sigi£m±y£t
(
£t
) \

74 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

75 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

76 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

77 !
__»t
 && --
__út
 >= 0) \

78 
__»t
 = 
__£t
->
__v®
[
__út
]; \

79 
__»t
 =ğ0; }))

	)

80 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

81 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

82 
sig£t_t
 *
__de¡
 = (
de¡
); \

83 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

84 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

85 --
__út
 >= 0) \

86 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

87 & 
__right
->
__v®
[
__út
]); \

88 0; }))

	)

89 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

90 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

91 
sig£t_t
 *
__de¡
 = (
de¡
); \

92 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

93 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

94 --
__út
 >= 0) \

95 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

96 | 
__right
->
__v®
[
__út
]); \

97 0; }))

	)

104 
__sigismemb”
 (
__cÚ¡
 
__sig£t_t
 *, );

105 
__sigadd£t
 (
__sig£t_t
 *, );

106 
__sigd–£t
 (
__sig£t_t
 *, );

108 #ifdeà
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
è? 1 : 0, 
__cÚ¡
)

119 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

120 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

122 #undeà
__SIGSETFN


	@/usr/include/bits/time.h

24 #iâdeà
__Ãed_timev®


25 #iâdeà
_BITS_TIME_H


26 
	#_BITS_TIME_H
 1

	)

34 
	#CLOCKS_PER_SEC
 1000000l

	)

36 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


39 
	~<b™s/ty³s.h
>

40 
__syscÚf
 ();

41 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

44 #ifdeà
__USE_POSIX199309


46 
	#CLOCK_REALTIME
 0

	)

48 
	#CLOCK_MONOTONIC
 1

	)

50 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

52 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

55 
	#TIMER_ABSTIME
 1

	)

61 #ifdeà
__Ãed_timev®


62 #undeà
__Ãed_timev®


63 #iâdeà
_STRUCT_TIMEVAL


64 
	#_STRUCT_TIMEVAL
 1

	)

65 
	~<b™s/ty³s.h
>

69 
	stimev®


71 
__time_t
 
	mtv_£c
;

72 
__su£cÚds_t
 
	mtv_u£c
;

	@
1
.
1
/usr/include
70
1187
config.c
config.h
controller.c
controller.h
cpuid.c
cpuid.h
defs.h
dmi.c
dmi.h
elf.h
error.c
extra.c
extra.h
init.c
io.h
jedec_id.h
lib.c
linuxbios.c
linuxbios_tables.h
main.c
memsize.c
msr.h
patn.c
pci.c
pci.h
random.c
reloc.c
screen_buffer.c
screen_buffer.h
serial.h
smp.c
smp.h
spd.c
spd.h
stdint.h
test.c
test.h
/usr/include/inttypes.h
/usr/include/string.h
/usr/include/sys/io.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/features.h
/usr/include/xlocale.h
/usr/include/bits/predefs.h
/usr/include/bits/types.h
/usr/include/endian.h
/usr/include/gnu/stubs.h
/usr/include/stdlib.h
/usr/include/sys/cdefs.h
/usr/include/alloca.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/typesizes.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wordsize.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/sys/types.h
/usr/include/bits/pthreadtypes.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/time.h
/usr/include/bits/select.h
/usr/include/bits/sigset.h
/usr/include/bits/time.h
